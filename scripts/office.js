
/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */

(function( global, factory ) {

	if ( typeof module === "object" && typeof module.exports === "object" ) {
		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
}(typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Support: Firefox 18+
// Can't be in strict mode, several libs including ASP.NET trace
// the stack via arguments.caller.callee and Firefox dies if
// you try to trace through "use strict" call chains. (#13335)
//

var arr = [];

var slice = arr.slice;

var concat = arr.concat;

var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var support = {};



var
	// Use the correct document accordingly with window argument (sandbox)
	document = window.document,

	version = "2.1.4",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {
		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	},

	// Support: Android<4.1
	// Make sure we trim BOM and NBSP
	rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

	// Matches dashed string for camelizing
	rmsPrefix = /^-ms-/,
	rdashAlpha = /-([\da-z])/gi,

	// Used by jQuery.camelCase as callback to replace()
	fcamelCase = function( all, letter ) {
		return letter.toUpperCase();
	};

jQuery.fn = jQuery.prototype = {
	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// Start with an empty selector
	selector: "",

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {
		return num != null ?

			// Return just the one element from the set
			( num < 0 ? this[ num + this.length ] : this[ num ] ) :

			// Return all the elements in a clean array
			slice.call( this );
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;
		ret.context = this.context;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	// (You can seed the arguments with an array of args, but this is
	// only used internally.)
	each: function( callback, args ) {
		return jQuery.each( this, callback, args );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map(this, function( elem, i ) {
			return callback.call( elem, i, elem );
		}));
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor(null);
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[0] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !jQuery.isFunction(target) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {
		// Only deal with non-null/undefined values
		if ( (options = arguments[ i ]) != null ) {
			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {
					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && jQuery.isArray(src) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject(src) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend({
	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isFunction: function( obj ) {
		return jQuery.type(obj) === "function";
	},

	isArray: Array.isArray,

	isWindow: function( obj ) {
		return obj != null && obj === obj.window;
	},

	isNumeric: function( obj ) {
		// parseFloat NaNs numeric-cast false positives (null|true|false|"")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		// adding 1 corrects loss of precision from parseFloat (#15100)
		return !jQuery.isArray( obj ) && (obj - parseFloat( obj ) + 1) >= 0;
	},

	isPlainObject: function( obj ) {
		// Not plain objects:
		// - Any object or value whose internal [[Class]] property is not "[object Object]"
		// - DOM nodes
		// - window
		if ( jQuery.type( obj ) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
			return false;
		}

		if ( obj.constructor &&
				!hasOwn.call( obj.constructor.prototype, "isPrototypeOf" ) ) {
			return false;
		}

		// If the function hasn't returned already, we're confident that
		// |obj| is a plain object, created by {} or constructed with new Object
		return true;
	},

	isEmptyObject: function( obj ) {
		var name;
		for ( name in obj ) {
			return false;
		}
		return true;
	},

	type: function( obj ) {
		if ( obj == null ) {
			return obj + "";
		}
		// Support: Android<4.0, iOS<6 (functionish RegExp)
		return typeof obj === "object" || typeof obj === "function" ?
			class2type[ toString.call(obj) ] || "object" :
			typeof obj;
	},

	// Evaluates a script in a global context
	globalEval: function( code ) {
		var script,
			indirect = eval;

		code = jQuery.trim( code );

		if ( code ) {
			// If the code includes a valid, prologue position
			// strict mode pragma, execute code by injecting a
			// script tag into the document.
			if ( code.indexOf("use strict") === 1 ) {
				script = document.createElement("script");
				script.text = code;
				document.head.appendChild( script ).parentNode.removeChild( script );
			} else {
			// Otherwise, avoid the DOM node creation, insertion
			// and removal by using an indirect global eval
				indirect( code );
			}
		}
	},

	// Convert dashed to camelCase; used by the css and data modules
	// Support: IE9-11+
	// Microsoft forgot to hump their vendor prefix (#9572)
	camelCase: function( string ) {
		return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
	},

	nodeName: function( elem, name ) {
		return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
	},

	// args is for internal usage only
	each: function( obj, callback, args ) {
		var value,
			i = 0,
			length = obj.length,
			isArray = isArraylike( obj );

		if ( args ) {
			if ( isArray ) {
				for ( ; i < length; i++ ) {
					value = callback.apply( obj[ i ], args );

					if ( value === false ) {
						break;
					}
				}
			} else {
				for ( i in obj ) {
					value = callback.apply( obj[ i ], args );

					if ( value === false ) {
						break;
					}
				}
			}

		// A special, fast, case for the most common use of each
		} else {
			if ( isArray ) {
				for ( ; i < length; i++ ) {
					value = callback.call( obj[ i ], i, obj[ i ] );

					if ( value === false ) {
						break;
					}
				}
			} else {
				for ( i in obj ) {
					value = callback.call( obj[ i ], i, obj[ i ] );

					if ( value === false ) {
						break;
					}
				}
			}
		}

		return obj;
	},

	// Support: Android<4.1
	trim: function( text ) {
		return text == null ?
			"" :
			( text + "" ).replace( rtrim, "" );
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArraylike( Object(arr) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var value,
			i = 0,
			length = elems.length,
			isArray = isArraylike( elems ),
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArray ) {
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// Bind a function to a context, optionally partially applying any
	// arguments.
	proxy: function( fn, context ) {
		var tmp, args, proxy;

		if ( typeof context === "string" ) {
			tmp = fn[ context ];
			context = fn;
			fn = tmp;
		}

		// Quick check to determine if target is callable, in the spec
		// this throws a TypeError, but we will just return undefined.
		if ( !jQuery.isFunction( fn ) ) {
			return undefined;
		}

		// Simulated bind
		args = slice.call( arguments, 2 );
		proxy = function() {
			return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
		};

		// Set the guid of unique handler to the same of original handler, so it can be removed
		proxy.guid = fn.guid = fn.guid || jQuery.guid++;

		return proxy;
	},

	now: Date.now,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
});

// Populate the class2type map
jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(i, name) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
});

function isArraylike( obj ) {

	// Support: iOS 8.2 (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = "length" in obj && obj.length,
		type = jQuery.type( obj );

	if ( type === "function" || jQuery.isWindow( obj ) ) {
		return false;
	}

	if ( obj.nodeType === 1 && length ) {
		return true;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
(function( window ) {

var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// General-purpose constants
	MAX_NEGATIVE = 1 << 31,

	// Instance methods
	hasOwn = ({}).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	push_native = arr.push,
	push = arr.push,
	slice = arr.slice,
	// Use a stripped-down indexOf as it's faster than native
	// http://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[i] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",
	// http://www.w3.org/TR/css3-syntax/#characters
	characterEncoding = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",

	// Loosely modeled on CSS identifier characters
	// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors
	// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
	identifier = characterEncoding.replace( "w", "w#" ),

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + characterEncoding + ")(?:" + whitespace +
		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +
		// "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
		"*\\]",

	pseudos = ":(" + characterEncoding + ")(?:\\((" +
		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),

	rattributeQuotes = new RegExp( "=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + characterEncoding + ")" ),
		"CLASS": new RegExp( "^\\.(" + characterEncoding + ")" ),
		"TAG": new RegExp( "^(" + characterEncoding.replace( "w", "w*" ) + ")" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
			"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
			"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
			whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,
	rescape = /'|\\/g,

	// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
	funescape = function( _, escaped, escapedWhitespace ) {
		var high = "0x" + escaped - 0x10000;
		// NaN means non-codepoint
		// Support: Firefox<24
		// Workaround erroneous numeric interpretation of +"0x"
		return high !== high || escapedWhitespace ?
			escaped :
			high < 0 ?
				// BMP codepoint
				String.fromCharCode( high + 0x10000 ) :
				// Supplemental Plane codepoint (surrogate pair)
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	};

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		(arr = slice.call( preferredDoc.childNodes )),
		preferredDoc.childNodes
	);
	// Support: Android<4.0
	// Detect silently failing push.apply
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			push_native.apply( target, slice.call(els) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;
			// Can't trust NodeList.length
			while ( (target[j++] = els[i++]) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var match, elem, m, nodeType,
		// QSA vars
		i, groups, old, nid, newContext, newSelector;

	if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
		setDocument( context );
	}

	context = context || document;
	results = results || [];
	nodeType = context.nodeType;

	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	if ( !seed && documentIsHTML ) {

		// Try to shortcut find operations when possible (e.g., not under DocumentFragment)
		if ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {
			// Speed-up: Sizzle("#ID")
			if ( (m = match[1]) ) {
				if ( nodeType === 9 ) {
					elem = context.getElementById( m );
					// Check parentNode to catch when Blackberry 4.6 returns
					// nodes that are no longer in the document (jQuery #6963)
					if ( elem && elem.parentNode ) {
						// Handle the case where IE, Opera, and Webkit return items
						// by name instead of ID
						if ( elem.id === m ) {
							results.push( elem );
							return results;
						}
					} else {
						return results;
					}
				} else {
					// Context is not a document
					if ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&
						contains( context, elem ) && elem.id === m ) {
						results.push( elem );
						return results;
					}
				}

			// Speed-up: Sizzle("TAG")
			} else if ( match[2] ) {
				push.apply( results, context.getElementsByTagName( selector ) );
				return results;

			// Speed-up: Sizzle(".CLASS")
			} else if ( (m = match[3]) && support.getElementsByClassName ) {
				push.apply( results, context.getElementsByClassName( m ) );
				return results;
			}
		}

		// QSA path
		if ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {
			nid = old = expando;
			newContext = context;
			newSelector = nodeType !== 1 && selector;

			// qSA works strangely on Element-rooted queries
			// We can work around this by specifying an extra ID on the root
			// and working up from there (Thanks to Andrew Dupont for the technique)
			// IE 8 doesn't work on object elements
			if ( nodeType === 1 && context.nodeName.toLowerCase() !== "object" ) {
				groups = tokenize( selector );

				if ( (old = context.getAttribute("id")) ) {
					nid = old.replace( rescape, "\\$&" );
				} else {
					context.setAttribute( "id", nid );
				}
				nid = "[id='" + nid + "'] ";

				i = groups.length;
				while ( i-- ) {
					groups[i] = nid + toSelector( groups[i] );
				}
				newContext = rsibling.test( selector ) && testContext( context.parentNode ) || context;
				newSelector = groups.join(",");
			}

			if ( newSelector ) {
				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch(qsaError) {
				} finally {
					if ( !old ) {
						context.removeAttribute("id");
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {Function(string, Object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {
		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {
			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return (cache[ key + " " ] = value);
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created div and expects a boolean result
 */
function assert( fn ) {
	var div = document.createElement("div");

	try {
		return !!fn( div );
	} catch (e) {
		return false;
	} finally {
		// Remove from its parent by default
		if ( div.parentNode ) {
			div.parentNode.removeChild( div );
		}
		// release memory in IE
		div = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split("|"),
		i = attrs.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[i] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			( ~b.sourceIndex || MAX_NEGATIVE ) -
			( ~a.sourceIndex || MAX_NEGATIVE );

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( (cur = cur.nextSibling) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return (name === "input" || name === "button") && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction(function( argument ) {
		argument = +argument;
		return markFunction(function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ (j = matchIndexes[i]) ] ) {
					seed[j] = !(matches[j] = seed[j]);
				}
			}
		});
	});
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	// documentElement is verified for cases where it doesn't yet exist
	// (such as loading iframes in IE - #4833)
	var documentElement = elem && (elem.ownerDocument || elem).documentElement;
	return documentElement ? documentElement.nodeName !== "HTML" : false;
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, parent,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// If no document and documentElement is available, return
	if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Set our document
	document = doc;
	docElem = doc.documentElement;
	parent = doc.defaultView;

	// Support: IE>8
	// If iframe document is assigned to "document" variable and if iframe has been reloaded,
	// IE will throw "permission denied" error when accessing "document" variable, see jQuery #13936
	// IE6-8 do not support the defaultView property so parent will be undefined
	if ( parent && parent !== parent.top ) {
		// IE11 does not have attachEvent, so all must suffer
		if ( parent.addEventListener ) {
			parent.addEventListener( "unload", unloadHandler, false );
		} else if ( parent.attachEvent ) {
			parent.attachEvent( "onunload", unloadHandler );
		}
	}

	/* Support tests
	---------------------------------------------------------------------- */
	documentIsHTML = !isXML( doc );

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert(function( div ) {
		div.className = "i";
		return !div.getAttribute("className");
	});

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert(function( div ) {
		div.appendChild( doc.createComment("") );
		return !div.getElementsByTagName("*").length;
	});

	// Support: IE<9
	support.getElementsByClassName = rnative.test( doc.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert(function( div ) {
		docElem.appendChild( div ).id = expando;
		return !doc.getElementsByName || !doc.getElementsByName( expando ).length;
	});

	// ID find and filter
	if ( support.getById ) {
		Expr.find["ID"] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var m = context.getElementById( id );
				// Check parentNode to catch when Blackberry 4.6 returns
				// nodes that are no longer in the document #6963
				return m && m.parentNode ? [ m ] : [];
			}
		};
		Expr.filter["ID"] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute("id") === attrId;
			};
		};
	} else {
		// Support: IE6/7
		// getElementById is not reliable as a find shortcut
		delete Expr.find["ID"];

		Expr.filter["ID"] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
				return node && node.value === attrId;
			};
		};
	}

	// Tag
	Expr.find["TAG"] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,
				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( (elem = results[i++]) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
		if ( documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See http://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {
		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert(function( div ) {
			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// http://bugs.jquery.com/ticket/12359
			docElem.appendChild( div ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\f]' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( div.querySelectorAll("[msallowcapture^='']").length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !div.querySelectorAll("[selected]").length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.2+, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.7+
			if ( !div.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push("~=");
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":checked").length ) {
				rbuggyQSA.push(":checked");
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibing-combinator selector` fails
			if ( !div.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push(".#.+[+~]");
			}
		});

		assert(function( div ) {
			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = doc.createElement("input");
			input.setAttribute( "type", "hidden" );
			div.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( div.querySelectorAll("[name=d]").length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":enabled").length ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Opera 10-11 does not throw on post-comma invalid pseudos
			div.querySelectorAll("*,:x");
			rbuggyQSA.push(",.*:");
		});
	}

	if ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector) )) ) {

		assert(function( div ) {
			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( div, "div" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( div, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		});
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully does not implement inclusive descendent
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			));
		} :
		function( a, b ) {
			if ( b ) {
				while ( (b = b.parentNode) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {

			// Choose the first element that is related to our preferred document
			if ( a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {
				return -1;
			}
			if ( b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {
		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {
			return a === doc ? -1 :
				b === doc ? 1 :
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( (cur = cur.parentNode) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( (cur = cur.parentNode) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[i] === bp[i] ) {
			i++;
		}

		return i ?
			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[i], bp[i] ) :

			// Otherwise nodes in our document sort first
			ap[i] === preferredDoc ? -1 :
			bp[i] === preferredDoc ? 1 :
			0;
	};

	return doc;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	// Make sure that attribute selectors are quoted
	expr = expr.replace( rattributeQuotes, "='$1']" );

	if ( support.matchesSelector && documentIsHTML &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||
					// As well, disconnected nodes are said to be in a document
					// fragment in IE 9
					elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch (e) {}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {
	// Set document vars if needed
	if ( ( context.ownerDocument || context ) !== document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],
		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			(val = elem.getAttributeNode(name)) && val.specified ?
				val.value :
				null;
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( (elem = results[i++]) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {
		// If no nodeType, this is expected to be an array
		while ( (node = elem[i++]) ) {
			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {
			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}
	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[1] = match[1].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[3] = ( match[3] || match[4] || match[5] || "" ).replace( runescape, funescape );

			if ( match[2] === "~=" ) {
				match[3] = " " + match[3] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {
			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[1] = match[1].toLowerCase();

			if ( match[1].slice( 0, 3 ) === "nth" ) {
				// nth-* requires argument
				if ( !match[3] ) {
					Sizzle.error( match[0] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
				match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );

			// other types prohibit arguments
			} else if ( match[3] ) {
				Sizzle.error( match[0] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[6] && match[2];

			if ( matchExpr["CHILD"].test( match[0] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[3] ) {
				match[2] = match[4] || match[5] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&
				// Get excess from tokenize (recursively)
				(excess = tokenize( unquoted, true )) &&
				// advance to the next closing parenthesis
				(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

				// excess is a negative index
				match[0] = match[0].slice( 0, excess );
				match[2] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() { return true; } :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				(pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
				classCache( className, function( elem ) {
					return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "" );
				});
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
			};
		},

		"CHILD": function( type, what, argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, context, xml ) {
					var cache, outerCache, node, diff, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( (node = node[ dir ]) ) {
									if ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {
										return false;
									}
								}
								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {
							// Seek `elem` from a previously-cached index
							outerCache = parent[ expando ] || (parent[ expando ] = {});
							cache = outerCache[ type ] || [];
							nodeIndex = cache[0] === dirruns && cache[1];
							diff = cache[0] === dirruns && cache[2];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( (node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								(diff = nodeIndex = 0) || start.pop()) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									outerCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						// Use previously-cached element index if available
						} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {
							diff = cache[1];

						// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)
						} else {
							// Use the same loop as above to seek `elem` from the start
							while ( (node = ++nodeIndex && node && node[ dir ] ||
								(diff = nodeIndex = 0) || start.pop()) ) {

								if ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {
									// Cache the index of each encountered element
									if ( useCache ) {
										(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];
									}

									if ( node === elem ) {
										break;
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {
			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction(function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[i] );
							seed[ idx ] = !( matches[ idx ] = matched[i] );
						}
					}) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {
		// Potentially complex pseudos
		"not": markFunction(function( selector ) {
			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction(function( seed, matches, context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( (elem = unmatched[i]) ) {
							seed[i] = !(matches[i] = elem);
						}
					}
				}) :
				function( elem, context, xml ) {
					input[0] = elem;
					matcher( input, null, xml, results );
					// Don't keep the element (issue #299)
					input[0] = null;
					return !results.pop();
				};
		}),

		"has": markFunction(function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		}),

		"contains": markFunction(function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
			};
		}),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {
			// lang value must be a valid identifier
			if ( !ridentifier.test(lang || "") ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( (elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( (elem = elem.parentNode) && elem.nodeType === 1 );
				return false;
			};
		}),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
		},

		// Boolean properties
		"enabled": function( elem ) {
			return elem.disabled === false;
		},

		"disabled": function( elem ) {
			return elem.disabled === true;
		},

		"checked": function( elem ) {
			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
		},

		"selected": function( elem ) {
			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {
			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos["empty"]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo(function() {
			return [ 0 ];
		}),

		"last": createPositionalPseudo(function( matchIndexes, length ) {
			return [ length - 1 ];
		}),

		"eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		}),

		"even": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"odd": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		})
	}
};

Expr.pseudos["nth"] = Expr.pseudos["eq"];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || (match = rcomma.exec( soFar )) ) {
			if ( match ) {
				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[0].length ) || soFar;
			}
			groups.push( (tokens = []) );
		}

		matched = false;

		// Combinators
		if ( (match = rcombinators.exec( soFar )) ) {
			matched = match.shift();
			tokens.push({
				value: matched,
				// Cast descendant combinators to space
				type: match[0].replace( rtrim, " " )
			});
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
				(match = preFilters[ type ]( match ))) ) {
				matched = match.shift();
				tokens.push({
					value: matched,
					type: type,
					matches: match
				});
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :
			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[i].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		checkNonElements = base && dir === "parentNode",
		doneName = done++;

	return combinator.first ?
		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( (elem = elem[ dir ]) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching
			if ( xml ) {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || (elem[ expando ] = {});
						if ( (oldCache = outerCache[ dir ]) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return (newCache[ 2 ] = oldCache[ 2 ]);
						} else {
							// Reuse newcache so results back-propagate to previous elements
							outerCache[ dir ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {
								return true;
							}
						}
					}
				}
			}
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[i]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[0];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[i], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( (elem = unmatched[i]) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction(function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?
				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( (elem = temp[i]) ) {
					matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {
					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( (elem = matcherOut[i]) ) {
							// Restore matcherIn since elem is not yet a final match
							temp.push( (matcherIn[i] = elem) );
						}
					}
					postFinder( null, (matcherOut = []), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( (elem = matcherOut[i]) &&
						(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {

						seed[temp] = !(results[temp] = elem);
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	});
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[0].type ],
		implicitRelative = leadingRelative || Expr.relative[" "],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				(checkContext = context).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );
			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
			matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
		} else {
			matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {
				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[j].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(
						// If the preceding token was a descendant combinator, insert an implicit any-element `*`
						tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,
				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find["TAG"]( "*", outermost ),
				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),
				len = elems.length;

			if ( outermost ) {
				outermostContext = context !== document && context;
			}

			// Add elements passing elementMatchers directly to results
			// Keep `i` a string if there are no elements so `matchedCount` will be "00" below
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && (elem = elems[i]) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;
					while ( (matcher = elementMatchers[j++]) ) {
						if ( matcher( elem, context, xml ) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {
					// They will have gone through all possible matchers
					if ( (elem = !matcher && elem) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// Apply set filters to unmatched elements
			matchedCount += i;
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( (matcher = setMatchers[j++]) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {
					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !(unmatched[i] || setMatched[i]) ) {
								setMatched[i] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {
		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[i] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( (selector = compiled.selector || selector) );

	results = results || [];

	// Try to minimize operations if there is no seed and only one group
	if ( match.length === 1 ) {

		// Take a shortcut and set the context if the root selector is an ID
		tokens = match[0] = match[0].slice( 0 );
		if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
				support.getById && context.nodeType === 9 && documentIsHTML &&
				Expr.relative[ tokens[1].type ] ) {

			context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[i];

			// Abort if we hit a combinator
			if ( Expr.relative[ (type = token.type) ] ) {
				break;
			}
			if ( (find = Expr.find[ type ]) ) {
				// Search, expanding context for leading sibling combinators
				if ( (seed = find(
					token.matches[0].replace( runescape, funescape ),
					rsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context
				)) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert(function( div1 ) {
	// Should return 1, but returns 4 (following)
	return div1.compareDocumentPosition( document.createElement("div") ) & 1;
});

// Support: IE<8
// Prevent attribute/property "interpolation"
// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert(function( div ) {
	div.innerHTML = "<a href='#'></a>";
	return div.firstChild.getAttribute("href") === "#" ;
}) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	});
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert(function( div ) {
	div.innerHTML = "<input/>";
	div.firstChild.setAttribute( "value", "" );
	return div.firstChild.getAttribute( "value" ) === "";
}) ) {
	addHandle( "value", function( elem, name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	});
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert(function( div ) {
	return div.getAttribute("disabled") == null;
}) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
					(val = elem.getAttributeNode( name )) && val.specified ?
					val.value :
				null;
		}
	});
}

return Sizzle;

})( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;
jQuery.expr[":"] = jQuery.expr.pseudos;
jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;



var rneedsContext = jQuery.expr.match.needsContext;

var rsingleTag = (/^<(\w+)\s*\/?>(?:<\/\1>|)$/);



var risSimple = /^.[^:#\[\.,]*$/;

// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( jQuery.isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			/* jshint -W018 */
			return !!qualifier.call( elem, i, elem ) !== not;
		});

	}

	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		});

	}

	if ( typeof qualifier === "string" ) {
		if ( risSimple.test( qualifier ) ) {
			return jQuery.filter( qualifier, elements, not );
		}

		qualifier = jQuery.filter( qualifier, elements );
	}

	return jQuery.grep( elements, function( elem ) {
		return ( indexOf.call( qualifier, elem ) >= 0 ) !== not;
	});
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	return elems.length === 1 && elem.nodeType === 1 ?
		jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :
		jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
			return elem.nodeType === 1;
		}));
};

jQuery.fn.extend({
	find: function( selector ) {
		var i,
			len = this.length,
			ret = [],
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter(function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			}) );
		}

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		// Needed because $( selector, context ) becomes $( context ).find( selector )
		ret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );
		ret.selector = this.selector ? this.selector + " " + selector : selector;
		return ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow(this, selector || [], false) );
	},
	not: function( selector ) {
		return this.pushStack( winnow(this, selector || [], true) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
});


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,

	init = jQuery.fn.init = function( selector, context ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[0] === "<" && selector[ selector.length - 1 ] === ">" && selector.length >= 3 ) {
				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && (match[1] || !context) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[1] ) {
					context = context instanceof jQuery ? context[0] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[1],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {
							// Properties of context are called as methods if possible
							if ( jQuery.isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[2] );

					// Support: Blackberry 4.6
					// gEBID returns nodes no longer in the document (#6963)
					if ( elem && elem.parentNode ) {
						// Inject the element directly into the jQuery object
						this.length = 1;
						this[0] = elem;
					}

					this.context = document;
					this.selector = selector;
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || rootjQuery ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this.context = this[0] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( jQuery.isFunction( selector ) ) {
			return typeof rootjQuery.ready !== "undefined" ?
				rootjQuery.ready( selector ) :
				// Execute immediately if ready is not present
				selector( jQuery );
		}

		if ( selector.selector !== undefined ) {
			this.selector = selector.selector;
			this.context = selector.context;
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,
	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.extend({
	dir: function( elem, dir, until ) {
		var matched = [],
			truncate = until !== undefined;

		while ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {
			if ( elem.nodeType === 1 ) {
				if ( truncate && jQuery( elem ).is( until ) ) {
					break;
				}
				matched.push( elem );
			}
		}
		return matched;
	},

	sibling: function( n, elem ) {
		var matched = [];

		for ( ; n; n = n.nextSibling ) {
			if ( n.nodeType === 1 && n !== elem ) {
				matched.push( n );
			}
		}

		return matched;
	}
});

jQuery.fn.extend({
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter(function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[i] ) ) {
					return true;
				}
			}
		});
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			pos = rneedsContext.test( selectors ) || typeof selectors !== "string" ?
				jQuery( selectors, context || this.context ) :
				0;

		for ( ; i < l; i++ ) {
			for ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {
				// Always skip document fragments
				if ( cur.nodeType < 11 && (pos ?
					pos.index(cur) > -1 :

					// Don't pass non-elements to Sizzle
					cur.nodeType === 1 &&
						jQuery.find.matchesSelector(cur, selectors)) ) {

					matched.push( cur );
					break;
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.unique(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter(selector)
		);
	}
});

function sibling( cur, dir ) {
	while ( (cur = cur[dir]) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each({
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return jQuery.dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return jQuery.dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return jQuery.dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return jQuery.sibling( elem.firstChild );
	},
	contents: function( elem ) {
		return elem.contentDocument || jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {
			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.unique( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
});
var rnotwhite = (/\S+/g);



// String to Object options format cache
var optionsCache = {};

// Convert String-formatted options into Object-formatted ones and store in cache
function createOptions( options ) {
	var object = optionsCache[ options ] = {};
	jQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	});
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		( optionsCache[ options ] || createOptions( options ) ) :
		jQuery.extend( {}, options );

	var // Last fire value (for non-forgettable lists)
		memory,
		// Flag to know if list was already fired
		fired,
		// Flag to know if list is currently firing
		firing,
		// First callback to fire (used internally by add and fireWith)
		firingStart,
		// End of the loop when firing
		firingLength,
		// Index of currently firing callback (modified by remove if needed)
		firingIndex,
		// Actual callback list
		list = [],
		// Stack of fire calls for repeatable lists
		stack = !options.once && [],
		// Fire callbacks
		fire = function( data ) {
			memory = options.memory && data;
			fired = true;
			firingIndex = firingStart || 0;
			firingStart = 0;
			firingLength = list.length;
			firing = true;
			for ( ; list && firingIndex < firingLength; firingIndex++ ) {
				if ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {
					memory = false; // To prevent further calls using add
					break;
				}
			}
			firing = false;
			if ( list ) {
				if ( stack ) {
					if ( stack.length ) {
						fire( stack.shift() );
					}
				} else if ( memory ) {
					list = [];
				} else {
					self.disable();
				}
			}
		},
		// Actual Callbacks object
		self = {
			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {
					// First, we save the current length
					var start = list.length;
					(function add( args ) {
						jQuery.each( args, function( _, arg ) {
							var type = jQuery.type( arg );
							if ( type === "function" ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && type !== "string" ) {
								// Inspect recursively
								add( arg );
							}
						});
					})( arguments );
					// Do we need to add the callbacks to the
					// current firing batch?
					if ( firing ) {
						firingLength = list.length;
					// With memory, if we're not firing then
					// we should call right away
					} else if ( memory ) {
						firingStart = start;
						fire( memory );
					}
				}
				return this;
			},
			// Remove a callback from the list
			remove: function() {
				if ( list ) {
					jQuery.each( arguments, function( _, arg ) {
						var index;
						while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
							list.splice( index, 1 );
							// Handle firing indexes
							if ( firing ) {
								if ( index <= firingLength ) {
									firingLength--;
								}
								if ( index <= firingIndex ) {
									firingIndex--;
								}
							}
						}
					});
				}
				return this;
			},
			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );
			},
			// Remove all callbacks from the list
			empty: function() {
				list = [];
				firingLength = 0;
				return this;
			},
			// Have the list do nothing anymore
			disable: function() {
				list = stack = memory = undefined;
				return this;
			},
			// Is it disabled?
			disabled: function() {
				return !list;
			},
			// Lock the list in its current state
			lock: function() {
				stack = undefined;
				if ( !memory ) {
					self.disable();
				}
				return this;
			},
			// Is it locked?
			locked: function() {
				return !stack;
			},
			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( list && ( !fired || stack ) ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					if ( firing ) {
						stack.push( args );
					} else {
						fire( args );
					}
				}
				return this;
			},
			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},
			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


jQuery.extend({

	Deferred: function( func ) {
		var tuples = [
				// action, add listener, listener list, final state
				[ "resolve", "done", jQuery.Callbacks("once memory"), "resolved" ],
				[ "reject", "fail", jQuery.Callbacks("once memory"), "rejected" ],
				[ "notify", "progress", jQuery.Callbacks("memory") ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				then: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;
					return jQuery.Deferred(function( newDefer ) {
						jQuery.each( tuples, function( i, tuple ) {
							var fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];
							// deferred[ done | fail | progress ] for forwarding actions to newDefer
							deferred[ tuple[1] ](function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && jQuery.isFunction( returned.promise ) ) {
									returned.promise()
										.done( newDefer.resolve )
										.fail( newDefer.reject )
										.progress( newDefer.notify );
								} else {
									newDefer[ tuple[ 0 ] + "With" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );
								}
							});
						});
						fns = null;
					}).promise();
				},
				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Keep pipe for back-compat
		promise.pipe = promise.then;

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 3 ];

			// promise[ done | fail | progress ] = list.add
			promise[ tuple[1] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(function() {
					// state = [ resolved | rejected ]
					state = stateString;

				// [ reject_list | resolve_list ].disable; progress_list.lock
				}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );
			}

			// deferred[ resolve | reject | notify ]
			deferred[ tuple[0] ] = function() {
				deferred[ tuple[0] + "With" ]( this === deferred ? promise : this, arguments );
				return this;
			};
			deferred[ tuple[0] + "With" ] = list.fireWith;
		});

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( subordinate /* , ..., subordinateN */ ) {
		var i = 0,
			resolveValues = slice.call( arguments ),
			length = resolveValues.length,

			// the count of uncompleted subordinates
			remaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,

			// the master Deferred. If resolveValues consist of only a single Deferred, just use that.
			deferred = remaining === 1 ? subordinate : jQuery.Deferred(),

			// Update function for both resolve and progress values
			updateFunc = function( i, contexts, values ) {
				return function( value ) {
					contexts[ i ] = this;
					values[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( values === progressValues ) {
						deferred.notifyWith( contexts, values );
					} else if ( !( --remaining ) ) {
						deferred.resolveWith( contexts, values );
					}
				};
			},

			progressValues, progressContexts, resolveContexts;

		// Add listeners to Deferred subordinates; treat others as resolved
		if ( length > 1 ) {
			progressValues = new Array( length );
			progressContexts = new Array( length );
			resolveContexts = new Array( length );
			for ( ; i < length; i++ ) {
				if ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {
					resolveValues[ i ].promise()
						.done( updateFunc( i, resolveContexts, resolveValues ) )
						.fail( deferred.reject )
						.progress( updateFunc( i, progressContexts, progressValues ) );
				} else {
					--remaining;
				}
			}
		}

		// If we're not waiting on anything, resolve the master
		if ( !remaining ) {
			deferred.resolveWith( resolveContexts, resolveValues );
		}

		return deferred.promise();
	}
});


// The deferred used on DOM ready
var readyList;

jQuery.fn.ready = function( fn ) {
	// Add the callback
	jQuery.ready.promise().done( fn );

	return this;
};

jQuery.extend({
	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Hold (or release) the ready event
	holdReady: function( hold ) {
		if ( hold ) {
			jQuery.readyWait++;
		} else {
			jQuery.ready( true );
		}
	},

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );

		// Trigger any bound ready events
		if ( jQuery.fn.triggerHandler ) {
			jQuery( document ).triggerHandler( "ready" );
			jQuery( document ).off( "ready" );
		}
	}
});

/**
 * The ready event handler and self cleanup method
 */
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed, false );
	window.removeEventListener( "load", completed, false );
	jQuery.ready();
}

jQuery.ready.promise = function( obj ) {
	if ( !readyList ) {

		readyList = jQuery.Deferred();

		// Catch cases where $(document).ready() is called after the browser event has already occurred.
		// We once tried to use readyState "interactive" here, but it caused issues like the one
		// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15
		if ( document.readyState === "complete" ) {
			// Handle it asynchronously to allow scripts the opportunity to delay ready
			setTimeout( jQuery.ready );

		} else {

			// Use the handy event callback
			document.addEventListener( "DOMContentLoaded", completed, false );

			// A fallback to window.onload, that will always work
			window.addEventListener( "load", completed, false );
		}
	}
	return readyList.promise( obj );
};

// Kick off the DOM ready check even if the user does not
jQuery.ready.promise();




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = jQuery.access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( jQuery.type( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			jQuery.access( elems, fn, i, key[i], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !jQuery.isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {
			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );
			}
		}
	}

	return chainable ?
		elems :

		// Gets
		bulk ?
			fn.call( elems ) :
			len ? fn( elems[0], key ) : emptyGet;
};


/**
 * Determines whether an object can have data
 */
jQuery.acceptData = function( owner ) {
	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	/* jshint -W018 */
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};


function Data() {
	// Support: Android<4,
	// Old WebKit does not have Object.preventExtensions/freeze method,
	// return new empty object instead with no [[set]] accessor
	Object.defineProperty( this.cache = {}, 0, {
		get: function() {
			return {};
		}
	});

	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;
Data.accepts = jQuery.acceptData;

Data.prototype = {
	key: function( owner ) {
		// We can accept data for non-element nodes in modern browsers,
		// but we should not, see #8335.
		// Always return the key for a frozen object.
		if ( !Data.accepts( owner ) ) {
			return 0;
		}

		var descriptor = {},
			// Check if the owner object already has a cache key
			unlock = owner[ this.expando ];

		// If not, create one
		if ( !unlock ) {
			unlock = Data.uid++;

			// Secure it in a non-enumerable, non-writable property
			try {
				descriptor[ this.expando ] = { value: unlock };
				Object.defineProperties( owner, descriptor );

			// Support: Android<4
			// Fallback to a less secure definition
			} catch ( e ) {
				descriptor[ this.expando ] = unlock;
				jQuery.extend( owner, descriptor );
			}
		}

		// Ensure the cache object
		if ( !this.cache[ unlock ] ) {
			this.cache[ unlock ] = {};
		}

		return unlock;
	},
	set: function( owner, data, value ) {
		var prop,
			// There may be an unlock assigned to this node,
			// if there is no entry for this "owner", create one inline
			// and set the unlock as though an owner entry had always existed
			unlock = this.key( owner ),
			cache = this.cache[ unlock ];

		// Handle: [ owner, key, value ] args
		if ( typeof data === "string" ) {
			cache[ data ] = value;

		// Handle: [ owner, { properties } ] args
		} else {
			// Fresh assignments by object are shallow copied
			if ( jQuery.isEmptyObject( cache ) ) {
				jQuery.extend( this.cache[ unlock ], data );
			// Otherwise, copy the properties one-by-one to the cache object
			} else {
				for ( prop in data ) {
					cache[ prop ] = data[ prop ];
				}
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		// Either a valid cache is found, or will be created.
		// New caches will be created and the unlock returned,
		// allowing direct access to the newly created
		// empty data object. A valid owner object must be provided.
		var cache = this.cache[ this.key( owner ) ];

		return key === undefined ?
			cache : cache[ key ];
	},
	access: function( owner, key, value ) {
		var stored;
		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				((key && typeof key === "string") && value === undefined) ) {

			stored = this.get( owner, key );

			return stored !== undefined ?
				stored : this.get( owner, jQuery.camelCase(key) );
		}

		// [*]When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i, name, camel,
			unlock = this.key( owner ),
			cache = this.cache[ unlock ];

		if ( key === undefined ) {
			this.cache[ unlock ] = {};

		} else {
			// Support array or space separated string of keys
			if ( jQuery.isArray( key ) ) {
				// If "name" is an array of keys...
				// When data is initially created, via ("key", "val") signature,
				// keys will be converted to camelCase.
				// Since there is no way to tell _how_ a key was added, remove
				// both plain key and camelCase key. #12786
				// This will only penalize the array argument path.
				name = key.concat( key.map( jQuery.camelCase ) );
			} else {
				camel = jQuery.camelCase( key );
				// Try the string as a key before any manipulation
				if ( key in cache ) {
					name = [ key, camel ];
				} else {
					// If a key with the spaces exists, use it.
					// Otherwise, create an array by matching non-whitespace
					name = camel;
					name = name in cache ?
						[ name ] : ( name.match( rnotwhite ) || [] );
				}
			}

			i = name.length;
			while ( i-- ) {
				delete cache[ name[ i ] ];
			}
		}
	},
	hasData: function( owner ) {
		return !jQuery.isEmptyObject(
			this.cache[ owner[ this.expando ] ] || {}
		);
	},
	discard: function( owner ) {
		if ( owner[ this.expando ] ) {
			delete this.cache[ owner[ this.expando ] ];
		}
	}
};
var data_priv = new Data();

var data_user = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /([A-Z])/g;

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$1" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = data === "true" ? true :
					data === "false" ? false :
					data === "null" ? null :
					// Only convert to a number if it doesn't change the string
					+data + "" === data ? +data :
					rbrace.test( data ) ? jQuery.parseJSON( data ) :
					data;
			} catch( e ) {}

			// Make sure we set the data so it isn't changed later
			data_user.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend({
	hasData: function( elem ) {
		return data_user.hasData( elem ) || data_priv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return data_user.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		data_user.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to data_priv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return data_priv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		data_priv.remove( elem, name );
	}
});

jQuery.fn.extend({
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = data_user.get( elem );

				if ( elem.nodeType === 1 && !data_priv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE11+
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = jQuery.camelCase( name.slice(5) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					data_priv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each(function() {
				data_user.set( this, key );
			});
		}

		return access( this, function( value ) {
			var data,
				camelKey = jQuery.camelCase( key );

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {
				// Attempt to get data from the cache
				// with the key as-is
				data = data_user.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to get data from the cache
				// with the key camelized
				data = data_user.get( elem, camelKey );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, camelKey, undefined );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each(function() {
				// First, attempt to store a copy or reference of any
				// data that might've been store with a camelCased key.
				var data = data_user.get( this, camelKey );

				// For HTML5 data-* attribute interop, we have to
				// store property names with dashes in a camelCase form.
				// This might not apply to all properties...*
				data_user.set( this, camelKey, value );

				// *... In the case of properties that might _actually_
				// have dashes, we need to also store a copy of that
				// unchanged property.
				if ( key.indexOf("-") !== -1 && data !== undefined ) {
					data_user.set( this, key, value );
				}
			});
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each(function() {
			data_user.remove( this, key );
		});
	}
});


jQuery.extend({
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = data_priv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || jQuery.isArray( data ) ) {
					queue = data_priv.access( elem, type, jQuery.makeArray(data) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return data_priv.get( elem, key ) || data_priv.access( elem, key, {
			empty: jQuery.Callbacks("once memory").add(function() {
				data_priv.remove( elem, [ type + "queue", key ] );
			})
		});
	}
});

jQuery.fn.extend({
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[0], type );
		}

		return data === undefined ?
			this :
			this.each(function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[0] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			});
	},
	dequeue: function( type ) {
		return this.each(function() {
			jQuery.dequeue( this, type );
		});
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},
	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = data_priv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
});
var pnum = (/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;

var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var isHidden = function( elem, el ) {
		// isHidden might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;
		return jQuery.css( elem, "display" ) === "none" || !jQuery.contains( elem.ownerDocument, elem );
	};

var rcheckableType = (/^(?:checkbox|radio)$/i);



(function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Safari<=5.1
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Safari<=5.1, Android<4.2
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE<=11+
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;
})();
var strundefined = typeof undefined;



support.focusinBubbles = "onfocusin" in window;


var
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,
	rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)$/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = data_priv.get( elem );

		// Don't attach events to noData or text/comment nodes (but allow plain objects)
		if ( !elemData ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !(events = elemData.events) ) {
			events = elemData.events = {};
		}
		if ( !(eventHandle = elemData.handle) ) {
			eventHandle = elemData.handle = function( e ) {
				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== strundefined && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnotwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[t] ) || [];
			type = origType = tmp[1];
			namespaces = ( tmp[2] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend({
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join(".")
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !(handlers = events[ type ]) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {
					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle, false );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = data_priv.hasData( elem ) && data_priv.get( elem );

		if ( !elemData || !(events = elemData.events) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnotwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[t] ) || [];
			type = origType = tmp[1];
			namespaces = ( tmp[2] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[2] && new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector || selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {
					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			delete elemData.handle;
			data_priv.remove( elem, "events" );
		}
	},

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split(".") : [];

		cur = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf(".") >= 0 ) {
			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split(".");
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf(":") < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join(".");
		event.namespace_re = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === (elem.ownerDocument || document) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {

			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( data_priv.get( cur, "events" ) || {} )[ event.type ] && data_priv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && jQuery.acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&
				jQuery.acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;
					elem[ type ]();
					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	dispatch: function( event ) {

		// Make a writable jQuery.Event from the native event object
		event = jQuery.event.fix( event );

		var i, j, ret, matched, handleObj,
			handlerQueue = [],
			args = slice.call( arguments ),
			handlers = ( data_priv.get( this, "events" ) || {} )[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[0] = event;
		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {

				// Triggered event must either 1) have no namespace, or 2) have namespace(s)
				// a subset or equal to those in the bound event (both can have no namespace).
				if ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )
							.apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( (event.result = ret) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, matches, sel, handleObj,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		// Black-hole SVG <use> instance trees (#13180)
		// Avoid non-left-click bubbling in Firefox (#3861)
		if ( delegateCount && cur.nodeType && (!event.button || event.type !== "click") ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.disabled !== true || event.type !== "click" ) {
					matches = [];
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matches[ sel ] === undefined ) {
							matches[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) >= 0 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matches[ sel ] ) {
							matches.push( handleObj );
						}
					}
					if ( matches.length ) {
						handlerQueue.push({ elem: cur, handlers: matches });
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		if ( delegateCount < handlers.length ) {
			handlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });
		}

		return handlerQueue;
	},

	// Includes some event props shared by KeyEvent and MouseEvent
	props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),

	fixHooks: {},

	keyHooks: {
		props: "char charCode key keyCode".split(" "),
		filter: function( event, original ) {

			// Add which for key events
			if ( event.which == null ) {
				event.which = original.charCode != null ? original.charCode : original.keyCode;
			}

			return event;
		}
	},

	mouseHooks: {
		props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
		filter: function( event, original ) {
			var eventDoc, doc, body,
				button = original.button;

			// Calculate pageX/Y if missing and clientX/Y available
			if ( event.pageX == null && original.clientX != null ) {
				eventDoc = event.target.ownerDocument || document;
				doc = eventDoc.documentElement;
				body = eventDoc.body;

				event.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );
				event.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );
			}

			// Add which for click: 1 === left; 2 === middle; 3 === right
			// Note: button is not normalized, so don't use it
			if ( !event.which && button !== undefined ) {
				event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
			}

			return event;
		}
	},

	fix: function( event ) {
		if ( event[ jQuery.expando ] ) {
			return event;
		}

		// Create a writable copy of the event object and normalize some properties
		var i, prop, copy,
			type = event.type,
			originalEvent = event,
			fixHook = this.fixHooks[ type ];

		if ( !fixHook ) {
			this.fixHooks[ type ] = fixHook =
				rmouseEvent.test( type ) ? this.mouseHooks :
				rkeyEvent.test( type ) ? this.keyHooks :
				{};
		}
		copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;

		event = new jQuery.Event( originalEvent );

		i = copy.length;
		while ( i-- ) {
			prop = copy[ i ];
			event[ prop ] = originalEvent[ prop ];
		}

		// Support: Cordova 2.5 (WebKit) (#13255)
		// All events should have a target; Cordova deviceready doesn't
		if ( !event.target ) {
			event.target = document;
		}

		// Support: Safari 6.0+, Chrome<28
		// Target should not be a text node (#504, #13143)
		if ( event.target.nodeType === 3 ) {
			event.target = event.target.parentNode;
		}

		return fixHook.filter ? fixHook.filter( event, originalEvent ) : event;
	},

	special: {
		load: {
			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		focus: {
			// Fire native event if possible so blur/focus sequence is correct
			trigger: function() {
				if ( this !== safeActiveElement() && this.focus ) {
					this.focus();
					return false;
				}
			},
			delegateType: "focusin"
		},
		blur: {
			trigger: function() {
				if ( this === safeActiveElement() && this.blur ) {
					this.blur();
					return false;
				}
			},
			delegateType: "focusout"
		},
		click: {
			// For checkbox, fire native event so checked state will be right
			trigger: function() {
				if ( this.type === "checkbox" && this.click && jQuery.nodeName( this, "input" ) ) {
					this.click();
					return false;
				}
			},

			// For cross-browser consistency, don't fire native .click() on links
			_default: function( event ) {
				return jQuery.nodeName( event.target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	},

	simulate: function( type, elem, event, bubble ) {
		// Piggyback on a donor event to simulate a different one.
		// Fake originalEvent to avoid donor's stopPropagation, but if the
		// simulated event prevents default then we do the same on the donor.
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true,
				originalEvent: {}
			}
		);
		if ( bubble ) {
			jQuery.event.trigger( e, null, elem );
		} else {
			jQuery.event.dispatch.call( elem, e );
		}
		if ( e.isDefaultPrevented() ) {
			event.preventDefault();
		}
	}
};

jQuery.removeEvent = function( elem, type, handle ) {
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle, false );
	}
};

jQuery.Event = function( src, props ) {
	// Allow instantiation without the 'new' keyword
	if ( !(this instanceof jQuery.Event) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&
				// Support: Android<4.0
				src.returnValue === false ?
			returnTrue :
			returnFalse;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || jQuery.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && e.preventDefault ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && e.stopPropagation ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && e.stopImmediatePropagation ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Create mouseenter/leave events using mouseover/out and event-time checks
// Support: Chrome 15+
jQuery.each({
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mousenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || (related !== target && !jQuery.contains( target, related )) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
});

// Support: Firefox, Chrome, Safari
// Create "bubbling" focus and blur events
if ( !support.focusinBubbles ) {
	jQuery.each({ focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
				jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );
			};

		jQuery.event.special[ fix ] = {
			setup: function() {
				var doc = this.ownerDocument || this,
					attaches = data_priv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				data_priv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this,
					attaches = data_priv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					data_priv.remove( doc, fix );

				} else {
					data_priv.access( doc, fix, attaches );
				}
			}
		};
	});
}

jQuery.fn.extend({

	on: function( types, selector, data, fn, /*INTERNAL*/ one ) {
		var origFn, type;

		// Types can be a map of types/handlers
		if ( typeof types === "object" ) {
			// ( types-Object, selector, data )
			if ( typeof selector !== "string" ) {
				// ( types-Object, data )
				data = data || selector;
				selector = undefined;
			}
			for ( type in types ) {
				this.on( type, selector, data, types[ type ], one );
			}
			return this;
		}

		if ( data == null && fn == null ) {
			// ( types, fn )
			fn = selector;
			data = selector = undefined;
		} else if ( fn == null ) {
			if ( typeof selector === "string" ) {
				// ( types, selector, fn )
				fn = data;
				data = undefined;
			} else {
				// ( types, data, fn )
				fn = data;
				data = selector;
				selector = undefined;
			}
		}
		if ( fn === false ) {
			fn = returnFalse;
		} else if ( !fn ) {
			return this;
		}

		if ( one === 1 ) {
			origFn = fn;
			fn = function( event ) {
				// Can use an empty set, since event contains the info
				jQuery().off( event );
				return origFn.apply( this, arguments );
			};
			// Use same guid so caller can remove using origFn
			fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
		}
		return this.each( function() {
			jQuery.event.add( this, types, fn, data, selector );
		});
	},
	one: function( types, selector, data, fn ) {
		return this.on( types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {
			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {
			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {
			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each(function() {
			jQuery.event.remove( this, types, fn, selector );
		});
	},

	trigger: function( type, data ) {
		return this.each(function() {
			jQuery.event.trigger( type, data, this );
		});
	},
	triggerHandler: function( type, data ) {
		var elem = this[0];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
});


var
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
	rtagName = /<([\w:]+)/,
	rhtml = /<|&#?\w+;/,
	rnoInnerhtml = /<(?:script|style|link)/i,
	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rscriptType = /^$|\/(?:java|ecma)script/i,
	rscriptTypeMasked = /^true\/(.*)/,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,

	// We have to close these tags to support XHTML (#13200)
	wrapMap = {

		// Support: IE9
		option: [ 1, "<select multiple='multiple'>", "</select>" ],

		thead: [ 1, "<table>", "</table>" ],
		col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
		tr: [ 2, "<table><tbody>", "</tbody></table>" ],
		td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

		_default: [ 0, "", "" ]
	};

// Support: IE9
wrapMap.optgroup = wrapMap.option;

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

// Support: 1.x compatibility
// Manipulating tables requires a tbody
function manipulationTarget( elem, content ) {
	return jQuery.nodeName( elem, "table" ) &&
		jQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ?

		elem.getElementsByTagName("tbody")[0] ||
			elem.appendChild( elem.ownerDocument.createElement("tbody") ) :
		elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = (elem.getAttribute("type") !== null) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	var match = rscriptTypeMasked.exec( elem.type );

	if ( match ) {
		elem.type = match[ 1 ];
	} else {
		elem.removeAttribute("type");
	}

	return elem;
}

// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		data_priv.set(
			elems[ i ], "globalEval", !refElements || data_priv.get( refElements[ i ], "globalEval" )
		);
	}
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( data_priv.hasData( src ) ) {
		pdataOld = data_priv.access( src );
		pdataCur = data_priv.set( dest, pdataOld );
		events = pdataOld.events;

		if ( events ) {
			delete pdataCur.handle;
			pdataCur.events = {};

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( data_user.hasData( src ) ) {
		udataOld = data_user.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		data_user.set( dest, udataCur );
	}
}

function getAll( context, tag ) {
	var ret = context.getElementsByTagName ? context.getElementsByTagName( tag || "*" ) :
			context.querySelectorAll ? context.querySelectorAll( tag || "*" ) :
			[];

	return tag === undefined || tag && jQuery.nodeName( context, tag ) ?
		jQuery.merge( [ context ], ret ) :
		ret;
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

jQuery.extend({
	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = jQuery.contains( elem.ownerDocument, elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	buildFragment: function( elems, context, scripts, selection ) {
		var elem, tmp, tag, wrap, contains, j,
			fragment = context.createDocumentFragment(),
			nodes = [],
			i = 0,
			l = elems.length;

		for ( ; i < l; i++ ) {
			elem = elems[ i ];

			if ( elem || elem === 0 ) {

				// Add nodes directly
				if ( jQuery.type( elem ) === "object" ) {
					// Support: QtWebKit, PhantomJS
					// push.apply(_, arraylike) throws on ancient WebKit
					jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

				// Convert non-html into a text node
				} else if ( !rhtml.test( elem ) ) {
					nodes.push( context.createTextNode( elem ) );

				// Convert html into DOM nodes
				} else {
					tmp = tmp || fragment.appendChild( context.createElement("div") );

					// Deserialize a standard representation
					tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
					wrap = wrapMap[ tag ] || wrapMap._default;
					tmp.innerHTML = wrap[ 1 ] + elem.replace( rxhtmlTag, "<$1></$2>" ) + wrap[ 2 ];

					// Descend through wrappers to the right content
					j = wrap[ 0 ];
					while ( j-- ) {
						tmp = tmp.lastChild;
					}

					// Support: QtWebKit, PhantomJS
					// push.apply(_, arraylike) throws on ancient WebKit
					jQuery.merge( nodes, tmp.childNodes );

					// Remember the top-level container
					tmp = fragment.firstChild;

					// Ensure the created nodes are orphaned (#12392)
					tmp.textContent = "";
				}
			}
		}

		// Remove wrapper from fragment
		fragment.textContent = "";

		i = 0;
		while ( (elem = nodes[ i++ ]) ) {

			// #4087 - If origin and destination elements are the same, and this is
			// that element, do not do anything
			if ( selection && jQuery.inArray( elem, selection ) !== -1 ) {
				continue;
			}

			contains = jQuery.contains( elem.ownerDocument, elem );

			// Append to fragment
			tmp = getAll( fragment.appendChild( elem ), "script" );

			// Preserve script evaluation history
			if ( contains ) {
				setGlobalEval( tmp );
			}

			// Capture executables
			if ( scripts ) {
				j = 0;
				while ( (elem = tmp[ j++ ]) ) {
					if ( rscriptType.test( elem.type || "" ) ) {
						scripts.push( elem );
					}
				}
			}
		}

		return fragment;
	},

	cleanData: function( elems ) {
		var data, elem, type, key,
			special = jQuery.event.special,
			i = 0;

		for ( ; (elem = elems[ i ]) !== undefined; i++ ) {
			if ( jQuery.acceptData( elem ) ) {
				key = elem[ data_priv.expando ];

				if ( key && (data = data_priv.cache[ key ]) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}
					if ( data_priv.cache[ key ] ) {
						// Discard any remaining `private` data
						delete data_priv.cache[ key ];
					}
				}
			}
			// Discard any remaining `user` data
			delete data_user.cache[ elem[ data_user.expando ] ];
		}
	}
});

jQuery.fn.extend({
	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each(function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				});
		}, null, value, arguments.length );
	},

	append: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		});
	},

	prepend: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		});
	},

	before: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		});
	},

	after: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		});
	},

	remove: function( selector, keepData /* Internal Use Only */ ) {
		var elem,
			elems = selector ? jQuery.filter( selector, this ) : this,
			i = 0;

		for ( ; (elem = elems[i]) != null; i++ ) {
			if ( !keepData && elem.nodeType === 1 ) {
				jQuery.cleanData( getAll( elem ) );
			}

			if ( elem.parentNode ) {
				if ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {
					setGlobalEval( getAll( elem, "script" ) );
				}
				elem.parentNode.removeChild( elem );
			}
		}

		return this;
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; (elem = this[i]) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map(function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		});
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = value.replace( rxhtmlTag, "<$1></$2>" );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var arg = arguments[ 0 ];

		// Make the changes, replacing each context element with the new content
		this.domManip( arguments, function( elem ) {
			arg = this.parentNode;

			jQuery.cleanData( getAll( this ) );

			if ( arg ) {
				arg.replaceChild( elem, this );
			}
		});

		// Force removal if there was no new content (e.g., from empty arguments)
		return arg && (arg.length || arg.nodeType) ? this : this.remove();
	},

	detach: function( selector ) {
		return this.remove( selector, true );
	},

	domManip: function( args, callback ) {

		// Flatten any nested arrays
		args = concat.apply( [], args );

		var fragment, first, scripts, hasScripts, node, doc,
			i = 0,
			l = this.length,
			set = this,
			iNoClone = l - 1,
			value = args[ 0 ],
			isFunction = jQuery.isFunction( value );

		// We can't cloneNode fragments that contain checked, in WebKit
		if ( isFunction ||
				( l > 1 && typeof value === "string" &&
					!support.checkClone && rchecked.test( value ) ) ) {
			return this.each(function( index ) {
				var self = set.eq( index );
				if ( isFunction ) {
					args[ 0 ] = value.call( this, index, self.html() );
				}
				self.domManip( args, callback );
			});
		}

		if ( l ) {
			fragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );
			first = fragment.firstChild;

			if ( fragment.childNodes.length === 1 ) {
				fragment = first;
			}

			if ( first ) {
				scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
				hasScripts = scripts.length;

				// Use the original fragment for the last item instead of the first because it can end up
				// being emptied incorrectly in certain situations (#8070).
				for ( ; i < l; i++ ) {
					node = fragment;

					if ( i !== iNoClone ) {
						node = jQuery.clone( node, true, true );

						// Keep references to cloned scripts for later restoration
						if ( hasScripts ) {
							// Support: QtWebKit
							// jQuery.merge because push.apply(_, arraylike) throws
							jQuery.merge( scripts, getAll( node, "script" ) );
						}
					}

					callback.call( this[ i ], node, i );
				}

				if ( hasScripts ) {
					doc = scripts[ scripts.length - 1 ].ownerDocument;

					// Reenable scripts
					jQuery.map( scripts, restoreScript );

					// Evaluate executable scripts on first document insertion
					for ( i = 0; i < hasScripts; i++ ) {
						node = scripts[ i ];
						if ( rscriptType.test( node.type || "" ) &&
							!data_priv.access( node, "globalEval" ) && jQuery.contains( doc, node ) ) {

							if ( node.src ) {
								// Optional AJAX dependency, but won't run scripts if not present
								if ( jQuery._evalUrl ) {
									jQuery._evalUrl( node.src );
								}
							} else {
								jQuery.globalEval( node.textContent.replace( rcleanScript, "" ) );
							}
						}
					}
				}
			}
		}

		return this;
	}
});

jQuery.each({
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: QtWebKit
			// .get() because push.apply(_, arraylike) throws
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
});


var iframe,
	elemdisplay = {};

/**
 * Retrieve the actual display of a element
 * @param {String} name nodeName of the element
 * @param {Object} doc Document object
 */
// Called only from within defaultDisplay
function actualDisplay( name, doc ) {
	var style,
		elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),

		// getDefaultComputedStyle might be reliably used only on attached element
		display = window.getDefaultComputedStyle && ( style = window.getDefaultComputedStyle( elem[ 0 ] ) ) ?

			// Use of this method is a temporary fix (more like optimization) until something better comes along,
			// since it was removed from specification and supported only in FF
			style.display : jQuery.css( elem[ 0 ], "display" );

	// We don't have any data stored on the element,
	// so use "detach" method as fast way to get rid of the element
	elem.detach();

	return display;
}

/**
 * Try to determine the default display value of an element
 * @param {String} nodeName
 */
function defaultDisplay( nodeName ) {
	var doc = document,
		display = elemdisplay[ nodeName ];

	if ( !display ) {
		display = actualDisplay( nodeName, doc );

		// If the simple way fails, read from inside an iframe
		if ( display === "none" || !display ) {

			// Use the already-created iframe if possible
			iframe = (iframe || jQuery( "<iframe frameborder='0' width='0' height='0'/>" )).appendTo( doc.documentElement );

			// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse
			doc = iframe[ 0 ].contentDocument;

			// Support: IE
			doc.write();
			doc.close();

			display = actualDisplay( nodeName, doc );
			iframe.detach();
		}

		// Store the correct default display
		elemdisplay[ nodeName ] = display;
	}

	return display;
}
var rmargin = (/^margin/);

var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {
		// Support: IE<=11+, Firefox<=30+ (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		if ( elem.ownerDocument.defaultView.opener ) {
			return elem.ownerDocument.defaultView.getComputedStyle( elem, null );
		}

		return window.getComputedStyle( elem, null );
	};



function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,
		style = elem.style;

	computed = computed || getStyles( elem );

	// Support: IE9
	// getPropertyValue is only needed for .css('filter') (#12537)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];
	}

	if ( computed ) {

		if ( ret === "" && !jQuery.contains( elem.ownerDocument, elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// Support: iOS < 6
		// A tribute to the "awesome hack by Dean Edwards"
		// iOS < 6 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels
		// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values
		if ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?
		// Support: IE
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {
	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {
				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return (this.get = hookFn).apply( this, arguments );
		}
	};
}


(function() {
	var pixelPositionVal, boxSizingReliableVal,
		docElem = document.documentElement,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	if ( !div.style ) {
		return;
	}

	// Support: IE9-11+
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	container.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;" +
		"position:absolute";
	container.appendChild( div );

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computePixelPositionAndBoxSizingReliable() {
		div.style.cssText =
			// Support: Firefox<29, Android 2.3
			// Vendor-prefix box-sizing
			"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;" +
			"box-sizing:border-box;display:block;margin-top:1%;top:1%;" +
			"border:1px;padding:1px;width:4px;position:absolute";
		div.innerHTML = "";
		docElem.appendChild( container );

		var divStyle = window.getComputedStyle( div, null );
		pixelPositionVal = divStyle.top !== "1%";
		boxSizingReliableVal = divStyle.width === "4px";

		docElem.removeChild( container );
	}

	// Support: node.js jsdom
	// Don't assume that getComputedStyle is a property of the global object
	if ( window.getComputedStyle ) {
		jQuery.extend( support, {
			pixelPosition: function() {

				// This test is executed only once but we still do memoizing
				// since we can use the boxSizingReliable pre-computing.
				// No need to check if the test was already performed, though.
				computePixelPositionAndBoxSizingReliable();
				return pixelPositionVal;
			},
			boxSizingReliable: function() {
				if ( boxSizingReliableVal == null ) {
					computePixelPositionAndBoxSizingReliable();
				}
				return boxSizingReliableVal;
			},
			reliableMarginRight: function() {

				// Support: Android 2.3
				// Check if div with explicit width and no margin-right incorrectly
				// gets computed margin-right based on width of container. (#3333)
				// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
				// This support function is only executed once so no memoizing is needed.
				var ret,
					marginDiv = div.appendChild( document.createElement( "div" ) );

				// Reset CSS: box-sizing; display; margin; border; padding
				marginDiv.style.cssText = div.style.cssText =
					// Support: Firefox<29, Android 2.3
					// Vendor-prefix box-sizing
					"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;" +
					"box-sizing:content-box;display:block;margin:0;border:0;padding:0";
				marginDiv.style.marginRight = marginDiv.style.width = "0";
				div.style.width = "1px";
				docElem.appendChild( container );

				ret = !parseFloat( window.getComputedStyle( marginDiv, null ).marginRight );

				docElem.removeChild( container );
				div.removeChild( marginDiv );

				return ret;
			}
		});
	}
})();


// A method for quickly swapping in/out CSS properties to get correct calculations.
jQuery.swap = function( elem, options, callback, args ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.apply( elem, args || [] );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var
	// Swappable if display is none or starts with table except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rnumsplit = new RegExp( "^(" + pnum + ")(.*)$", "i" ),
	rrelNum = new RegExp( "^([+-])=(" + pnum + ")", "i" ),

	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	},

	cssPrefixes = [ "Webkit", "O", "Moz", "ms" ];

// Return a css property mapped to a potentially vendor prefixed property
function vendorPropName( style, name ) {

	// Shortcut for names that are not vendor prefixed
	if ( name in style ) {
		return name;
	}

	// Check for vendor prefixed names
	var capName = name[0].toUpperCase() + name.slice(1),
		origName = name,
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in style ) {
			return name;
		}
	}

	return origName;
}

function setPositiveNumber( elem, value, subtract ) {
	var matches = rnumsplit.exec( value );
	return matches ?
		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || "px" ) :
		value;
}

function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {
	var i = extra === ( isBorderBox ? "border" : "content" ) ?
		// If we already have the right measurement, avoid augmentation
		4 :
		// Otherwise initialize for horizontal or vertical properties
		name === "width" ? 1 : 0,

		val = 0;

	for ( ; i < 4; i += 2 ) {
		// Both box models exclude margin, so add it if we want it
		if ( extra === "margin" ) {
			val += jQuery.css( elem, extra + cssExpand[ i ], true, styles );
		}

		if ( isBorderBox ) {
			// border-box includes padding, so remove it if we want content
			if ( extra === "content" ) {
				val -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// At this point, extra isn't border nor margin, so remove border
			if ( extra !== "margin" ) {
				val -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		} else {
			// At this point, extra isn't content, so add padding
			val += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// At this point, extra isn't content nor padding, so add border
			if ( extra !== "padding" ) {
				val += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	return val;
}

function getWidthOrHeight( elem, name, extra ) {

	// Start with offset property, which is equivalent to the border-box value
	var valueIsBorderBox = true,
		val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
		styles = getStyles( elem ),
		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

	// Some non-html elements return undefined for offsetWidth, so check for null/undefined
	// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
	// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
	if ( val <= 0 || val == null ) {
		// Fall back to computed then uncomputed css if necessary
		val = curCSS( elem, name, styles );
		if ( val < 0 || val == null ) {
			val = elem.style[ name ];
		}

		// Computed unit is not pixels. Stop here and return.
		if ( rnumnonpx.test(val) ) {
			return val;
		}

		// Check for style in case a browser which returns unreliable values
		// for getComputedStyle silently falls back to the reliable elem.style
		valueIsBorderBox = isBorderBox &&
			( support.boxSizingReliable() || val === elem.style[ name ] );

		// Normalize "", auto, and prepare for extra
		val = parseFloat( val ) || 0;
	}

	// Use the active box-sizing model to add/subtract irrelevant styles
	return ( val +
		augmentWidthOrHeight(
			elem,
			name,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles
		)
	) + "px";
}

function showHide( elements, show ) {
	var display, elem, hidden,
		values = [],
		index = 0,
		length = elements.length;

	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		values[ index ] = data_priv.get( elem, "olddisplay" );
		display = elem.style.display;
		if ( show ) {
			// Reset the inline display of this element to learn if it is
			// being hidden by cascaded rules or not
			if ( !values[ index ] && display === "none" ) {
				elem.style.display = "";
			}

			// Set elements which have been overridden with display: none
			// in a stylesheet to whatever the default browser style is
			// for such an element
			if ( elem.style.display === "" && isHidden( elem ) ) {
				values[ index ] = data_priv.access( elem, "olddisplay", defaultDisplay(elem.nodeName) );
			}
		} else {
			hidden = isHidden( elem );

			if ( display !== "none" || !hidden ) {
				data_priv.set( elem, "olddisplay", hidden ? display : jQuery.css( elem, "display" ) );
			}
		}
	}

	// Set the display of most of the elements in a second loop
	// to avoid the constant reflow
	for ( index = 0; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}
		if ( !show || elem.style.display === "none" || elem.style.display === "" ) {
			elem.style.display = show ? values[ index ] || "" : "none";
		}
	}

	return elements;
}

jQuery.extend({

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {
		"float": "cssFloat"
	},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = jQuery.camelCase( name ),
			style = elem.style;

		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && (ret = rrelNum.exec( value )) ) {
				value = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );
				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number, add 'px' to the (except for certain CSS properties)
			if ( type === "number" && !jQuery.cssNumber[ origName ] ) {
				value += "px";
			}

			// Support: IE9-11+
			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !("set" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {
				style[ name ] = value;
			}

		} else {
			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {
				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = jQuery.camelCase( name );

		// Make sure that we're working with the right name
		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || jQuery.isNumeric( num ) ? num || 0 : val;
		}
		return val;
	}
});

jQuery.each([ "height", "width" ], function( i, name ) {
	jQuery.cssHooks[ name ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) && elem.offsetWidth === 0 ?
					jQuery.swap( elem, cssShow, function() {
						return getWidthOrHeight( elem, name, extra );
					}) :
					getWidthOrHeight( elem, name, extra );
			}
		},

		set: function( elem, value, extra ) {
			var styles = extra && getStyles( elem );
			return setPositiveNumber( elem, value, extra ?
				augmentWidthOrHeight(
					elem,
					name,
					extra,
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
					styles
				) : 0
			);
		}
	};
});

// Support: Android 2.3
jQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,
	function( elem, computed ) {
		if ( computed ) {
			return jQuery.swap( elem, { "display": "inline-block" },
				curCSS, [ elem, "marginRight" ] );
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each({
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split(" ") : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( !rmargin.test( prefix ) ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
});

jQuery.fn.extend({
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( jQuery.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	},
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each(function() {
			if ( isHidden( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		});
	}
});


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || "swing";
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			if ( tween.elem[ tween.prop ] != null &&
				(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );
			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {
			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE9
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	}
};

jQuery.fx = Tween.prototype.init;

// Back Compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, timerId,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rfxnum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" ),
	rrun = /queueHooks$/,
	animationPrefilters = [ defaultPrefilter ],
	tweeners = {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value ),
				target = tween.cur(),
				parts = rfxnum.exec( value ),
				unit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

				// Starting value computation is required for potential unit mismatches
				start = ( jQuery.cssNumber[ prop ] || unit !== "px" && +target ) &&
					rfxnum.exec( jQuery.css( tween.elem, prop ) ),
				scale = 1,
				maxIterations = 20;

			if ( start && start[ 3 ] !== unit ) {
				// Trust units reported by jQuery.css
				unit = unit || start[ 3 ];

				// Make sure we update the tween properties later on
				parts = parts || [];

				// Iteratively approximate from a nonzero starting point
				start = +target || 1;

				do {
					// If previous iteration zeroed out, double until we get *something*.
					// Use string for doubling so we don't accidentally see scale as unchanged below
					scale = scale || ".5";

					// Adjust and apply
					start = start / scale;
					jQuery.style( tween.elem, prop, start + unit );

				// Update scale, tolerating zero or NaN from tween.cur(),
				// break the loop if scale is unchanged or perfect, or if we've just had enough
				} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );
			}

			// Update tween properties
			if ( parts ) {
				start = tween.start = +start || +target || 0;
				tween.unit = unit;
				// If a +=/-= token was provided, we're doing a relative animation
				tween.end = parts[ 1 ] ?
					start + ( parts[ 1 ] + 1 ) * parts[ 2 ] :
					+parts[ 2 ];
			}

			return tween;
		} ]
	};

// Animations created synchronously will run synchronously
function createFxNow() {
	setTimeout(function() {
		fxNow = undefined;
	});
	return ( fxNow = jQuery.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4 ; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( tweeners[ prop ] || [] ).concat( tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( (tween = collection[ index ].call( animation, prop, value )) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	/* jshint validthis: true */
	var prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHidden( elem ),
		dataShow = data_priv.get( elem, "fxshow" );

	// Handle queue: false promises
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always(function() {
			// Ensure the complete handler is called before this completes
			anim.always(function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			});
		});
	}

	// Height/width overflow pass
	if ( elem.nodeType === 1 && ( "height" in props || "width" in props ) ) {
		// Make sure that nothing sneaks out
		// Record all 3 overflow attributes because IE9-10 do not
		// change the overflow attribute when overflowX and
		// overflowY are set to the same value
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Set display property to inline-block for height/width
		// animations on inline elements that are having width/height animated
		display = jQuery.css( elem, "display" );

		// Test default display if display is currently "none"
		checkDisplay = display === "none" ?
			data_priv.get( elem, "olddisplay" ) || defaultDisplay( elem.nodeName ) : display;

		if ( checkDisplay === "inline" && jQuery.css( elem, "float" ) === "none" ) {
			style.display = "inline-block";
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always(function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		});
	}

	// show/hide pass
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.exec( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );

		// Any non-fx value stops us from restoring the original display value
		} else {
			display = undefined;
		}
	}

	if ( !jQuery.isEmptyObject( orig ) ) {
		if ( dataShow ) {
			if ( "hidden" in dataShow ) {
				hidden = dataShow.hidden;
			}
		} else {
			dataShow = data_priv.access( elem, "fxshow", {} );
		}

		// Store state if its toggle - enables .stop().toggle() to "reverse"
		if ( toggle ) {
			dataShow.hidden = !hidden;
		}
		if ( hidden ) {
			jQuery( elem ).show();
		} else {
			anim.done(function() {
				jQuery( elem ).hide();
			});
		}
		anim.done(function() {
			var prop;

			data_priv.remove( elem, "fxshow" );
			for ( prop in orig ) {
				jQuery.style( elem, prop, orig[ prop ] );
			}
		});
		for ( prop in orig ) {
			tween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );

			if ( !( prop in dataShow ) ) {
				dataShow[ prop ] = tween.start;
				if ( hidden ) {
					tween.end = tween.start;
					tween.start = prop === "width" || prop === "height" ? 1 : 0;
				}
			}
		}

	// If this is a noop like .hide().hide(), restore an overwritten display value
	} else if ( (display === "none" ? defaultDisplay( elem.nodeName ) : display) === "inline" ) {
		style.display = display;
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = jQuery.camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( jQuery.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = animationPrefilters.length,
		deferred = jQuery.Deferred().always( function() {
			// Don't match elem in the :animated selector
			delete tick.elem;
		}),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),
				// Support: Android 2.3
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length ; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ]);

			if ( percent < 1 && length ) {
				return remaining;
			} else {
				deferred.resolveWith( elem, [ animation ] );
				return false;
			}
		},
		animation = deferred.promise({
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, { specialEasing: {} }, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,
					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length ; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		}),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length ; index++ ) {
		result = animationPrefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( jQuery.isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		})
	);

	// attach callbacks from options
	return animation.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );
}

jQuery.Animation = jQuery.extend( Animation, {

	tweener: function( props, callback ) {
		if ( jQuery.isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.split(" ");
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length ; index++ ) {
			prop = props[ index ];
			tweeners[ prop ] = tweeners[ prop ] || [];
			tweeners[ prop ].unshift( callback );
		}
	},

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			animationPrefilters.unshift( callback );
		} else {
			animationPrefilters.push( callback );
		}
	}
});

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			jQuery.isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
	};

	opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration :
		opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( jQuery.isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend({
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHidden ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate({ opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {
				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || data_priv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};
			doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue && type !== false ) {
			this.queue( type || "fx", [] );
		}

		return this.each(function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = data_priv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {
					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		});
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each(function() {
			var index,
				data = data_priv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		});
	}
});

jQuery.each([ "toggle", "show", "hide" ], function( i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
});

// Generate shortcuts for custom animations
jQuery.each({
	slideDown: genFx("show"),
	slideUp: genFx("hide"),
	slideToggle: genFx("toggle"),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
});

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = jQuery.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];
		// Checks the timer has not already been removed
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	if ( timer() ) {
		jQuery.fx.start();
	} else {
		jQuery.timers.pop();
	}
};

jQuery.fx.interval = 13;

jQuery.fx.start = function() {
	if ( !timerId ) {
		timerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );
	}
};

jQuery.fx.stop = function() {
	clearInterval( timerId );
	timerId = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,
	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = setTimeout( next, time );
		hooks.stop = function() {
			clearTimeout( timeout );
		};
	});
};


(function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: iOS<=5.1, Android<=4.2+
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE<=11+
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: Android<=2.3
	// Options inside disabled selects are incorrectly marked as disabled
	select.disabled = true;
	support.optDisabled = !opt.disabled;

	// Support: IE<=11+
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
})();


var nodeHook, boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend({
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each(function() {
			jQuery.removeAttr( this, name );
		});
	}
});

jQuery.extend({
	attr: function( elem, name, value ) {
		var hooks, ret,
			nType = elem.nodeType;

		// don't get/set attributes on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === strundefined ) {
			return jQuery.prop( elem, name, value );
		}

		// All attributes are lowercase
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			name = name.toLowerCase();
			hooks = jQuery.attrHooks[ name ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );
		}

		if ( value !== undefined ) {

			if ( value === null ) {
				jQuery.removeAttr( elem, name );

			} else if ( hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {
				return ret;

			} else {
				elem.setAttribute( name, value + "" );
				return value;
			}

		} else if ( hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ) {
			return ret;

		} else {
			ret = jQuery.find.attr( elem, name );

			// Non-existent attributes return null, we normalize to undefined
			return ret == null ?
				undefined :
				ret;
		}
	},

	removeAttr: function( elem, value ) {
		var name, propName,
			i = 0,
			attrNames = value && value.match( rnotwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( (name = attrNames[i++]) ) {
				propName = jQuery.propFix[ name ] || name;

				// Boolean attributes get special treatment (#10870)
				if ( jQuery.expr.match.bool.test( name ) ) {
					// Set corresponding property to false
					elem[ propName ] = false;
				}

				elem.removeAttribute( name );
			}
		}
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					jQuery.nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	}
});

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {
			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};
jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle;
		if ( !isXML ) {
			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ name ];
			attrHandle[ name ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				name.toLowerCase() :
				null;
			attrHandle[ name ] = handle;
		}
		return ret;
	};
});




var rfocusable = /^(?:input|select|textarea|button)$/i;

jQuery.fn.extend({
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each(function() {
			delete this[ jQuery.propFix[ name ] || name ];
		});
	}
});

jQuery.extend({
	propFix: {
		"for": "htmlFor",
		"class": "className"
	},

	prop: function( elem, name, value ) {
		var ret, hooks, notxml,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		notxml = nType !== 1 || !jQuery.isXMLDoc( elem );

		if ( notxml ) {
			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			return hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?
				ret :
				( elem[ name ] = value );

		} else {
			return hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ?
				ret :
				elem[ name ];
		}
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {
				return elem.hasAttribute( "tabindex" ) || rfocusable.test( elem.nodeName ) || elem.href ?
					elem.tabIndex :
					-1;
			}
		}
	}
});

if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {
			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		}
	};
}

jQuery.each([
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
});




var rclass = /[\t\r\n\f]/g;

jQuery.fn.extend({
	addClass: function( value ) {
		var classes, elem, cur, clazz, j, finalValue,
			proceed = typeof value === "string" && value,
			i = 0,
			len = this.length;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).addClass( value.call( this, j, this.className ) );
			});
		}

		if ( proceed ) {
			// The disjunction here is for better compressibility (see removeClass)
			classes = ( value || "" ).match( rnotwhite ) || [];

			for ( ; i < len; i++ ) {
				elem = this[ i ];
				cur = elem.nodeType === 1 && ( elem.className ?
					( " " + elem.className + " " ).replace( rclass, " " ) :
					" "
				);

				if ( cur ) {
					j = 0;
					while ( (clazz = classes[j++]) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// only assign if different to avoid unneeded rendering.
					finalValue = jQuery.trim( cur );
					if ( elem.className !== finalValue ) {
						elem.className = finalValue;
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, clazz, j, finalValue,
			proceed = arguments.length === 0 || typeof value === "string" && value,
			i = 0,
			len = this.length;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).removeClass( value.call( this, j, this.className ) );
			});
		}
		if ( proceed ) {
			classes = ( value || "" ).match( rnotwhite ) || [];

			for ( ; i < len; i++ ) {
				elem = this[ i ];
				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( elem.className ?
					( " " + elem.className + " " ).replace( rclass, " " ) :
					""
				);

				if ( cur ) {
					j = 0;
					while ( (clazz = classes[j++]) ) {
						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) >= 0 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = value ? jQuery.trim( cur ) : "";
					if ( elem.className !== finalValue ) {
						elem.className = finalValue;
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value;

		if ( typeof stateVal === "boolean" && type === "string" ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( i ) {
				jQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );
			});
		}

		return this.each(function() {
			if ( type === "string" ) {
				// Toggle individual class names
				var className,
					i = 0,
					self = jQuery( this ),
					classNames = value.match( rnotwhite ) || [];

				while ( (className = classNames[ i++ ]) ) {
					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( type === strundefined || type === "boolean" ) {
				if ( this.className ) {
					// store className if set
					data_priv.set( this, "__className__", this.className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				this.className = this.className || value === false ? "" : data_priv.get( this, "__className__" ) || "";
			}
		});
	},

	hasClass: function( selector ) {
		var className = " " + selector + " ",
			i = 0,
			l = this.length;
		for ( ; i < l; i++ ) {
			if ( this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf( className ) >= 0 ) {
				return true;
			}
		}

		return false;
	}
});




var rreturn = /\r/g;

jQuery.fn.extend({
	val: function( value ) {
		var hooks, ret, isFunction,
			elem = this[0];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks && "get" in hooks && (ret = hooks.get( elem, "value" )) !== undefined ) {
					return ret;
				}

				ret = elem.value;

				return typeof ret === "string" ?
					// Handle most common string cases
					ret.replace(rreturn, "") :
					// Handle cases where value is null/undef or number
					ret == null ? "" : ret;
			}

			return;
		}

		isFunction = jQuery.isFunction( value );

		return this.each(function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( isFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( jQuery.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				});
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !("set" in hooks) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		});
	}
});

jQuery.extend({
	valHooks: {
		option: {
			get: function( elem ) {
				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :
					// Support: IE10-11+
					// option.text throws exceptions (#14686, #14858)
					jQuery.trim( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one" || index < 0,
					values = one ? null : [],
					max = one ? index + 1 : options.length,
					i = index < 0 ?
						max :
						one ? index : 0;

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// IE6-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&
							// Don't return options that are disabled or in a disabled optgroup
							( support.optDisabled ? !option.disabled : option.getAttribute( "disabled" ) === null ) &&
							( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];
					if ( (option.selected = jQuery.inArray( option.value, values ) >= 0) ) {
						optionSet = true;
					}
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
});

// Radios and checkboxes getter/setter
jQuery.each([ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( jQuery.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute("value") === null ? "on" : elem.value;
		};
	}
});




// Return jQuery for attributes-only inclusion


jQuery.each( ("blur focus focusin focusout load resize scroll unload click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup error contextmenu").split(" "), function( i, name ) {

	// Handle event binding
	jQuery.fn[ name ] = function( data, fn ) {
		return arguments.length > 0 ?
			this.on( name, null, data, fn ) :
			this.trigger( name );
	};
});

jQuery.fn.extend({
	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	},

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {
		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ? this.off( selector, "**" ) : this.off( types, selector || "**", fn );
	}
});


var nonce = jQuery.now();

var rquery = (/\?/);



// Support: Android 2.3
// Workaround failure to string-cast null input
jQuery.parseJSON = function( data ) {
	return JSON.parse( data + "" );
};


// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml, tmp;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE9
	try {
		tmp = new DOMParser();
		xml = tmp.parseFromString( data, "text/xml" );
	} catch ( e ) {
		xml = undefined;
	}

	if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
		jQuery.error( "Invalid XML: " + data );
	}
	return xml;
};


var
	rhash = /#.*$/,
	rts = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,
	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,
	rurl = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Document location
	ajaxLocation = window.location.href,

	// Segment location into parts
	ajaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];

		if ( jQuery.isFunction( func ) ) {
			// For each dataType in the dataTypeExpression
			while ( (dataType = dataTypes[i++]) ) {
				// Prepend if requested
				if ( dataType[0] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					(structure[ dataType ] = structure[ dataType ] || []).unshift( func );

				// Otherwise append
				} else {
					(structure[ dataType ] = structure[ dataType ] || []).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {
				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		});
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader("Content-Type");
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {
		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[0] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}
		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},
		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

		// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {
								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s[ "throws" ] ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return { state: "parsererror", error: conv ? e : "No conversion from " + prev + " to " + current };
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend({

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: ajaxLocation,
		type: "GET",
		isLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",
		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /xml/,
			html: /html/,
			json: /json/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": jQuery.parseJSON,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,
			// URL without anti-cache param
			cacheURL,
			// Response headers
			responseHeadersString,
			responseHeaders,
			// timeout handle
			timeoutTimer,
			// Cross-domain detection vars
			parts,
			// To know if global events are to be dispatched
			fireGlobals,
			// Loop variable
			i,
			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),
			// Callbacks context
			callbackContext = s.context || s,
			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?
				jQuery( callbackContext ) :
				jQuery.event,
			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks("once memory"),
			// Status-dependent callbacks
			statusCode = s.statusCode || {},
			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},
			// The jqXHR state
			state = 0,
			// Default abort message
			strAbort = "canceled",
			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( state === 2 ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( (match = rheaders.exec( responseHeadersString )) ) {
								responseHeaders[ match[1].toLowerCase() ] = match[ 2 ];
							}
						}
						match = responseHeaders[ key.toLowerCase() ];
					}
					return match == null ? null : match;
				},

				// Raw string
				getAllResponseHeaders: function() {
					return state === 2 ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					var lname = name.toLowerCase();
					if ( !state ) {
						name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( !state ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( state < 2 ) {
							for ( code in map ) {
								// Lazy-add the new callback in a way that preserves old ones
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						} else {
							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR ).complete = completeDeferred.add;
		jqXHR.success = jqXHR.done;
		jqXHR.error = jqXHR.fail;

		// Remove hash character (#7531: and string promotion)
		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || ajaxLocation ) + "" ).replace( rhash, "" )
			.replace( rprotocol, ajaxLocParts[ 1 ] + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().match( rnotwhite ) || [ "" ];

		// A cross-domain request is in order when we have a protocol:host:port mismatch
		if ( s.crossDomain == null ) {
			parts = rurl.exec( s.url.toLowerCase() );
			s.crossDomain = !!( parts &&
				( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||
					( parts[ 3 ] || ( parts[ 1 ] === "http:" ? "80" : "443" ) ) !==
						( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === "http:" ? "80" : "443" ) ) )
			);
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( state === 2 ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger("ajaxStart");
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		cacheURL = s.url;

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// If data is available, append data to url
			if ( s.data ) {
				cacheURL = ( s.url += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data );
				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add anti-cache in url if needed
			if ( s.cache === false ) {
				s.url = rts.test( cacheURL ) ?

					// If there is already a '_' parameter, set its value
					cacheURL.replace( rts, "$1_=" + nonce++ ) :

					// Otherwise add one to the end
					cacheURL + ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + nonce++;
			}
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?
				s.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {
			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		for ( i in { success: 1, error: 1, complete: 1 } ) {
			jqXHR[ i ]( s[ i ] );
		}

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}
			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = setTimeout(function() {
					jqXHR.abort("timeout");
				}, s.timeout );
			}

			try {
				state = 1;
				transport.send( requestHeaders, done );
			} catch ( e ) {
				// Propagate exception as error if not done
				if ( state < 2 ) {
					done( -1, e );
				// Simply rethrow otherwise
				} else {
					throw e;
				}
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Called once
			if ( state === 2 ) {
				return;
			}

			// State is "done" now
			state = 2;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader("Last-Modified");
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader("etag");
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {
				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );
				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger("ajaxStop");
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
});

jQuery.each( [ "get", "post" ], function( i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {
		// Shift arguments if data argument was omitted
		if ( jQuery.isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		return jQuery.ajax({
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		});
	};
});


jQuery._evalUrl = function( url ) {
	return jQuery.ajax({
		url: url,
		type: "GET",
		dataType: "script",
		async: false,
		global: false,
		"throws": true
	});
};


jQuery.fn.extend({
	wrapAll: function( html ) {
		var wrap;

		if ( jQuery.isFunction( html ) ) {
			return this.each(function( i ) {
				jQuery( this ).wrapAll( html.call(this, i) );
			});
		}

		if ( this[ 0 ] ) {

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map(function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			}).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each(function( i ) {
				jQuery( this ).wrapInner( html.call(this, i) );
			});
		}

		return this.each(function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		});
	},

	wrap: function( html ) {
		var isFunction = jQuery.isFunction( html );

		return this.each(function( i ) {
			jQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );
		});
	},

	unwrap: function() {
		return this.parent().each(function() {
			if ( !jQuery.nodeName( this, "body" ) ) {
				jQuery( this ).replaceWith( this.childNodes );
			}
		}).end();
	}
});


jQuery.expr.filters.hidden = function( elem ) {
	// Support: Opera <= 12.12
	// Opera reports offsetWidths and offsetHeights less than zero on some elements
	return elem.offsetWidth <= 0 && elem.offsetHeight <= 0;
};
jQuery.expr.filters.visible = function( elem ) {
	return !jQuery.expr.filters.hidden( elem );
};




var r20 = /%20/g,
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( jQuery.isArray( obj ) ) {
		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {
				// Treat each array item as a scalar.
				add( prefix, v );

			} else {
				// Item is non-scalar (array or object), encode its numeric index.
				buildParams( prefix + "[" + ( typeof v === "object" ? i : "" ) + "]", v, traditional, add );
			}
		});

	} else if ( !traditional && jQuery.type( obj ) === "object" ) {
		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {
		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, value ) {
			// If value is a function, invoke it and return its value
			value = jQuery.isFunction( value ) ? value() : ( value == null ? "" : value );
			s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
		};

	// Set traditional to true for jQuery <= 1.3.2 behavior.
	if ( traditional === undefined ) {
		traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {
		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		});

	} else {
		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" ).replace( r20, "+" );
};

jQuery.fn.extend({
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map(function() {
			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		})
		.filter(function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		})
		.map(function( i, elem ) {
			var val = jQuery( this ).val();

			return val == null ?
				null :
				jQuery.isArray( val ) ?
					jQuery.map( val, function( val ) {
						return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
					}) :
					{ name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		}).get();
	}
});


jQuery.ajaxSettings.xhr = function() {
	try {
		return new XMLHttpRequest();
	} catch( e ) {}
};

var xhrId = 0,
	xhrCallbacks = {},
	xhrSuccessStatus = {
		// file protocol always yields status code 0, assume 200
		0: 200,
		// Support: IE9
		// #1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

// Support: IE9
// Open requests must be manually aborted on unload (#5280)
// See https://support.microsoft.com/kb/2856746 for more info
if ( window.attachEvent ) {
	window.attachEvent( "onunload", function() {
		for ( var key in xhrCallbacks ) {
			xhrCallbacks[ key ]();
		}
	});
}

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport(function( options ) {
	var callback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr(),
					id = ++xhrId;

				xhr.open( options.type, options.url, options.async, options.username, options.password );

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers["X-Requested-With"] ) {
					headers["X-Requested-With"] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							delete xhrCallbacks[ id ];
							callback = xhr.onload = xhr.onerror = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {
								complete(
									// file: protocol always yields status 0; see #8605, #14207
									xhr.status,
									xhr.statusText
								);
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,
									// Support: IE9
									// Accessing binary-data responseText throws an exception
									// (#11426)
									typeof xhr.responseText === "string" ? {
										text: xhr.responseText
									} : undefined,
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				xhr.onerror = callback("error");

				// Create the abort callback
				callback = xhrCallbacks[ id ] = callback("abort");

				try {
					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {
					// #14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
});




// Install script dataType
jQuery.ajaxSetup({
	accepts: {
		script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /(?:java|ecma)script/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
});

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
});

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {
	// This transport only deals with cross domain requests
	if ( s.crossDomain ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery("<script>").prop({
					async: true,
					charset: s.scriptCharset,
					src: s.url
				}).on(
					"load error",
					callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					}
				);
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
});




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup({
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce++ ) );
		this[ callback ] = true;
		return callback;
	}
});

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" && !( s.contentType || "" ).indexOf("application/x-www-form-urlencoded") && rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters["script json"] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always(function() {
			// Restore preexisting value
			window[ callbackName ] = overwritten;

			// Save back as free
			if ( s[ callbackName ] ) {
				// make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && jQuery.isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		});

		// Delegate to script
		return "script";
	}
});




// data: string of html
// context (optional): If specified, the fragment will be created in this context, defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( !data || typeof data !== "string" ) {
		return null;
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}
	context = context || document;

	var parsed = rsingleTag.exec( data ),
		scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[1] ) ];
	}

	parsed = jQuery.buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


// Keep a copy of the old load method
var _load = jQuery.fn.load;

/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	if ( typeof url !== "string" && _load ) {
		return _load.apply( this, arguments );
	}

	var selector, type, response,
		self = this,
		off = url.indexOf(" ");

	if ( off >= 0 ) {
		selector = jQuery.trim( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( jQuery.isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax({
			url: url,

			// if "type" variable is undefined, then "GET" method will be used
			type: type,
			dataType: "html",
			data: params
		}).done(function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery("<div>").append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		}).complete( callback && function( jqXHR, status ) {
			self.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );
		});
	}

	return this;
};




// Attach a bunch of functions for handling common AJAX events
jQuery.each( [ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function( i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
});




jQuery.expr.filters.animated = function( elem ) {
	return jQuery.grep(jQuery.timers, function( fn ) {
		return elem === fn.elem;
	}).length;
};




var docElem = window.document.documentElement;

/**
 * Gets a window from an element
 */
function getWindow( elem ) {
	return jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;
}

jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf("auto") > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( jQuery.isFunction( options ) ) {
			options = options.call( elem, i, curOffset );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend({
	offset: function( options ) {
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each(function( i ) {
					jQuery.offset.setOffset( this, options, i );
				});
		}

		var docElem, win,
			elem = this[ 0 ],
			box = { top: 0, left: 0 },
			doc = elem && elem.ownerDocument;

		if ( !doc ) {
			return;
		}

		docElem = doc.documentElement;

		// Make sure it's not a disconnected DOM node
		if ( !jQuery.contains( docElem, elem ) ) {
			return box;
		}

		// Support: BlackBerry 5, iOS 3 (original iPhone)
		// If we don't have gBCR, just use 0,0 rather than error
		if ( typeof elem.getBoundingClientRect !== strundefined ) {
			box = elem.getBoundingClientRect();
		}
		win = getWindow( doc );
		return {
			top: box.top + win.pageYOffset - docElem.clientTop,
			left: box.left + win.pageXOffset - docElem.clientLeft
		};
	},

	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent
		if ( jQuery.css( elem, "position" ) === "fixed" ) {
			// Assume getBoundingClientRect is there when computed position is fixed
			offset = elem.getBoundingClientRect();

		} else {
			// Get *real* offsetParent
			offsetParent = this.offsetParent();

			// Get correct offsets
			offset = this.offset();
			if ( !jQuery.nodeName( offsetParent[ 0 ], "html" ) ) {
				parentOffset = offsetParent.offset();
			}

			// Add offsetParent borders
			parentOffset.top += jQuery.css( offsetParent[ 0 ], "borderTopWidth", true );
			parentOffset.left += jQuery.css( offsetParent[ 0 ], "borderLeftWidth", true );
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	offsetParent: function() {
		return this.map(function() {
			var offsetParent = this.offsetParent || docElem;

			while ( offsetParent && ( !jQuery.nodeName( offsetParent, "html" ) && jQuery.css( offsetParent, "position" ) === "static" ) ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || docElem;
		});
	}
});

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {
			var win = getWindow( elem );

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : window.pageXOffset,
					top ? val : window.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length, null );
	};
});

// Support: Safari<7+, Chrome<37+
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://code.google.com/p/chromium/issues/detail?id=229280
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );
				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
});


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name }, function( defaultExtra, funcName ) {
		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( jQuery.isWindow( elem ) ) {
					// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
					// isn't a whole lot we can do. See pull request at this URL for discussion:
					// https://github.com/jquery/jquery/pull/764
					return elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?
					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable, null );
		};
	});
});


// The number of elements contained in the matched element set
jQuery.fn.size = function() {
	return this.length;
};

jQuery.fn.andSelf = jQuery.fn.addBack;




// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( typeof define === "function" && define.amd ) {
	define( "jquery", [], function() {
		return jQuery;
	});
}




var
	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( typeof noGlobal === strundefined ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;

}));

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.jade = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

/**
 * Merge two attribute objects giving precedence
 * to values in object `b`. Classes are special-cased
 * allowing for arrays and merging/joining appropriately
 * resulting in a string.
 *
 * @param {Object} a
 * @param {Object} b
 * @return {Object} a
 * @api private
 */

exports.merge = function merge(a, b) {
  if (arguments.length === 1) {
    var attrs = a[0];
    for (var i = 1; i < a.length; i++) {
      attrs = merge(attrs, a[i]);
    }
    return attrs;
  }
  var ac = a['class'];
  var bc = b['class'];

  if (ac || bc) {
    ac = ac || [];
    bc = bc || [];
    if (!Array.isArray(ac)) ac = [ac];
    if (!Array.isArray(bc)) bc = [bc];
    a['class'] = ac.concat(bc).filter(nulls);
  }

  for (var key in b) {
    if (key != 'class') {
      a[key] = b[key];
    }
  }

  return a;
};

/**
 * Filter null `val`s.
 *
 * @param {*} val
 * @return {Boolean}
 * @api private
 */

function nulls(val) {
  return val != null && val !== '';
}

/**
 * join array as classes.
 *
 * @param {*} val
 * @return {String}
 */
exports.joinClasses = joinClasses;
function joinClasses(val) {
  return (Array.isArray(val) ? val.map(joinClasses) :
    (val && typeof val === 'object') ? Object.keys(val).filter(function (key) { return val[key]; }) :
    [val]).filter(nulls).join(' ');
}

/**
 * Render the given classes.
 *
 * @param {Array} classes
 * @param {Array.<Boolean>} escaped
 * @return {String}
 */
exports.cls = function cls(classes, escaped) {
  var buf = [];
  for (var i = 0; i < classes.length; i++) {
    if (escaped && escaped[i]) {
      buf.push(exports.escape(joinClasses([classes[i]])));
    } else {
      buf.push(joinClasses(classes[i]));
    }
  }
  var text = joinClasses(buf);
  if (text.length) {
    return ' class="' + text + '"';
  } else {
    return '';
  }
};


exports.style = function (val) {
  if (val && typeof val === 'object') {
    return Object.keys(val).map(function (style) {
      return style + ':' + val[style];
    }).join(';');
  } else {
    return val;
  }
};
/**
 * Render the given attribute.
 *
 * @param {String} key
 * @param {String} val
 * @param {Boolean} escaped
 * @param {Boolean} terse
 * @return {String}
 */
exports.attr = function attr(key, val, escaped, terse) {
  if (key === 'style') {
    val = exports.style(val);
  }
  if ('boolean' == typeof val || null == val) {
    if (val) {
      return ' ' + (terse ? key : key + '="' + key + '"');
    } else {
      return '';
    }
  } else if (0 == key.indexOf('data') && 'string' != typeof val) {
    if (JSON.stringify(val).indexOf('&') !== -1) {
      console.warn('Since Jade 2.0.0, ampersands (`&`) in data attributes ' +
                   'will be escaped to `&amp;`');
    };
    if (val && typeof val.toISOString === 'function') {
      console.warn('Jade will eliminate the double quotes around dates in ' +
                   'ISO form after 2.0.0');
    }
    return ' ' + key + "='" + JSON.stringify(val).replace(/'/g, '&apos;') + "'";
  } else if (escaped) {
    if (val && typeof val.toISOString === 'function') {
      console.warn('Jade will stringify dates in ISO form after 2.0.0');
    }
    return ' ' + key + '="' + exports.escape(val) + '"';
  } else {
    if (val && typeof val.toISOString === 'function') {
      console.warn('Jade will stringify dates in ISO form after 2.0.0');
    }
    return ' ' + key + '="' + val + '"';
  }
};

/**
 * Render the given attributes object.
 *
 * @param {Object} obj
 * @param {Object} escaped
 * @return {String}
 */
exports.attrs = function attrs(obj, terse){
  var buf = [];

  var keys = Object.keys(obj);

  if (keys.length) {
    for (var i = 0; i < keys.length; ++i) {
      var key = keys[i]
        , val = obj[key];

      if ('class' == key) {
        if (val = joinClasses(val)) {
          buf.push(' ' + key + '="' + val + '"');
        }
      } else {
        buf.push(exports.attr(key, val, false, terse));
      }
    }
  }

  return buf.join('');
};

/**
 * Escape the given string of `html`.
 *
 * @param {String} html
 * @return {String}
 * @api private
 */

var jade_encode_html_rules = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;'
};
var jade_match_html = /[&<>"]/g;

function jade_encode_char(c) {
  return jade_encode_html_rules[c] || c;
}

exports.escape = jade_escape;
function jade_escape(html){
  var result = String(html).replace(jade_match_html, jade_encode_char);
  if (result === '' + html) return html;
  else return result;
};

/**
 * Re-throw the given `err` in context to the
 * the jade in `filename` at the given `lineno`.
 *
 * @param {Error} err
 * @param {String} filename
 * @param {String} lineno
 * @api private
 */

exports.rethrow = function rethrow(err, filename, lineno, str){
  if (!(err instanceof Error)) throw err;
  if ((typeof window != 'undefined' || !filename) && !str) {
    err.message += ' on line ' + lineno;
    throw err;
  }
  try {
    str = str || require('fs').readFileSync(filename, 'utf8')
  } catch (ex) {
    rethrow(err, null, lineno)
  }
  var context = 3
    , lines = str.split('\n')
    , start = Math.max(lineno - context, 0)
    , end = Math.min(lines.length, lineno + context);

  // Error context
  var context = lines.slice(start, end).map(function(line, i){
    var curr = i + start + 1;
    return (curr == lineno ? '  > ' : '    ')
      + curr
      + '| '
      + line;
  }).join('\n');

  // Alter exception message
  err.path = filename;
  err.message = (filename || 'Jade') + ':' + lineno
    + '\n' + context + '\n\n' + err.message;
  throw err;
};

exports.DebugItem = function DebugItem(lineno, filename) {
  this.lineno = lineno;
  this.filename = filename;
}

},{"fs":2}],2:[function(require,module,exports){

},{}]},{},[1])(1)
});

(function(/*! Stitch !*/) {
  if (!this.require) {
    var modules = {}, cache = {}, require = function(name, root) {
      var path = expand(root, name), indexPath = expand(path, './index'), module, fn;
      module   = cache[path] || cache[indexPath]
      if (module) {
        return module.exports;
      } else if (fn = modules[path] || modules[path = indexPath]) {
        module = {id: path, exports: {}};
        try {
          cache[path] = module;
          fn(module.exports, function(name) {
            return require(name, dirname(path));
          }, module);
          return module.exports;
        } catch (err) {
          delete cache[path];
          throw err;
        }
      } else {
        throw 'module ' + name + ' not found';
      }
    }, expand = function(root, name) {
      var results = [], parts, part;
      if (/^..?(\/|$)/.test(name)) {
        parts = [root, name].join('/').split('/');
      } else {
        parts = name.split('/');
      }
      for (var i = 0, length = parts.length; i < length; i++) {
        part = parts[i];
        if (part == '..') {
          results.pop();
        } else if (part != '.' && part != '') {
          results.push(part);
        }
      }
      return results.join('/');
    }, dirname = function(path) {
      return path.split('/').slice(0, -1).join('/');
    };
    this.require = function(name) {
      return require(name, '');
    }
    this.require.define = function(bundle) {
      for (var key in bundle)
        modules[key] = bundle[key];
    };
    this.require.modules = modules;
    this.require.cache   = cache;
  }
  return this.require.define;
}).call(this)({
  
  "spine/index": function(exports, require, module) { module.exports = require('./lib/spine'); },"spine/lib/spine": function(exports, require, module) { // Generated by CoffeeScript 1.10.0

/*
Spine.js MVC library
Released under the MIT License
 */

(function() {
  var $, Controller, Events, Log, Model, Module, Spine, createObject, makeArray, moduleKeywords,
    slice = [].slice,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Events = {
    bind: function(ev, callback) {
      var base, evs, j, len, name;
      evs = ev.split(' ');
      if (!this.hasOwnProperty('_callbacks')) {
        this._callbacks || (this._callbacks = {});
      }
      for (j = 0, len = evs.length; j < len; j++) {
        name = evs[j];
        (base = this._callbacks)[name] || (base[name] = []);
        this._callbacks[name].push(callback);
      }
      return this;
    },
    one: function(ev, callback) {
      var handler;
      return this.bind(ev, handler = function() {
        this.unbind(ev, handler);
        return callback.apply(this, arguments);
      });
    },
    trigger: function() {
      var args, callback, ev, j, len, list, ref;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      ev = args.shift();
      list = (ref = this._callbacks) != null ? ref[ev] : void 0;
      if (!list) {
        return;
      }
      for (j = 0, len = list.length; j < len; j++) {
        callback = list[j];
        if (callback.apply(this, args) === false) {
          break;
        }
      }
      return true;
    },
    listenTo: function(obj, ev, callback) {
      obj.bind(ev, callback);
      this.listeningTo || (this.listeningTo = []);
      this.listeningTo.push({
        obj: obj,
        ev: ev,
        callback: callback
      });
      return this;
    },
    listenToOnce: function(obj, ev, callback) {
      var handler, listeningToOnce;
      listeningToOnce = this.listeningToOnce || (this.listeningToOnce = []);
      obj.bind(ev, handler = function() {
        var i, idx, j, len, lt;
        idx = -1;
        for (i = j = 0, len = listeningToOnce.length; j < len; i = ++j) {
          lt = listeningToOnce[i];
          if (lt.obj === obj) {
            if (lt.ev === ev && lt.callback === handler) {
              idx = i;
            }
          }
        }
        obj.unbind(ev, handler);
        if (idx !== -1) {
          listeningToOnce.splice(idx, 1);
        }
        return callback.apply(this, arguments);
      });
      listeningToOnce.push({
        obj: obj,
        ev: ev,
        callback: handler
      });
      return this;
    },
    stopListening: function(obj, events, callback) {
      var e, ev, evts, idx, j, k, l, len, len1, len2, len3, listeningTo, lt, m, n, ref, ref1, ref2;
      if (arguments.length === 0) {
        ref = [this.listeningTo, this.listeningToOnce];
        for (j = 0, len = ref.length; j < len; j++) {
          listeningTo = ref[j];
          if (!(listeningTo != null ? listeningTo.length : void 0)) {
            continue;
          }
          for (k = 0, len1 = listeningTo.length; k < len1; k++) {
            lt = listeningTo[k];
            lt.obj.unbind(lt.ev, lt.callback);
          }
        }
        this.listeningTo = void 0;
        this.listeningToOnce = void 0;
      } else if (obj) {
        events = events ? events.split(' ') : [void 0];
        ref1 = [this.listeningTo, this.listeningToOnce];
        for (l = 0, len2 = ref1.length; l < len2; l++) {
          listeningTo = ref1[l];
          if (!listeningTo) {
            continue;
          }
          for (m = 0, len3 = events.length; m < len3; m++) {
            ev = events[m];
            for (idx = n = ref2 = listeningTo.length - 1; ref2 <= 0 ? n <= 0 : n >= 0; idx = ref2 <= 0 ? ++n : --n) {
              lt = listeningTo[idx];
              if (lt.obj !== obj) {
                continue;
              }
              if (callback && lt.callback !== callback) {
                continue;
              }
              if ((!ev) || (ev === lt.ev)) {
                lt.obj.unbind(lt.ev, lt.callback);
                if (idx !== -1) {
                  listeningTo.splice(idx, 1);
                }
              } else if (ev) {
                evts = lt.ev.split(' ');
                if (indexOf.call(evts, ev) >= 0) {
                  evts = (function() {
                    var len4, p, results;
                    results = [];
                    for (p = 0, len4 = evts.length; p < len4; p++) {
                      e = evts[p];
                      if (e !== ev) {
                        results.push(e);
                      }
                    }
                    return results;
                  })();
                  lt.ev = $.trim(evts.join(' '));
                  lt.obj.unbind(ev, lt.callback);
                }
              }
            }
          }
        }
      }
      return this;
    },
    unbind: function(ev, callback) {
      var cb, evs, i, j, k, len, len1, list, name, ref;
      if (arguments.length === 0) {
        this._callbacks = {};
        return this;
      }
      if (!ev) {
        return this;
      }
      evs = ev.split(' ');
      for (j = 0, len = evs.length; j < len; j++) {
        name = evs[j];
        list = (ref = this._callbacks) != null ? ref[name] : void 0;
        if (!list) {
          continue;
        }
        if (!callback) {
          delete this._callbacks[name];
          continue;
        }
        for (i = k = 0, len1 = list.length; k < len1; i = ++k) {
          cb = list[i];
          if (!(cb === callback)) {
            continue;
          }
          list = list.slice();
          list.splice(i, 1);
          this._callbacks[name] = list;
          break;
        }
      }
      return this;
    }
  };

  Events.on = Events.bind;

  Events.off = Events.unbind;

  Log = {
    trace: true,
    logPrefix: '(App)',
    log: function() {
      var args;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      if (!this.trace) {
        return;
      }
      if (this.logPrefix) {
        args.unshift(this.logPrefix);
      }
      if (typeof console !== "undefined" && console !== null) {
        if (typeof console.log === "function") {
          console.log.apply(console, args);
        }
      }
      return this;
    }
  };

  moduleKeywords = ['included', 'extended'];

  Module = (function() {
    Module.include = function(obj) {
      var key, ref, value;
      if (!obj) {
        throw new Error('include(obj) requires obj');
      }
      for (key in obj) {
        value = obj[key];
        if (indexOf.call(moduleKeywords, key) < 0) {
          this.prototype[key] = value;
        }
      }
      if ((ref = obj.included) != null) {
        ref.apply(this);
      }
      return this;
    };

    Module.extend = function(obj) {
      var key, ref, value;
      if (!obj) {
        throw new Error('extend(obj) requires obj');
      }
      for (key in obj) {
        value = obj[key];
        if (indexOf.call(moduleKeywords, key) < 0) {
          this[key] = value;
        }
      }
      if ((ref = obj.extended) != null) {
        ref.apply(this);
      }
      return this;
    };

    Module.proxy = function(func) {
      return (function(_this) {
        return function() {
          return func.apply(_this, arguments);
        };
      })(this);
    };

    Module.prototype.proxy = function(func) {
      return (function(_this) {
        return function() {
          return func.apply(_this, arguments);
        };
      })(this);
    };

    function Module() {
      if (typeof this.init === "function") {
        this.init.apply(this, arguments);
      }
    }

    return Module;

  })();

  Model = (function(superClass) {
    extend(Model, superClass);

    Model.extend(Events);

    Model.include(Events);

    Model.records = [];

    Model.irecords = {};

    Model.attributes = [];

    Model.configure = function() {
      var attributes, name;
      name = arguments[0], attributes = 2 <= arguments.length ? slice.call(arguments, 1) : [];
      this.className = name;
      this.deleteAll();
      if (attributes.length) {
        this.attributes = attributes;
      }
      this.attributes && (this.attributes = makeArray(this.attributes));
      this.attributes || (this.attributes = []);
      this.unbind();
      return this;
    };

    Model.toString = function() {
      return this.className + "(" + (this.attributes.join(", ")) + ")";
    };

    Model.find = function(id, notFound) {
      var ref;
      if (notFound == null) {
        notFound = this.notFound;
      }
      return ((ref = this.irecords[id]) != null ? ref.clone() : void 0) || (typeof notFound === "function" ? notFound(id) : void 0);
    };

    Model.findAll = function(ids, notFound) {
      var id, j, len, results;
      results = [];
      for (j = 0, len = ids.length; j < len; j++) {
        id = ids[j];
        if (this.find(id, notFound)) {
          results.push(this.find(id));
        }
      }
      return results;
    };

    Model.notFound = function(id) {
      return null;
    };

    Model.exists = function(id) {
      return Boolean(this.irecords[id]);
    };

    Model.addRecord = function(record, idx) {
      var root;
      if (root = this.irecords[record.id || record.cid]) {
        root.refresh(record);
      } else {
        record.id || (record.id = record.cid);
        this.irecords[record.id] = this.irecords[record.cid] = record;
        if (idx !== void 0) {
          this.records.splice(idx, 0, record);
        } else {
          this.records.push(record);
        }
      }
      return record;
    };

    Model.refresh = function(values, options) {
      var j, len, record, records, result;
      if (options == null) {
        options = {};
      }
      if (options.clear) {
        this.deleteAll();
      }
      records = this.fromJSON(values);
      if (!Array.isArray(records)) {
        records = [records];
      }
      for (j = 0, len = records.length; j < len; j++) {
        record = records[j];
        this.addRecord(record);
      }
      this.sort();
      result = this.cloneArray(records);
      this.trigger('refresh', result, options);
      return result;
    };

    Model.select = function(callback) {
      var j, len, record, ref, results;
      ref = this.records;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        record = ref[j];
        if (callback(record)) {
          results.push(record.clone());
        }
      }
      return results;
    };

    Model.findByAttribute = function(name, value) {
      var j, len, record, ref;
      ref = this.records;
      for (j = 0, len = ref.length; j < len; j++) {
        record = ref[j];
        if (record[name] === value) {
          return record.clone();
        }
      }
      return null;
    };

    Model.findAllByAttribute = function(name, value) {
      return this.select(function(item) {
        return item[name] === value;
      });
    };

    Model.each = function(callback) {
      var j, len, record, ref, results;
      ref = this.records;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        record = ref[j];
        results.push(callback(record.clone()));
      }
      return results;
    };

    Model.all = function() {
      return this.cloneArray(this.records);
    };

    Model.slice = function(begin, end) {
      if (begin == null) {
        begin = 0;
      }
      return this.cloneArray(this.records.slice(begin, end));
    };

    Model.first = function(end) {
      var ref;
      if (end == null) {
        end = 1;
      }
      if (end > 1) {
        return this.cloneArray(this.records.slice(0, end));
      } else {
        return (ref = this.records[0]) != null ? ref.clone() : void 0;
      }
    };

    Model.last = function(begin) {
      var ref;
      if (typeof begin === 'number') {
        return this.cloneArray(this.records.slice(-begin));
      } else {
        return (ref = this.records[this.records.length - 1]) != null ? ref.clone() : void 0;
      }
    };

    Model.count = function() {
      return this.records.length;
    };

    Model.deleteAll = function() {
      this.records = [];
      return this.irecords = {};
    };

    Model.destroyAll = function(options) {
      var j, len, record, ref, results;
      ref = this.records;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        record = ref[j];
        results.push(record.destroy(options));
      }
      return results;
    };

    Model.update = function(id, atts, options) {
      return this.find(id).updateAttributes(atts, options);
    };

    Model.create = function(atts, options) {
      var record;
      record = new this(atts);
      return record.save(options);
    };

    Model.destroy = function(id, options) {
      var ref;
      return (ref = this.find(id)) != null ? ref.destroy(options) : void 0;
    };

    Model.change = function(callbackOrParams) {
      if (typeof callbackOrParams === 'function') {
        return this.bind('change', callbackOrParams);
      } else {
        return this.trigger.apply(this, ['change'].concat(slice.call(arguments)));
      }
    };

    Model.fetch = function(callbackOrParams) {
      if (typeof callbackOrParams === 'function') {
        return this.bind('fetch', callbackOrParams);
      } else {
        return this.trigger.apply(this, ['fetch'].concat(slice.call(arguments)));
      }
    };

    Model.toJSON = function() {
      return this.records;
    };

    Model.beforeFromJSON = function(objects) {
      return objects;
    };

    Model.fromJSON = function(objects) {
      var j, len, results, value;
      if (!objects) {
        return;
      }
      if (typeof objects === 'string') {
        objects = JSON.parse(objects);
      }
      objects = this.beforeFromJSON(objects);
      if (Array.isArray(objects)) {
        results = [];
        for (j = 0, len = objects.length; j < len; j++) {
          value = objects[j];
          if (value instanceof this) {
            results.push(value);
          } else {
            results.push(new this(value));
          }
        }
        return results;
      } else {
        if (objects instanceof this) {
          return objects;
        }
        return new this(objects);
      }
    };

    Model.fromForm = function() {
      var ref;
      return (ref = new this).fromForm.apply(ref, arguments);
    };

    Model.sort = function() {
      if (this.comparator) {
        this.records.sort(this.comparator);
      }
      return this;
    };

    Model.cloneArray = function(array) {
      var j, len, results, value;
      results = [];
      for (j = 0, len = array.length; j < len; j++) {
        value = array[j];
        results.push(value.clone());
      }
      return results;
    };

    Model.idCounter = 0;

    Model.uid = function(prefix) {
      var uid;
      if (prefix == null) {
        prefix = '';
      }
      uid = prefix + this.idCounter++;
      if (this.exists(uid)) {
        uid = this.uid(prefix);
      }
      return uid;
    };

    function Model(atts) {
      Model.__super__.constructor.apply(this, arguments);
      if ((this.constructor.uuid != null) && typeof this.constructor.uuid === 'function') {
        this.cid = this.constructor.uuid();
        if (!this.id) {
          this.id = this.cid;
        }
      } else {
        this.cid = (atts != null ? atts.cid : void 0) || this.constructor.uid('c-');
      }
      if (atts) {
        this.load(atts);
      }
    }

    Model.prototype.isNew = function() {
      return !this.exists();
    };

    Model.prototype.isValid = function() {
      return !this.validate();
    };

    Model.prototype.validate = function() {};

    Model.prototype.load = function(atts) {
      var key, value;
      if (atts.id) {
        this.id = atts.id;
      }
      for (key in atts) {
        value = atts[key];
        if (key === '_callbacks') {
          continue;
        }
        if (typeof this[key] === 'function') {
          if (typeof value === 'function') {
            continue;
          }
          this[key](value);
        } else {
          this[key] = value;
        }
      }
      return this;
    };

    Model.prototype.attributes = function() {
      var j, key, len, ref, result;
      result = {};
      ref = this.constructor.attributes;
      for (j = 0, len = ref.length; j < len; j++) {
        key = ref[j];
        if (key in this) {
          if (typeof this[key] === 'function') {
            result[key] = this[key]();
          } else {
            result[key] = this[key];
          }
        }
      }
      if (this.id) {
        result.id = this.id;
      }
      return result;
    };

    Model.prototype.eql = function(rec) {
      return rec && rec.constructor === this.constructor && ((rec.cid === this.cid) || (rec.id && rec.id === this.id));
    };

    Model.prototype.save = function(options) {
      var error, record;
      if (options == null) {
        options = {};
      }
      if (options.validate !== false) {
        error = this.validate();
        if (error) {
          this.trigger('error', this, error);
          return false;
        }
      }
      this.trigger('beforeSave', this, options);
      record = this.isNew() ? this.create(options) : this.update(options);
      this.stripCloneAttrs();
      this.trigger('save', record, options);
      return record;
    };

    Model.prototype.stripCloneAttrs = function() {
      var key, value;
      if (this.hasOwnProperty('cid')) {
        return;
      }
      for (key in this) {
        if (!hasProp.call(this, key)) continue;
        value = this[key];
        if (indexOf.call(this.constructor.attributes, key) >= 0) {
          delete this[key];
        }
      }
      return this;
    };

    Model.prototype.updateAttribute = function(name, value, options) {
      var atts;
      atts = {};
      atts[name] = value;
      return this.updateAttributes(atts, options);
    };

    Model.prototype.updateAttributes = function(atts, options) {
      this.load(atts);
      return this.save(options);
    };

    Model.prototype.changeID = function(id) {
      var records;
      if (id === this.id) {
        return;
      }
      records = this.constructor.irecords;
      records[id] = records[this.id];
      if (this.cid !== this.id) {
        delete records[this.id];
      }
      return this.id = id;
    };

    Model.prototype.remove = function(options) {
      var i, j, len, record, records;
      if (options == null) {
        options = {};
      }
      records = this.constructor.records.slice(0);
      for (i = j = 0, len = records.length; j < len; i = ++j) {
        record = records[i];
        if (!(this.eql(record))) {
          continue;
        }
        records.splice(i, 1);
        break;
      }
      this.constructor.records = records;
      if (options.clear) {
        delete this.constructor.irecords[this.id];
        return delete this.constructor.irecords[this.cid];
      }
    };

    Model.prototype.destroy = function(options) {
      if (options == null) {
        options = {};
      }
      if (options.clear == null) {
        options.clear = true;
      }
      this.trigger('beforeDestroy', this, options);
      this.remove(options);
      this.destroyed = true;
      this.trigger('destroy', this, options);
      this.trigger('change', this, 'destroy', options);
      if (this.listeningTo) {
        this.stopListening();
      }
      this.unbind();
      return this;
    };

    Model.prototype.dup = function(newRecord) {
      var atts, record;
      if (newRecord == null) {
        newRecord = true;
      }
      atts = this.attributes();
      if (newRecord) {
        delete atts.id;
      } else {
        atts.cid = this.cid;
      }
      record = new this.constructor(atts);
      if (!newRecord) {
        this._callbacks && (record._callbacks = this._callbacks);
      }
      return record;
    };

    Model.prototype.clone = function() {
      return createObject(this);
    };

    Model.prototype.reload = function() {
      var original;
      if (this.isNew()) {
        return this;
      }
      original = this.constructor.find(this.id);
      this.load(original.attributes());
      return original;
    };

    Model.prototype.refresh = function(atts) {
      atts = this.constructor.fromJSON(atts);
      if (atts.id && this.id !== atts.id) {
        this.changeID(atts.id);
      }
      this.constructor.irecords[this.id].load(atts);
      this.trigger('refresh', this);
      this.trigger('change', this, 'refresh');
      return this;
    };

    Model.prototype.toJSON = function() {
      return this.attributes();
    };

    Model.prototype.toString = function() {
      return "<" + this.constructor.className + " (" + (JSON.stringify(this)) + ")>";
    };

    Model.prototype.fromForm = function(form) {
      var checkbox, j, k, key, l, len, len1, len2, name, name1, ref, ref1, ref2, result;
      result = {};
      ref = $(form).find('[type=checkbox]:not([value])');
      for (j = 0, len = ref.length; j < len; j++) {
        checkbox = ref[j];
        result[checkbox.name] = $(checkbox).prop('checked');
      }
      ref1 = $(form).find('[type=checkbox][name$="[]"]');
      for (k = 0, len1 = ref1.length; k < len1; k++) {
        checkbox = ref1[k];
        name = checkbox.name.replace(/\[\]$/, '');
        result[name] || (result[name] = []);
        if ($(checkbox).prop('checked')) {
          result[name].push(checkbox.value);
        }
      }
      ref2 = $(form).serializeArray();
      for (l = 0, len2 = ref2.length; l < len2; l++) {
        key = ref2[l];
        result[name1 = key.name] || (result[name1] = key.value);
      }
      return this.load(result);
    };

    Model.prototype.exists = function() {
      return this.constructor.exists(this.id);
    };

    Model.prototype.update = function(options) {
      var clone, records;
      this.trigger('beforeUpdate', this, options);
      records = this.constructor.irecords;
      records[this.id].load(this.attributes());
      this.constructor.sort();
      clone = records[this.id].clone();
      clone.trigger('update', clone, options);
      clone.trigger('change', clone, 'update', options);
      return clone;
    };

    Model.prototype.create = function(options) {
      var clone, record;
      this.trigger('beforeCreate', this, options);
      this.id || (this.id = this.cid);
      record = this.dup(false);
      this.constructor.addRecord(record, options.idx);
      this.constructor.sort();
      clone = record.clone();
      clone.trigger('create', clone, options);
      clone.trigger('change', clone, 'create', options);
      return clone;
    };

    Model.prototype.bind = function() {
      var record;
      record = this.constructor.irecords[this.id] || this;
      return Events.bind.apply(record, arguments);
    };

    Model.prototype.one = function() {
      var record;
      record = this.constructor.irecords[this.id] || this;
      return Events.one.apply(record, arguments);
    };

    Model.prototype.unbind = function() {
      var record;
      record = this.constructor.irecords[this.id] || this;
      return Events.unbind.apply(record, arguments);
    };

    Model.prototype.trigger = function() {
      var ref;
      Events.trigger.apply(this, arguments);
      if (arguments[0] === 'refresh') {
        return true;
      }
      return (ref = this.constructor).trigger.apply(ref, arguments);
    };

    return Model;

  })(Module);

  Model.prototype.on = Model.prototype.bind;

  Model.prototype.off = Model.prototype.unbind;

  Controller = (function(superClass) {
    extend(Controller, superClass);

    Controller.include(Events);

    Controller.include(Log);

    Controller.prototype.eventSplitter = /^(\S+)\s*(.*)$/;

    Controller.prototype.tag = 'div';

    function Controller(options) {
      this.release = bind(this.release, this);
      var context, key, parent_prototype, ref, value;
      this.options = options;
      ref = this.options;
      for (key in ref) {
        value = ref[key];
        this[key] = value;
      }
      if (!this.el) {
        this.el = document.createElement(this.tag);
      }
      this.el = $(this.el);
      if (this.className) {
        this.el.addClass(this.className);
      }
      if (this.attributes) {
        this.el.attr(this.attributes);
      }
      if (!this.events) {
        this.events = this.constructor.events;
      }
      if (!this.elements) {
        this.elements = this.constructor.elements;
      }
      context = this;
      while (parent_prototype = context.constructor.__super__) {
        if (parent_prototype.events) {
          this.events = $.extend({}, parent_prototype.events, this.events);
        }
        if (parent_prototype.elements) {
          this.elements = $.extend({}, parent_prototype.elements, this.elements);
        }
        context = parent_prototype;
      }
      if (this.events) {
        this.delegateEvents(this.events);
      }
      if (this.elements) {
        this.refreshElements();
      }
      Controller.__super__.constructor.apply(this, arguments);
    }

    Controller.prototype.release = function() {
      this.trigger('release', this);
      this.el.remove();
      this.unbind();
      return this.stopListening();
    };

    Controller.prototype.$ = function(selector) {
      return this.el.find(selector);
    };

    Controller.prototype.delegateEvents = function(events) {
      var eventName, key, match, method, results, selector;
      results = [];
      for (key in events) {
        method = events[key];
        if (typeof method === 'function') {
          method = (function(_this) {
            return function(method) {
              return function() {
                method.apply(_this, arguments);
                return true;
              };
            };
          })(this)(method);
        } else {
          if (!this[method]) {
            throw new Error(method + " doesn't exist");
          }
          method = (function(_this) {
            return function(method) {
              return function() {
                _this[method].apply(_this, arguments);
                return true;
              };
            };
          })(this)(method);
        }
        match = key.match(this.eventSplitter);
        eventName = match[1];
        selector = match[2];
        if (selector === '') {
          results.push(this.el.bind(eventName, method));
        } else {
          results.push(this.el.on(eventName, selector, method));
        }
      }
      return results;
    };

    Controller.prototype.refreshElements = function() {
      var key, ref, results, value;
      ref = this.elements;
      results = [];
      for (key in ref) {
        value = ref[key];
        results.push(this[value] = this.$(key));
      }
      return results;
    };

    Controller.prototype.delay = function(func, timeout) {
      return setTimeout(this.proxy(func), timeout || 0);
    };

    Controller.prototype.html = function(element) {
      this.el.html(element.el || element);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.append = function() {
      var e, elements, ref;
      elements = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      elements = (function() {
        var j, len, results;
        results = [];
        for (j = 0, len = elements.length; j < len; j++) {
          e = elements[j];
          results.push(e.el || e);
        }
        return results;
      })();
      (ref = this.el).append.apply(ref, elements);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.appendTo = function(element) {
      this.el.appendTo(element.el || element);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.prepend = function() {
      var e, elements, ref;
      elements = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      elements = (function() {
        var j, len, results;
        results = [];
        for (j = 0, len = elements.length; j < len; j++) {
          e = elements[j];
          results.push(e.el || e);
        }
        return results;
      })();
      (ref = this.el).prepend.apply(ref, elements);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.replace = function(element) {
      var previous, ref, ref1;
      element = element.el || element;
      if (typeof element === "string") {
        element = $.trim(element);
      }
      ref1 = [this.el, $(((ref = $.parseHTML(element)) != null ? ref[0] : void 0) || element)], previous = ref1[0], this.el = ref1[1];
      previous.replaceWith(this.el);
      this.delegateEvents(this.events);
      this.refreshElements();
      return this.el;
    };

    return Controller;

  })(Module);

  $ = (typeof window !== "undefined" && window !== null ? window.jQuery : void 0) || (typeof window !== "undefined" && window !== null ? window.Zepto : void 0) || function(element) {
    return element;
  };

  createObject = Object.create || function(o) {
    var Func;
    Func = function() {};
    Func.prototype = o;
    return new Func();
  };

  makeArray = function(args) {
    return Array.prototype.slice.call(args, 0);
  };

  Spine = this.Spine = {};

  if (typeof module !== "undefined" && module !== null) {
    module.exports = Spine;
  }

  Spine.version = '1.6.2';

  Spine.$ = $;

  Spine.Events = Events;

  Spine.Log = Log;

  Spine.Module = Module;

  Spine.Controller = Controller;

  Spine.Model = Model;

  Module.extend.call(Spine, Events);

  Module.create = Module.sub = Controller.create = Controller.sub = Model.sub = function(instances, statics) {
    var Result;
    Result = (function(superClass) {
      extend(Result, superClass);

      function Result() {
        return Result.__super__.constructor.apply(this, arguments);
      }

      return Result;

    })(this);
    if (instances) {
      Result.include(instances);
    }
    if (statics) {
      Result.extend(statics);
    }
    if (typeof Result.unbind === "function") {
      Result.unbind();
    }
    return Result;
  };

  Model.setup = function(name, attributes) {
    var Instance;
    if (attributes == null) {
      attributes = [];
    }
    Instance = (function(superClass) {
      extend(Instance, superClass);

      function Instance() {
        return Instance.__super__.constructor.apply(this, arguments);
      }

      return Instance;

    })(this);
    Instance.configure.apply(Instance, [name].concat(slice.call(attributes)));
    return Instance;
  };

  Spine.Class = Module;

}).call(this);

//# sourceMappingURL=spine.js.map
 },"spine/lib/ajax": function(exports, require, module) { // Generated by CoffeeScript 1.10.0
(function() {
  var $, Ajax, Base, Collection, Extend, GenerateURL, Include, Model, Queue, Singleton, Spine,
    slice = [].slice,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = this.Spine || require('spine');

  $ = Spine.$;

  Model = Spine.Model;

  Queue = $({});

  Ajax = {
    getURL: function(object) {
      if (object.className != null) {
        return this.generateURL(object);
      } else {
        return this.generateURL(object, encodeURIComponent(object.id));
      }
    },
    getCollectionURL: function(object) {
      return this.generateURL(object);
    },
    getScope: function(object) {
      return (typeof object.scope === "function" ? object.scope() : void 0) || object.scope;
    },
    getCollection: function(object) {
      if (object.url !== object.generateURL) {
        if (typeof object.url === 'function') {
          return object.url();
        } else {
          return object.url;
        }
      } else if (object.className != null) {
        return object.className.toLowerCase() + 's';
      }
    },
    generateURL: function() {
      var args, collection, object, path, scope;
      object = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];
      collection = Ajax.getCollection(object) || Ajax.getCollection(object.constructor);
      scope = Ajax.getScope(object) || Ajax.getScope(object.constructor);
      args.unshift(collection);
      args.unshift(scope);
      path = args.join('/');
      path = path.replace(/(\/\/)/g, "/");
      path = path.replace(/^\/|\/$/g, "");
      if (path.indexOf("../") !== 0) {
        return Model.host + "/" + path;
      } else {
        return path;
      }
    },
    enabled: true,
    disable: function(callback) {
      var e, error1;
      if (this.enabled) {
        this.enabled = false;
        try {
          return callback();
        } catch (error1) {
          e = error1;
          throw e;
        } finally {
          this.enabled = true;
        }
      } else {
        return callback();
      }
    },
    queue: function(request) {
      if (request) {
        return Queue.queue(request);
      } else {
        return Queue.queue();
      }
    },
    clearQueue: function() {
      return this.queue([]);
    },
    config: {
      loadMethod: 'GET',
      updateMethod: 'PUT',
      createMethod: 'POST',
      destroyMethod: 'DELETE'
    }
  };

  Base = (function() {
    function Base() {}

    Base.prototype.defaults = {
      dataType: 'json',
      processData: false,
      headers: {
        'X-Requested-With': 'XMLHttpRequest'
      }
    };

    Base.prototype.queue = Ajax.queue;

    Base.prototype.ajax = function(params, defaults) {
      return $.ajax(this.ajaxSettings(params, defaults));
    };

    Base.prototype.ajaxQueue = function(params, defaults, record) {
      var deferred, jqXHR, parallel, promise, request, settings;
      jqXHR = null;
      deferred = $.Deferred();
      promise = deferred.promise();
      if (!Ajax.enabled) {
        return promise;
      }
      settings = this.ajaxSettings(params, defaults);
      parallel = settings.parallel !== void 0 ? settings.parallel : settings.type === 'GET';
      request = function(next) {
        var ref, reject, resolve;
        if ((record != null ? record.id : void 0) != null) {
          if (settings.url == null) {
            settings.url = Ajax.getURL(record);
          }
          if ((ref = settings.data) != null) {
            ref.id = record.id;
          }
        }
        if (typeof settings.data !== 'string' && settings.processData !== true) {
          settings.data = JSON.stringify(settings.data);
        }
        resolve = function() {
          return deferred.resolve.apply(this, slice.call(arguments).concat([settings]));
        };
        reject = function() {
          return deferred.reject.apply(this, slice.call(arguments).concat([settings]));
        };
        jqXHR = $.ajax(settings);
        jqXHR.done(resolve);
        jqXHR.fail(reject);
        jqXHR.then(next, next);
        if (parallel) {
          return Queue.dequeue();
        }
      };
      promise.abort = function(statusText) {
        var index;
        if (jqXHR) {
          return jqXHR.abort(statusText);
        }
        index = $.inArray(request, this.queue());
        if (index > -1) {
          this.queue().splice(index, 1);
        }
        deferred.rejectWith(settings.context || settings, [promise, statusText, '']);
        return promise;
      };
      this.queue(request);
      return promise;
    };

    Base.prototype.ajaxSettings = function(params, defaults) {
      return $.extend({}, this.defaults, defaults, params);
    };

    return Base;

  })();

  Collection = (function(superClass) {
    extend(Collection, superClass);

    function Collection(model) {
      this.model = model;
      this.failResponse = bind(this.failResponse, this);
      this.recordsResponse = bind(this.recordsResponse, this);
    }

    Collection.prototype.find = function(id, params, options) {
      var record;
      if (options == null) {
        options = {};
      }
      record = new this.model({
        id: id
      });
      return this.ajaxQueue(params, {
        type: options.method || Ajax.config.loadMethod,
        url: options.url || Ajax.getURL(record),
        parallel: options.parallel
      }).done(this.recordsResponse(options)).fail(this.failResponse(options));
    };

    Collection.prototype.all = function(params, options) {
      if (options == null) {
        options = {};
      }
      return this.ajaxQueue(params, {
        type: options.method || Ajax.config.loadMethod,
        url: options.url || Ajax.getURL(this.model),
        parallel: options.parallel
      }).done(this.recordsResponse(options)).fail(this.failResponse(options));
    };

    Collection.prototype.fetch = function(params, options) {
      var id;
      if (params == null) {
        params = {};
      }
      if (options == null) {
        options = {};
      }
      if (id = params.id) {
        delete params.id;
        return this.find(id, params, options).done((function(_this) {
          return function(record) {
            return _this.model.refresh(record, options);
          };
        })(this));
      } else {
        return this.all(params, options).done((function(_this) {
          return function(records) {
            return _this.model.refresh(records, options);
          };
        })(this));
      }
    };

    Collection.prototype.recordsResponse = function(options) {
      return (function(_this) {
        return function(data, status, xhr, settings) {
          var ref;
          _this.model.trigger('ajaxSuccess', null, status, xhr, settings);
          return (ref = options.done) != null ? ref.call(_this.model, settings) : void 0;
        };
      })(this);
    };

    Collection.prototype.failResponse = function(options) {
      return (function(_this) {
        return function(xhr, statusText, error, settings) {
          var ref;
          _this.model.trigger('ajaxError', null, xhr, statusText, error, settings);
          return (ref = options.fail) != null ? ref.call(_this.model, settings) : void 0;
        };
      })(this);
    };

    return Collection;

  })(Base);

  Singleton = (function(superClass) {
    extend(Singleton, superClass);

    function Singleton(record1) {
      this.record = record1;
      this.failResponse = bind(this.failResponse, this);
      this.recordResponse = bind(this.recordResponse, this);
      this.model = this.record.constructor;
    }

    Singleton.prototype.reload = function(params, options) {
      if (options == null) {
        options = {};
      }
      return this.ajaxQueue(params, {
        type: options.method || Ajax.config.loadMethod,
        url: options.url,
        parallel: options.parallel
      }, this.record).done(this.recordResponse(options)).fail(this.failResponse(options));
    };

    Singleton.prototype.create = function(params, options) {
      if (options == null) {
        options = {};
      }
      return this.ajaxQueue(params, {
        type: options.method || Ajax.config.createMethod,
        contentType: 'application/json',
        data: this.record.toJSON(),
        url: options.url || Ajax.getCollectionURL(this.record),
        parallel: options.parallel
      }).done(this.recordResponse(options)).fail(this.failResponse(options));
    };

    Singleton.prototype.update = function(params, options) {
      if (options == null) {
        options = {};
      }
      return this.ajaxQueue(params, {
        type: options.method || Ajax.config.updateMethod,
        contentType: 'application/json',
        data: this.record.toJSON(),
        url: options.url,
        parallel: options.parallel
      }, this.record).done(this.recordResponse(options)).fail(this.failResponse(options));
    };

    Singleton.prototype.destroy = function(params, options) {
      if (options == null) {
        options = {};
      }
      return this.ajaxQueue(params, {
        type: options.method || Ajax.config.destroyMethod,
        url: options.url,
        parallel: options.parallel
      }, this.record).done(this.recordResponse(options)).fail(this.failResponse(options));
    };

    Singleton.prototype.recordResponse = function(options) {
      return (function(_this) {
        return function(data, status, xhr, settings) {
          var ref;
          if ((data != null) && Object.getOwnPropertyNames(data).length && !_this.record.destroyed) {
            _this.record.refresh(data, {
              ajax: false
            });
          }
          _this.record.trigger('ajaxSuccess', _this.record, _this.model.fromJSON(data), status, xhr, settings);
          return (ref = options.done) != null ? ref.call(_this.record, settings) : void 0;
        };
      })(this);
    };

    Singleton.prototype.failResponse = function(options) {
      return (function(_this) {
        return function(xhr, statusText, error, settings) {
          var ref;
          switch (settings.type) {
            case 'POST':
              _this.createFailed();
              break;
            case 'DELETE':
              _this.destroyFailed();
          }
          _this.record.trigger('ajaxError', _this.record, xhr, statusText, error, settings);
          return (ref = options.fail) != null ? ref.call(_this.record, settings) : void 0;
        };
      })(this);
    };

    Singleton.prototype.createFailed = function() {
      return this.record.remove({
        clear: true
      });
    };

    Singleton.prototype.destroyFailed = function() {
      this.record.destroyed = false;
      return this.record.constructor.refresh(this.record);
    };

    return Singleton;

  })(Base);

  Model.host = '';

  GenerateURL = {
    include: function() {
      var args;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      args.unshift(encodeURIComponent(this.id));
      return Ajax.generateURL.apply(Ajax, [this].concat(slice.call(args)));
    },
    extend: function() {
      var args;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      return Ajax.generateURL.apply(Ajax, [this].concat(slice.call(args)));
    }
  };

  Include = {
    ajax: function() {
      return new Singleton(this);
    },
    generateURL: GenerateURL.include,
    url: GenerateURL.include
  };

  Extend = {
    ajax: function() {
      return new Collection(this);
    },
    generateURL: GenerateURL.extend,
    url: GenerateURL.extend
  };

  Model.Ajax = {
    extended: function() {
      this.fetch(this.ajaxFetch);
      this.change(this.ajaxChange);
      this.extend(Extend);
      return this.include(Include);
    },
    ajaxFetch: function() {
      var ref;
      return (ref = this.ajax()).fetch.apply(ref, arguments);
    },
    ajaxChange: function(record, type, options) {
      var base;
      if (options == null) {
        options = {};
      }
      if (options.ajax === false) {
        return;
      }
      return typeof (base = record.ajax())[type] === "function" ? base[type](options.ajax, options) : void 0;
    }
  };

  Model.Ajax.Methods = {
    extended: function() {
      this.extend(Extend);
      return this.include(Include);
    }
  };

  Ajax.defaults = Base.prototype.defaults;

  Ajax.Base = Base;

  Ajax.Singleton = Singleton;

  Ajax.Collection = Collection;

  Spine.Ajax = Ajax;

  if (typeof module !== "undefined" && module !== null) {
    module.exports = Ajax;
  }

}).call(this);

//# sourceMappingURL=ajax.js.map
 },"spine/lib/route": function(exports, require, module) { // Generated by CoffeeScript 1.10.0
(function() {
  var $, Path, Route, Spine, escapeRegExp, hashStrip, namedParam, splatParam,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    slice = [].slice;

  Spine = this.Spine || require('spine');

  $ = Spine.$;

  hashStrip = /^#*/;

  namedParam = /:([\w\d]+)/g;

  splatParam = /\*([\w\d]+)/g;

  escapeRegExp = /[-[\]{}()+?.,\\^$|#\s]/g;

  Path = (function(superClass) {
    extend(Path, superClass);

    function Path(path, callback) {
      var match;
      this.names = [];
      this.path = path;
      this.callback = callback;
      if (typeof path === 'string') {
        namedParam.lastIndex = 0;
        while ((match = namedParam.exec(path)) !== null) {
          this.names.push(match[1]);
        }
        splatParam.lastIndex = 0;
        while ((match = splatParam.exec(path)) !== null) {
          this.names.push(match[1]);
        }
        path = path.replace(escapeRegExp, '\\$&').replace(namedParam, '([^\/]*)').replace(splatParam, '(.*?)');
        this.route = new RegExp("^" + path + "$");
      } else {
        this.route = path;
      }
    }

    Path.prototype.match = function(path, options) {
      var i, j, len, match, param, params;
      if (options == null) {
        options = {};
      }
      if (!(match = this.route.exec(path))) {
        return false;
      }
      options.match = match;
      params = match.slice(1);
      if (this.names.length) {
        for (i = j = 0, len = params.length; j < len; i = ++j) {
          param = params[i];
          options[this.names[i]] = param;
        }
      }
      Route.trigger('before', this);
      return this.callback.call(null, options) !== false;
    };

    return Path;

  })(Spine.Module);

  Route = (function(superClass) {
    var ref;

    extend(Route, superClass);

    Route.extend(Spine.Events);

    Route.historySupport = ((ref = window.history) != null ? ref.pushState : void 0) != null;

    Route.options = {
      trigger: true,
      history: false,
      shim: false,
      replace: false,
      redirect: false
    };

    Route.routers = [];

    Route.setup = function(options) {
      if (options == null) {
        options = {};
      }
      this.options = $.extend({}, this.options, options);
      if (this.options.history) {
        this.history = this.historySupport && this.options.history;
      }
      if (this.options.shim) {
        return;
      }
      if (this.history) {
        $(window).bind('popstate', this.change);
      } else {
        $(window).bind('hashchange', this.change);
      }
      return this.change();
    };

    Route.unbind = function() {
      var unbindResult;
      unbindResult = Spine.Events.unbind.apply(this, arguments);
      if (arguments.length > 0) {
        return unbindResult;
      }
      if (this.options.shim) {
        return;
      }
      if (this.history) {
        return $(window).unbind('popstate', this.change);
      } else {
        return $(window).unbind('hashchange', this.change);
      }
    };

    Route.navigate = function() {
      var args, lastArg, options, path, routes;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      options = {};
      lastArg = args[args.length - 1];
      if (typeof lastArg === 'object') {
        options = args.pop();
      } else if (typeof lastArg === 'boolean') {
        options.trigger = args.pop();
      }
      options = $.extend({}, this.options, options);
      path = args.join('/');
      if (this.path === path) {
        return;
      }
      this.path = path;
      if (options.trigger) {
        this.trigger('navigate', this.path);
        routes = this.matchRoutes(this.path, options);
        if (!routes.length) {
          if (typeof options.redirect === 'function') {
            return options.redirect.apply(this, [this.path, options]);
          } else {
            if (options.redirect === true) {
              this.redirect(this.path);
            }
          }
        }
      }
      if (options.shim) {
        return true;
      } else if (this.history && options.replace) {
        return history.replaceState({}, document.title, this.path);
      } else if (this.history) {
        return history.pushState({}, document.title, this.path);
      } else {
        return window.location.hash = this.path;
      }
    };

    Route.create = function() {
      var router;
      router = new this;
      this.routers.push(router);
      return router;
    };

    Route.add = function(path, callback) {
      return this.router.add(path, callback);
    };

    Route.prototype.add = function(path, callback) {
      var key, results, value;
      if (typeof path === 'object' && !(path instanceof RegExp)) {
        results = [];
        for (key in path) {
          value = path[key];
          results.push(this.add(key, value));
        }
        return results;
      } else {
        return this.routes.push(new Path(path, callback));
      }
    };

    Route.prototype.destroy = function() {
      var r;
      this.routes.length = 0;
      return this.constructor.routers = (function() {
        var j, len, ref1, results;
        ref1 = this.constructor.routers;
        results = [];
        for (j = 0, len = ref1.length; j < len; j++) {
          r = ref1[j];
          if (r !== this) {
            results.push(r);
          }
        }
        return results;
      }).call(this);
    };

    Route.getPath = function() {
      var path;
      if (this.history) {
        path = window.location.pathname;
        if (path.substr(0, 1) !== '/') {
          path = '/' + path;
        }
      } else {
        path = window.location.hash;
        path = path.replace(hashStrip, '');
      }
      return path;
    };

    Route.getHost = function() {
      return window.location.protocol + "//" + window.location.host;
    };

    Route.change = function() {
      var path;
      path = Route.getPath();
      if (path === Route.path) {
        return;
      }
      Route.path = path;
      return Route.matchRoutes(Route.path);
    };

    Route.matchRoutes = function(path, options) {
      var j, len, match, matches, ref1, router;
      matches = [];
      ref1 = this.routers.concat([this.router]);
      for (j = 0, len = ref1.length; j < len; j++) {
        router = ref1[j];
        match = router.matchRoute(path, options);
        if (match) {
          matches.push(match);
        }
      }
      if (matches.length) {
        this.trigger('change', matches, path);
      }
      return matches;
    };

    Route.redirect = function(path) {
      return window.location = path;
    };

    function Route() {
      this.routes = [];
    }

    Route.prototype.matchRoute = function(path, options) {
      var j, len, ref1, route;
      ref1 = this.routes;
      for (j = 0, len = ref1.length; j < len; j++) {
        route = ref1[j];
        if (route.match(path, options)) {
          return route;
        }
      }
    };

    Route.prototype.trigger = function() {
      var args, ref1;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      args.splice(1, 0, this);
      return (ref1 = this.constructor).trigger.apply(ref1, args);
    };

    return Route;

  })(Spine.Module);

  Route.router = new Route;

  Spine.Controller.include({
    route: function(path, callback) {
      if (this.router instanceof Spine.Route) {
        return this.router.add(path, this.proxy(callback));
      } else {
        return Spine.Route.add(path, this.proxy(callback));
      }
    },
    routes: function(routes) {
      var key, results, value;
      results = [];
      for (key in routes) {
        value = routes[key];
        results.push(this.route(key, value));
      }
      return results;
    },
    navigate: function() {
      return Spine.Route.navigate.apply(Spine.Route, arguments);
    }
  });

  Route.Path = Path;

  Spine.Route = Route;

  if (typeof module !== "undefined" && module !== null) {
    module.exports = Route;
  }

}).call(this);

//# sourceMappingURL=route.js.map
 },"spine/lib/manager": function(exports, require, module) { // Generated by CoffeeScript 1.10.0
(function() {
  var $, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    slice = [].slice,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Spine = this.Spine || require('spine');

  $ = Spine.$;

  Spine.Manager = (function(superClass) {
    extend(Manager, superClass);

    Manager.include(Spine.Events);

    function Manager() {
      this.controllers = [];
      this.bind('change', this.change);
      this.add.apply(this, arguments);
    }

    Manager.prototype.add = function() {
      var cont, controllers, i, len, results;
      controllers = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      results = [];
      for (i = 0, len = controllers.length; i < len; i++) {
        cont = controllers[i];
        results.push(this.addOne(cont));
      }
      return results;
    };

    Manager.prototype.addOne = function(controller) {
      controller.bind('active', (function(_this) {
        return function() {
          var args;
          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
          return _this.trigger.apply(_this, ['change', controller].concat(slice.call(args)));
        };
      })(this));
      controller.bind('release', (function(_this) {
        return function() {
          var c;
          return _this.controllers = (function() {
            var i, len, ref, results;
            ref = this.controllers;
            results = [];
            for (i = 0, len = ref.length; i < len; i++) {
              c = ref[i];
              if (c !== controller) {
                results.push(c);
              }
            }
            return results;
          }).call(_this);
        };
      })(this));
      return this.controllers.push(controller);
    };

    Manager.prototype.deactivate = function() {
      return this.trigger.apply(this, ['change', false].concat(slice.call(arguments)));
    };

    Manager.prototype.change = function() {
      var args, cont, current, i, len, ref;
      current = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];
      ref = this.controllers;
      for (i = 0, len = ref.length; i < len; i++) {
        cont = ref[i];
        if (cont !== current) {
          cont.deactivate.apply(cont, args);
        }
      }
      if (current) {
        return current.activate.apply(current, args);
      }
    };

    return Manager;

  })(Spine.Module);

  Spine.Controller.include({
    active: function() {
      var args;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      if (typeof args[0] === 'function') {
        this.bind('active', args[0]);
      } else {
        args.unshift('active');
        this.trigger.apply(this, args);
      }
      return this;
    },
    isActive: function() {
      return this.el.hasClass('active');
    },
    activate: function() {
      this.el.addClass('active');
      return this;
    },
    deactivate: function() {
      this.el.removeClass('active');
      return this;
    }
  });

  Spine.Stack = (function(superClass) {
    extend(Stack, superClass);

    Stack.prototype.controllers = {};

    Stack.prototype.routes = {};

    Stack.prototype.className = 'spine stack';

    function Stack() {
      this.release = bind(this.release, this);
      var fn, key, ref, ref1, ref2, value;
      Stack.__super__.constructor.apply(this, arguments);
      this.manager = new Spine.Manager;
      this.router = (ref = Spine.Route) != null ? ref.create() : void 0;
      ref1 = this.controllers;
      for (key in ref1) {
        value = ref1[key];
        if (this[key] != null) {
          throw Error("'@" + key + "' already assigned");
        }
        this[key] = new value({
          stack: this
        });
        this.add(this[key]);
      }
      ref2 = this.routes;
      fn = (function(_this) {
        return function(key, value) {
          var callback;
          if (typeof value === 'function') {
            callback = value;
          }
          callback || (callback = function() {
            var ref3;
            return (ref3 = _this[value]).active.apply(ref3, arguments);
          });
          return _this.route(key, callback);
        };
      })(this);
      for (key in ref2) {
        value = ref2[key];
        fn(key, value);
      }
      if (this["default"]) {
        this[this["default"]].active();
      }
    }

    Stack.prototype.add = function(controller) {
      this.manager.add(controller);
      return this.append(controller);
    };

    Stack.prototype.release = function() {
      var ref;
      if ((ref = this.router) != null) {
        ref.destroy();
      }
      return Stack.__super__.release.apply(this, arguments);
    };

    return Stack;

  })(Spine.Controller);

  if (typeof module !== "undefined" && module !== null) {
    module.exports = Spine.Manager;
  }

  if (typeof module !== "undefined" && module !== null) {
    module.exports.Stack = Spine.Stack;
  }

}).call(this);

//# sourceMappingURL=manager.js.map
 },"spine/lib/local": function(exports, require, module) { // Generated by CoffeeScript 1.10.0
(function() {
  var Spine;

  Spine = this.Spine || require('spine');

  Spine.Model.Local = {
    extended: function() {
      var e, error, testLocalStorage;
      testLocalStorage = 'spine' + new Date().getTime();
      try {
        localStorage.setItem(testLocalStorage, testLocalStorage);
        localStorage.removeItem(testLocalStorage);
      } catch (error) {
        e = error;
        return;
      }
      this.change(this.saveLocal);
      return this.fetch(this.loadLocal);
    },
    saveLocal: function() {
      var result;
      result = JSON.stringify(this);
      return localStorage[this.className] = result;
    },
    loadLocal: function(options) {
      var result;
      if (options == null) {
        options = {};
      }
      if (!options.hasOwnProperty('clear')) {
        options.clear = true;
      }
      result = localStorage[this.className];
      return this.refresh(result || [], options);
    }
  };

  if (typeof module !== "undefined" && module !== null) {
    module.exports = Spine.Model.Local;
  }

}).call(this);

//# sourceMappingURL=local.js.map
 },"controllers/cityselector": function(exports, require, module) { (function() {
  var Province, citySelector;

  Province = require('models/province');

  citySelector = (function() {
    return {
      Init: function(address, pre, hasDistrict) {
        var initCity, initDistrict, initProvince;
        initProvince = "<option value='0'>请选择省份</option>";
        initCity = "<option value='0'>请选择城市</option>";
        initDistrict = "<option value='0'>请选择区县</option>";
        this._LoadOptions(Province.all(), pre[0], address.eq(0), null, 0, initProvince);
        address.eq(0).change((function(_this) {
          return function() {
            return _this._LoadOptions(Province.getCity(address.eq(0).val()), pre[1], address.eq(1), address.eq(0), 2, initCity);
          };
        })(this));
        if (hasDistrict) {
          address.eq(1).change((function(_this) {
            return function() {
              return _this._LoadOptions(Province.getCity(address.eq(1).val()), pre[2], address.eq(2), address.eq(1), 4, initDistrict);
            };
          })(this));
          address.eq(0).change(function() {
            return address.eq(1).change();
          });
        }
        return setTimeout((function() {
          return address.eq(0).change();
        }), 100);
      },
      _LoadOptions: function(items, preobj, targetobj, parentobj, comparelen, initoption) {
        var i, item, len, p, pre, s, t;
        t = '';
        pre = preobj || 0;
        for (i = 0, len = items.length; i < len; i++) {
          item = items[i];
          s = '';
          if (comparelen === 0) {
            if (pre !== "" && pre !== 0 && item.id === pre) {
              s = ' selected=\"selected\" ';
              pre = '';
            }
            t += '<option value=' + item.id + s + '>' + item.name + '</option>';
          } else {
            p = parentobj.val();
            if (p.substring(0, comparelen) === item.id.substring(0, comparelen)) {
              if (pre !== "" && pre !== 0 && item.id === pre) {
                s = ' selected=\"selected\" ';
                pre = '';
              }
              t += '<option value=' + item.id + s + '>' + item.name + '</option>';
            }
          }
        }
        return targetobj.html(initoption + t);
      }
    };
  })();

  module.exports = citySelector;

}).call(this);
 },"controllers/draw": function(exports, require, module) { (function() {
  var $, Spine, draw;

  Spine = require('spine');

  $ = Spine.$;

  draw = (function() {
    function draw(canvas) {
      this.canvas = canvas;
      this.ruleTemperatureWidth = 50;
      this.ruleTimeHeight = 35;
      this.scale = 0;
      this.offsetX = 0;
      this.unit = 1;
      this.resize();
    }

    draw.prototype.drawRuleTemperature = function() {
      var i, j, linelen, ref, ref1, results, s, x, x0, x1, y;
      this.space = this.ruleTemperatureHeight / 25;
      x0 = this.ruleTemperatureWidth - 5;
      x1 = this.ruleTemperatureWidth;
      this.ctx.lineWidth = 1;
      i = -50;
      results = [];
      for (y = j = ref = this.ruleTemperatureHeight, ref1 = -this.space; ref1 > 0 ? j <= 0 : j >= 0; y = j += ref1) {
        linelen = 0;
        if (!(i % 50)) {
          linelen = 3;
          s = i.toString();
          x = 15 + (3 - s.length) * 8;
          this.ctx.fillText(i.toString(), x, y + 4);
        }
        this.ctx.beginPath();
        this.ctx.moveTo(x0 - linelen, y);
        this.ctx.lineTo(x1, y);
        this.ctx.strokeStyle = "rgba(0,0,0,0.8)";
        this.ctx.stroke();
        this.ctx.beginPath();
        this.ctx.moveTo(x1, y);
        this.ctx.lineTo($(this.canvas)[0].width, y);
        if (i === -50) {
          this.ctx.strokeStyle = "rgba(0,0,0,0.5)";
        } else {
          this.ctx.strokeStyle = "rgba(200,200,200,0.5)";
        }
        this.ctx.stroke();
        results.push(i += 10);
      }
      return results;
    };

    draw.prototype.drawRuleTime = function() {
      var i, interval, j, linelen, ref, ref1, ref2, results, s, sx, x, y0, y1;
      this.xSpace = 60;
      interval = 6;
      this.unit = 1;
      switch (this.scale) {
        case 1:
          this.xSpace = this.ruleTimeWidth / 12;
          interval = 3;
          this.unit = 6;
          break;
        case 2:
          this.xSpace = this.ruleTimeWidth / 12;
          interval = 3;
          this.unit = 12;
          break;
        case 3:
          this.xSpace = this.ruleTimeWidth / 12;
          interval = 3;
          this.unit = 48;
          break;
        default:
          this.xSpace = 60;
          interval = 6;
      }
      y0 = this.ruleTemperatureHeight;
      y1 = this.ruleTemperatureHeight + 5;
      this.ctx.lineWidth = 1;
      i = 0;
      results = [];
      for (sx = j = ref = this.ruleTemperatureWidth, ref1 = this.ruleTimeWidth + this.ruleTemperatureWidth + this.offsetX, ref2 = this.xSpace; ref2 > 0 ? j < ref1 : j > ref1; sx = j += ref2) {
        linelen = 0;
        x = sx - this.offsetX;
        if (!(i % (interval * this.unit))) {
          s = "";
          linelen = 3;
          if (i < 60) {
            s += "0";
          }
          s += (i / 6).toString() + ":00";
          if (x >= this.ruleTemperatureWidth) {
            this.ctx.fillText(s, x - 15, y1 + 16);
          }
        }
        if (x >= this.ruleTemperatureWidth) {
          this.ctx.beginPath();
          this.ctx.moveTo(x, y0);
          this.ctx.lineTo(x, y1 + linelen);
          this.ctx.strokeStyle = "rgba(0,0,0,0.5)";
          this.ctx.stroke();
        }
        this.ctx.beginPath();
        if (i === 0) {
          this.ctx.moveTo(sx, y0);
          this.ctx.lineTo(sx, 0);
          this.ctx.strokeStyle = "rgba(0,0,0,0.5)";
        } else {
          this.ctx.moveTo(x, y0);
          this.ctx.lineTo(x, 0);
          this.ctx.strokeStyle = "rgba(200,200,200,0.5)";
        }
        this.ctx.stroke();
        results.push(i += this.unit);
      }
      return results;
    };

    draw.prototype.drawSeeLine = function(x) {
      this.ctxSee.setTransform(1, 0, 0, 1, 0, 0);
      this.ctxSee.beginPath();
      this.ctxSee.moveTo(x, this.canvas[1].height);
      this.ctxSee.lineTo(x, 0);
      this.ctxSee.strokeStyle = "rgba(0,0,0,0.5)";
      this.ctxSee.stroke();
      return parseInt((x + this.offsetX) * this.unit * 60 / this.xSpace);
    };

    draw.prototype.removeSeeLine = function(x) {
      return this.ctxSee.clearRect(x - 1, 0, x + 1, this.canvas[1].height);
    };

    draw.prototype.drawTemperature = function(recs) {
      var i, j, k, len, len1, rec, rote, t, x, y, y1;
      this.ctx.lineWidth = 1;
      this.ctx.beginPath();
      rote = this.unit * 60 / this.xSpace;
      for (i = j = 0, len = recs.length; j < len; i = ++j) {
        rec = recs[i];
        if (!(rec.time > this.offsetX * rote)) {
          continue;
        }
        t = rec.temperature >> 4;
        x = rec.time / rote - this.offsetX + this.ruleTemperatureWidth;
        y = this.ruleTemperatureHeight - (t + 50) * this.space / 10;
        if (i > 0) {
          this.ctx.lineTo(x, y);
        } else {
          this.ctx.moveTo(x, y);
        }
      }
      this.ctx.strokeStyle = "red";
      this.ctx.stroke();
      this.ctx.beginPath();
      for (i = k = 0, len1 = recs.length; k < len1; i = ++k) {
        rec = recs[i];
        if (!(rec.time > this.offsetX * rote)) {
          continue;
        }
        t = rec.settingtemperature >> 4;
        x = rec.time / rote - this.offsetX + this.ruleTemperatureWidth;
        y1 = this.ruleTemperatureHeight - (t + 50) * this.space / 10;
        if (i > 0) {
          this.ctx.lineTo(x, y1);
        } else {
          this.ctx.moveTo(x, y1);
        }
      }
      this.ctx.strokeStyle = "blue";
      this.ctx.stroke();
      return this.current_point = [x, y, y1];
    };

    draw.prototype.calcCoord = function(rec) {
      var rote, t, x, y, y1;
      rote = this.unit * 60 / this.xSpace;
      t = rec.temperature >> 4;
      x = rec.time / rote - this.offsetX + this.ruleTemperatureWidth;
      y = this.ruleTemperatureHeight - (t + 50) * this.space / 10;
      t = rec.settingtemperature >> 4;
      y1 = this.ruleTemperatureHeight - (t + 50) * this.space / 10;
      return [x, y, y1];
    };

    draw.prototype.moveToPoint = function(rec) {
      return this.current_point = this.calcCoord(rec);
    };

    draw.prototype._drawLine = function(coord, whitch_line) {
      this.ctx.beginPath();
      this.ctx.moveTo(this.current_point[0], this.current_point[whitch_line]);
      this.ctx.lineTo(coord[0], coord[whitch_line]);
      this.ctx.strokeStyle = ["red", "blue"][whitch_line - 1];
      return this.ctx.stroke();
    };

    draw.prototype.drawToPoint = function(rec) {
      var coord;
      this.ctx.lineWidth = 1;
      coord = this.calcCoord(rec);
      this._drawLine(coord, 1);
      this._drawLine(coord, 2);
      return this.current_point = coord;
    };

    draw.prototype.resize = function() {
      var h, w;
      h = 450;
      w = $(this.canvas).parent().width();
      this.canvas[0].width = w;
      this.canvas[0].height = h;
      this.canvas[1].width = w - 50;
      this.canvas[1].height = h - 35;
      this.ruleTemperatureHeight = h - this.ruleTimeHeight;
      this.ruleTimeWidth = w - this.ruleTemperatureWidth;
      this.ctx = this.canvas[0].getContext("2d");
      this.ctxSee = this.canvas[1].getContext("2d");
      this.ctx.width = this.ctx.width;
      this.drawRuleTemperature();
      return this.drawRuleTime();
    };

    draw.prototype.getScale = function() {
      return this.unit;
    };

    draw.prototype.setScale = function(value) {
      this.scale = parseInt(value);
      this.resize();
      return this;
    };

    draw.prototype.setOffset = function(value) {
      this.offsetX = parseInt(value);
      this.resize();
      return this;
    };

    draw.current_point = [0, 0, 0];

    return draw;

  })();

  module.exports = draw;

}).call(this);
 },"controllers/image_option": function(exports, require, module) { (function() {
  var ImageOption, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  ImageOption = (function(superClass) {
    extend(ImageOption, superClass);

    ImageOption.prototype.className = 'imageoption';

    ImageOption.prototype.elements = {
      "button": "buttonEl",
      'form': 'formEl',
      'tr td input[type=checkbox]': 'selectedEl',
      'form div:first-child p:nth-child(2) select': "addressEl",
      '>img': "imgEl",
      '.watermode img': "waterimgEl",
      'input[name=upload_image]': 'fileImgEl',
      'input[name=upload_mask]': 'filemaskEl',
      'input[name=code]': 'verifyEl',
      '.waterType': 'watermaskEl',
      '.watermode': 'watermodeEl'
    };

    ImageOption.prototype.events = {
      'change input[name=upload_image]': 'uploadImg',
      'change input[name=upload_mask]': 'uploadWatermask',
      'click input[name=upload_image]+p button': 'pickImg',
      'click .watermode p button': 'pickmaskImg',
      'click input[name=watermask]': 'watermaskClick',
      'click input[name=watersel]': 'waterselClick'
    };

    function ImageOption(imgClass, imgPath, imgWidth) {
      this.uploadImg = bind(this.uploadImg, this);
      this.change = bind(this.change, this);
      this.imgClass = imgClass;
      this.imgPath = imgPath;
      this.imgWidth = imgWidth || "98%";
      this.token = $.fn.cookie('PHPSESSID');
      this.active(this.change);
      this.imagechange = $.Deferred();
      Spine.bind("image:change", (function(_this) {
        return function(picture) {
          _this.picture = picture;
          return _this.imagechange.resolve();
        };
      })(this));
      ImageOption.__super__.constructor.apply(this, arguments);
    }

    ImageOption.prototype.render = function() {
      return this.html(require("views/img_option")(this.item));
    };

    ImageOption.prototype.change = function(params) {
      var err, error;
      try {
        $.when(this.imagechange).done((function(_this) {
          return function() {
            _this.item = {
              imgclass: _this.imgClass,
              imgpath: _this.imgPath,
              picture: _this.picture
            };
            return _this.render();
          };
        })(this));
        return $(this.imgEl).css("width", this.imgWidth);
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.good.option.classedit.coffee\nclass: GoodclassEdit\nerror: " + err.message);
      }
    };

    ImageOption.prototype.uploadImg = function(e) {
      e.stopPropagation();
      return $.fn.uploadFile(this.imgClass + this.token, this.fileImgEl[0].files[0], $(this.imgEl), 'images/' + this.imgPath + '/');
    };

    ImageOption.prototype.uploadWatermask = function(e) {
      e.stopPropagation();
      return $.fn.uploadFile('maskimg', this.filemaskEl[0].files[0], $(this.waterimgEl), 'images/');
    };

    ImageOption.prototype.pickImg = function(e) {
      e.preventDefault();
      e.stopPropagation();
      return $(this.fileImgEl).click();
    };

    ImageOption.prototype.pickmaskImg = function(e) {
      e.preventDefault();
      e.stopPropagation();
      return $(this.filemaskEl).click();
    };

    ImageOption.prototype.watermaskClick = function(e) {
      var display;
      e.stopPropagation();
      display = $(e.target).is(':checked') ? 'block' : 'none';
      return $(this.watermaskEl).css('display', display);
    };

    ImageOption.prototype.waterselClick = function(e) {
      e.stopPropagation();
      return $(this.watermodeEl).css('display', 'none').eq($(e.target).val()).css('display', 'block');
    };

    ImageOption.prototype.getImage = function() {
      return this.imgEl;
    };

    return ImageOption;

  })(Spine.Controller);

  module.exports = ImageOption;

}).call(this);
 },"controllers/main": function(exports, require, module) { (function() {
  var $, Main, Main1, Manager, Sidebar, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Manager = require('spine/lib/manager');

  $ = Spine.$;

  Main1 = require('controllers/sysadmin.main');

  Sidebar = require('controllers/sysadmin.sidebar');

  Main = (function(superClass) {
    extend(Main, superClass);

    Main.prototype.className = 'main';

    function Main() {
      var divide;
      Main.__super__.constructor.apply(this, arguments);
      $.fn.cookie = function(c_name) {
        var c_end, c_start;
        if (document.cookie.length > 0) {
          c_start = document.cookie.indexOf(c_name + "=");
          if (c_start !== -1) {
            c_start = c_start + c_name.length + 1;
            c_end = document.cookie.indexOf(";", c_start);
            if (c_end === -1) {
              c_end = document.cookie.length;
            }
            return unescape(document.cookie.substring(c_start, c_end));
          }
        }
        return "";
      };
      $.fn.reload = function() {
        return window.location.reload();
      };
      $.fn.alert = function(msg) {
        return window.alert(msg);
      };
      $.fn.confirm = function(msg) {
        return window.confirm(msg);
      };
      $.fn.makeRequestParam = function(formEl, item, heads, curtabs) {
        var ckey, cval, field, head, i, j, key, len, objKeys, results, target;
        objKeys = Object.keys(item);
        key = $(formEl).serializeArray();
        item.token = $.fn.cookie("PHPSESSID");
        results = [];
        for (j = 0, len = key.length; j < len; j++) {
          field = key[j];
          head = field.name.slice(0, 2);
          ckey = field.name.slice(2);
          cval = $.trim(field.value);
          if (cval !== '') {
            i = $.inArray(head, heads);
            if (i > -1) {
              target = item[objKeys[i]];
              if ((curtabs != null ? curtabs[i][ckey] : void 0) !== cval) {
                results.push(target[ckey] = cval);
              } else {
                results.push(void 0);
              }
            } else {
              results.push(item[field.name] = cval);
            }
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
      $.fn.makeRequestParams = (function(_this) {
        return function(formEl, item, heads, curtabs) {
          var ckey, cval, field, head, i, id, index, j, k, key, len, next, obj, objKeys, ref, results, si, sid, table, target;
          objKeys = Object.keys(item);
          key = $(formEl).serializeArray();
          item.token = $.fn.cookie("PHPSESSID");
          sid = [];
          si = [];
          for (index = j = 0, ref = heads.length - 1; 0 <= ref ? j <= ref : j >= ref; index = 0 <= ref ? ++j : --j) {
            sid[index] = -1;
            si[index] = -1;
          }
          results = [];
          for (k = 0, len = key.length; k < len; k++) {
            field = key[k];
            head = field.name.slice(0, 2);
            i = $.inArray(head, heads);
            next = field.name.indexOf('_', 2);
            id = field.name.slice(2, next);
            ckey = field.name.slice(next + 1);
            cval = $.trim(field.value);
            if ((cval != null) && cval !== '') {
              if (i > -1) {
                target = item[objKeys[i]];
                table = curtabs != null ? curtabs[i] : void 0;
                if (id[0] === 'c' || (table == null) || ((table != null) && _this._isDirty(table, id, ckey, cval))) {
                  if (sid[i] !== id) {
                    si[i]++;
                    sid[i] = id;
                  }
                  results.push(target[si[i]] = (
                    obj = {
                      'id': id
                    },
                    obj["" + ckey] = cval,
                    obj
                  ));
                } else {
                  results.push(void 0);
                }
              } else {
                results.push(item[field.name] = cval);
              }
            } else {
              results.push(void 0);
            }
          }
          return results;
        };
      })(this);
      $.fn.ajaxPut = function(url, data, success) {
        return $.ajax({
          url: url,
          data: data,
          type: "POST",
          processData: false,
          contentType: false,
          dataType: "json",
          beforeSend: function(xhr) {
            return xhr.setRequestHeader('X-HTTP-Method-Override', 'PUT');
          },
          error: function(request) {
            return $.fn.alert("表单提交出错，请稍候再试");
          },
          success: success
        });
      };
      $.fn.makeDeleteParam = function(formEl, table, success) {
        var key;
        this.url = table.url;
        key = $(formEl).serializeArray();
        table.one("beforeDestroy", (function(_this) {
          return function() {
            var field, j, len, results;
            if (table.url.indexOf("woo/") === -1) {
              table.url = "woo/" + table.url;
            }
            if (!table.url.match(/token/)) {
              table.url += "&token=" + $.fn.cookie('PHPSESSID');
            }
            results = [];
            for (j = 0, len = key.length; j < len; j++) {
              field = key[j];
              if (!table.url.match("&" + field.name + "=")) {
                results.push(table.url += "&" + field.name + "=" + field.value);
              }
            }
            return results;
          };
        })(this));
        return table.one("ajaxSuccess", (function(_this) {
          return function(status, xhr) {
            table.url = _this.url;
            return typeof success === "function" ? success(status) : void 0;
          };
        })(this));
      };
      $.fn.getImageName = function(imgSrc) {
        var name, pos;
        pos = imgSrc.lastIndexOf("/");
        name = imgSrc.substr(pos + 1);
        return name || 'noimg.png';
      };
      $.fn.uploadFile = function(key, file, img, path) {
        var error, error1, formdata, options, ref, token;
        try {
          if (file.size > 4 * 1024 * 1024) {
            throw 'File Size > 4M';
          }
          if ((ref = file.type) !== 'image/jpg' && ref !== 'image/jpeg' && ref !== 'image/png' && ref !== 'image/gif') {
            throw "Invalid File Type " + file.type;
          }
          formdata = new FormData();
          formdata.append(key, file);
          token = $.fn.cookie('PHPSESSID');
          options = {
            type: 'POST',
            url: '? cmd=Upload&token=' + token,
            data: formdata,
            success: (function(_this) {
              return function(result) {
                return img.attr('src', path + token + '/' + result.image);
              };
            })(this),
            processData: false,
            contentType: false,
            dataType: "json"
          };
          return $.ajax(options);
        } catch (error1) {
          error = error1;
          return $.fn.alert(error);
        }
      };
      this.sidebar = new Sidebar;
      this.main = new Main1;
      this.routes({
        '/sysadmins/werehouse': function(params) {
          this.sidebar.active(params);
          return this.main.werehouse.active(params);
        },
        '/sysadmins/order': function(params) {
          this.sidebar.active(params);
          return this.main.order.active(params);
        },
        '/sysadmins/contract/:id/edit': function(params) {
          this.sidebar.active(params);
          return this.main.contractedit.active(params);
        },
        '/sysadmins/good': function(params) {
          this.sidebar.active(params);
          return this.main.good.active(params);
        },
        '/sysadmins/progress': function(params) {
          this.sidebar.active(params);
          return this.main.progress.active(params);
        },
        '/sysadmins/drying': function(params) {
          this.sidebar.active(params);
          return this.main.drying.active(params);
        },
        '/sysadmins/employee': function(params) {
          this.sidebar.active(params);
          return this.main.employee.active(params);
        },
        '/sysadmins/custom': function(params) {
          this.sidebar.active(params);
          return this.main.custom.active(params);
        },
        '/sysadmins/login': function(params) {
          return this.main.login.active(params);
        },
        '/sysadmins/myyunrui': function(params) {
          this.sidebar.active(params);
          return this.main.myyunrui.active(params);
        },
        '/sysadmins/web': function(params) {
          this.sidebar.active(params);
          return this.main.qiye.active(params);
        }
      });
      divide = $('<div />').addClass('vdivide');
      this.append(this.sidebar, divide, this.main);
      this.navigate('/sysadmins/login');
    }

    Main.prototype._isDirty = function(table, id, ckey, cval) {
      var j, len, rec;
      for (j = 0, len = table.length; j < len; j++) {
        rec = table[j];
        if (rec.id === id && rec[ckey] !== cval) {
          return true;
        }
      }
      return false;
    };

    return Main;

  })(Spine.Controller);

  module.exports = Main;

}).call(this);
 },"controllers/main.myyunrui": function(exports, require, module) { (function() {
  var $, Department, Employee, MyYunrui, Person, Post, Spine, User,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Person = require('models/person');

  Employee = require('models/employee');

  Department = require('models/department');

  Post = require('models/post');

  User = require('models/user');

  $ = Spine.$;

  MyYunrui = (function(superClass) {
    extend(MyYunrui, superClass);

    MyYunrui.prototype.className = 'myyunrui';

    MyYunrui.prototype.elements = {
      ".tabs": 'tabsEl',
      "#home-menu-2 button": 'btnCare'
    };

    MyYunrui.prototype.events = {
      'click .home-intro p a': 'orderClick'
    };

    function MyYunrui() {
      this.change = bind(this.change, this);
      MyYunrui.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.person = $.Deferred();
      this.employee = $.Deferred();
      this.department = $.Deferred();
      this.post = $.Deferred();
      Employee.bind("refresh", (function(_this) {
        return function(items) {
          if (items.length === 1 && parseInt(items[0].userid) === parseInt(User.first().id)) {
            return _this.employee.resolve();
          }
        };
      })(this));
      Post.bind("refresh", (function(_this) {
        return function() {
          return _this.post.resolve();
        };
      })(this));
      Department.bind("refresh", (function(_this) {
        return function(items) {
          if (items.length === 1 && parseInt(items[0].id) === parseInt(User.first().departmentid)) {
            return _this.department.resolve();
          }
        };
      })(this));
      Person.bind("refresh", (function(_this) {
        return function(items) {
          if (items.length === 1 && parseInt(items[0].id) === parseInt(User.first().id)) {
            return _this.person.resolve();
          }
        };
      })(this));
    }

    MyYunrui.prototype.render = function() {
      return this.html(require("views/myyunrui")(this.item));
    };

    MyYunrui.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.person, this.employee, this.department, this.post).done((function(_this) {
          return function() {
            var day, employee, person, t, welcome;
            person = Person.find(parseInt(User.first().id));
            employee = Employee.findByAttribute('userid', parseInt(person.id));
            welcome = "欢迎登录";
            day = _this.getHoliday(employee.dateofbirth);
            if (day.length) {
              t = void 0;
              if (day[0] === 0 && person.sex === 'F') {
                t = day[1];
              } else if (day[0] === 1 && person.sex === 'M') {
                t = day[1];
              } else if (day[0] === 2) {
                t = day[1];
              }
              if (t != null) {
                welcome = t + '快乐';
              }
            }
            _this.item = {
              employee: employee,
              person: person,
              department: Department.find(employee.departmentid),
              post: Post,
              welcome: welcome
            };
            _this.render();
            return $("body >header h2").text("我的云瑞");
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("Project: managers\nfile: main.myyunrui.coffee\nclass: MyYunrui\nerror: " + err.message);
      }
    };

    MyYunrui.prototype.orderClick = function(e) {
      return this.navigate('/members/order');
    };

    MyYunrui.prototype.getHoliday = function(birth) {
      var calendar, d, date, m, month, result, sDate, year;
      calendar = new Date();
      year = calendar.getFullYear();
      month = calendar.getMonth();
      date = calendar.getDate();
      m = month + 1;
      if (m < 10) {
        m = '0' + m;
      }
      d = date;
      if (date < 10) {
        d = '0' + d;
      }
      sDate = year + '-' + m + '-' + d;
      if (sDate === birth) {
        return [2, '生日'];
      }
      result = [];
      if ((month === 0) && (date === 1)) {
        result = [2, "元旦"];
      }
      if ((month === 1) && (date === 13)) {
        result = [2, "除夕"];
      }
      if ((month === 1) && (date === 14)) {
        result = [2, "情人节"];
      }
      if ((month === 2) && (date === 8)) {
        result = [0, "国际劳动妇女节"];
      }
      if ((month === 2) && (date === 12)) {
        result = [2, "植树节"];
      }
      if ((month === 3) && (date === 1)) {
        result = [2, "愚人节"];
      }
      if ((month === 3) && (date === 5)) {
        result = [2, "清明节"];
      }
      if ((month === 4) && (date === 1)) {
        result = [2, "国际劳动节"];
      }
      if ((month === 4) && (date === 9)) {
        result = [0, "母亲节"];
      }
      if ((month === 5) && (date === 1)) {
        result = [2, "国际儿童节"];
      }
      if ((month === 7) && (date === 1)) {
        result = [2, "建军节"];
      }
      if ((month === 7) && (date === 15)) {
        result = [2, "世纪婚纱日"];
      }
      if ((month === 7) && (date === 16)) {
        result = [2, "七夕情人节"];
      }
      if ((month === 11) && (date === 24)) {
        result = [2, "平安夜"];
      }
      if ((month === 11) && (date === 25)) {
        result = [2, "圣诞节"];
      }
      return result;
    };

    return MyYunrui;

  })(Spine.Controller);

  module.exports = MyYunrui;

}).call(this);
 },"controllers/main.tree": function(exports, require, module) { (function() {
  var $, ManagerTrees, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  $ = Spine.$;

  ManagerTrees = (function(superClass) {
    extend(ManagerTrees, superClass);

    function ManagerTrees() {
      this.option = bind(this.option, this);
      this.onTreeClick = bind(this.onTreeClick, this);
      this.addTreeNode = bind(this.addTreeNode, this);
      return ManagerTrees.__super__.constructor.apply(this, arguments);
    }

    ManagerTrees.prototype.elements = {
      "button": "buttonEl",
      'tr .rowselected': 'selectedEl',
      'tr': 'trEl',
      'ul': 'ztreeEl'
    };

    ManagerTrees.prototype.events = {
      'click button': 'option',
      'click tr': 'userSelect'
    };

    ManagerTrees.prototype.getLeafId = function(rootId, item) {
      return rootId * 100000 + parseInt(item.id, 10);
    };

    ManagerTrees.prototype.addTreeNode = function(childNode) {
      var parentZNode;
      parentZNode = this.zTree.getNodeByParam("id", childNode.pId, null);
      this.node = this.zTree.addNodes(parentZNode[0], childNode, true);
      this.zTree.selectNode(this.node);
      return this.onTreeClick(null, this.zTree.setting.treeId, this.node, 1);
    };

    ManagerTrees.prototype.selectFirstNode = function(treename, treeid) {
      var base;
      $.fn.zTree.init($(this.ztreeEl), this.setting, this.nodes);
      this.zTree = $.fn.zTree.getZTreeObj(treename);
      this.node = typeof (base = this.zTree).getNodeByParam === "function" ? base.getNodeByParam('id', treeid || 1) : void 0;
      this.zTree.selectNode(this.node, false);
      return $(this.buttonEl).button().click((function(_this) {
        return function(event) {
          return _this.option(event);
        };
      })(this));
    };

    ManagerTrees.prototype.beforeTreeClick = function(treeId, treeNode, clickFlag) {
      return treeNode.click !== false;
    };

    ManagerTrees.prototype.getNodeInfo = function(index) {
      return ['', '', ''];
    };

    ManagerTrees.prototype.onTreeClick = function(event, treeId, treeNode, clickFlag) {
      var btn, btnStates, n, rTitle;
      if (event != null) {
        event.stopPropagation();
      }
      btnStates = (function() {
        var i, len, ref, results;
        ref = $(this.buttonEl);
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          btn = ref[i];
          results.push(true);
        }
        return results;
      }).call(this);
      if (clickFlag === 1) {
        $(this.buttonEl).button("option", "disabled", false);
        this.node = treeNode;
        n = this.getNodeInfo();
        this.navigate(n[1], n[0], 'show');
        rTitle = this.getRootTitle();
        return $("body >header h2").text(rTitle + "管理->" + n[2] + "管理->" + n[2] + "信息");
      } else {
        return $(this.buttonEl).slice(1).button("option", "disabled", true);
      }
    };

    ManagerTrees.prototype.userSelect = function(e) {
      e.stopPropagation();
      $(this.trEl).removeClass('rowselected');
      return $(e.target).parent().addClass('rowselected');
    };

    ManagerTrees.prototype.getChildren = function(ids, treeNode) {
      var i, len, obj, ref;
      ids.push(treeNode.id);
      if (treeNode.isParent) {
        ref = treeNode.children;
        for (i = 0, len = ref.length; i < len; i++) {
          obj = ref[i];
          this.getChildren(ids, treeNode.children[obj]);
        }
      }
      return ids;
    };

    ManagerTrees.prototype.getRootTitle = function() {
      return "站点";
    };

    ManagerTrees.prototype.option = function(e) {
      var opt;
      opt = $(e.target);
      return $(this.buttonEl).each((function(_this) {
        return function(index, item) {
          var err, error, n, rTitle, title;
          if (item.childNodes[0] === opt[0]) {
            n = _this.getNodeInfo(index);
            switch (index) {
              case 0:
                _this.navigate(n[1] + "/new");
                break;
              case 1:
                _this.navigate(n[1], n[0], n[0] > 0 ? 'edit' : 'show');
                break;
              case 2:
                try {
                  if (_this.node.isParent) {
                    throw "该节点有子节点，无法删除！";
                  }
                  if (n[0] > 0) {
                    _this.navigate(n[1], n[0], 'delete');
                  }
                } catch (error) {
                  err = error;
                  $.fn.alert(err);
                }
            }
            title = $(opt[0]).text();
            rTitle = _this.getRootTitle();
            return $("body >header h2").text(rTitle + "管理->" + n[2] + "管理->" + title + n[2]);
          }
        };
      })(this));
    };

    return ManagerTrees;

  })(Spine.Controller);

  module.exports = ManagerTrees;

}).call(this);
 },"controllers/main.verifycode": function(exports, require, module) { (function() {
  var $, Spine, VerifyCodes,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  $ = Spine.$;

  VerifyCodes = (function(superClass) {
    extend(VerifyCodes, superClass);

    VerifyCodes.prototype.className = 'verifycode';

    VerifyCodes.prototype.elements = {
      'input[name=code]': 'verifyEl'
    };

    VerifyCodes.prototype.events = {
      'click .validate': 'verifyCode'
    };

    function VerifyCodes() {
      this.change = bind(this.change, this);
      VerifyCodes.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      Spine.bind("updateverify", function() {
        $(".validate").click();
        return $(this.verifyEl).focus();
      });
    }

    VerifyCodes.prototype.render = function() {
      return this.html(require("views/fmverifycode"));
    };

    VerifyCodes.prototype.change = function(params) {
      var err, error;
      try {
        return this.render();
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.custom.option.add.text.coffee\nclass: CustomAddTexts\nerror: " + err.message);
      }
    };

    VerifyCodes.prototype.verifyCode = function(e) {
      e.stopPropagation();
      return $(e.target).attr("src", "admin/checkNum_session.php?" + Math.ceil(Math.random() * 1000));
    };

    return VerifyCodes;

  })(Spine.Controller);

  module.exports = VerifyCodes;

}).call(this);
 },"controllers/sysadmin.custom": function(exports, require, module) { (function() {
  var $, Country, Custom, Customs, Manager, Option, Person, Spine, Tree,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Manager = require('spine/lib/manager');

  $ = Spine.$;

  Custom = require('models/custom');

  Person = require('models/person');

  Country = require('models/country');

  Option = require('controllers/sysadmin.custom.option');

  Tree = require('controllers/sysadmin.custom.tree');

  Customs = (function(superClass) {
    extend(Customs, superClass);

    Customs.prototype.className = 'option_outs';

    function Customs() {
      var divide;
      Customs.__super__.constructor.apply(this, arguments);
      this.tree = new Tree;
      this.option = new Option;
      Spine.bind("userlogined", function(user) {
        Custom.one('refresh', function() {
          var item;
          return Person.append((function() {
            var i, len, ref, results;
            ref = Custom.all();
            results = [];
            for (i = 0, len = ref.length; i < len; i++) {
              item = ref[i];
              if (!Person.exists(item.userid)) {
                results.push(item.userid);
              }
            }
            return results;
          })());
        });
        Custom.fetch();
        return Country.fetch();
      });
      this.routes({
        '/customtype/:id/show': function(params) {
          this.active(params);
          if (params.id === '1') {
            this.tree.active(params);
          }
          return this.option.customtypeshow.active(params);
        },
        '/customs/new': function(params) {
          this.active(params);
          return this.option.customadd.active(params);
        },
        '/customs/:id/show': function(params) {
          this.active(params);
          return this.option.customshow.active(params);
        },
        '/customs/:id/edit': function(params) {
          this.active(params);
          return this.option.customedit.active(params);
        },
        '/customs/:id/delete': function(params) {
          this.active(params);
          return this.option.customdelete.active(params);
        }
      });
      divide = $('<div />').addClass('vdivide');
      this.append(this.tree, divide, this.option);
      this.navigate('/customtype', 1, 'show');
    }

    return Customs;

  })(Spine.Controller);

  module.exports = Customs;

}).call(this);
 },"controllers/sysadmin.custom.option.add": function(exports, require, module) { (function() {
  var $, Custom, CustomAdds, Image, Person, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Custom = require('models/custom');

  Person = require('models/person');

  $ = Spine.$;

  Word = require('controllers/sysadmin.custom.option.add.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  CustomAdds = (function(superClass) {
    extend(CustomAdds, superClass);

    CustomAdds.prototype.tag = "form";

    CustomAdds.prototype.className = 'customadds';

    function CustomAdds() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      CustomAdds.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('userimg', 'user', "50%");
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            custom: {},
            person: {}
          };
          _this.item = _this.word.getItem();
          $.fn.makeRequestParam(_this.el, item, ['C_', 'P_']);
          item.person['picture'] = $.fn.getImageName(_this.image.getImage().attr('src'));
          item.action = "custom_create";
          item.language = 1;
          param = JSON.stringify(item);
          Custom.scope = '';
          return $.ajax({
            url: Custom.url,
            data: param,
            type: "POST",
            dataType: "json",
            beforeSend: function() {},
            error: function(request) {
              return $.fn.alert("表单提交出错，请稍候再试");
            },
            success: function(data) {
              if (data.id > -1) {
                $.fn.alert(data.register + '\n' + data.email);
                _this.item.persons.updateAttributes(data.person[0], {
                  ajax: false
                });
                _this.item.customs.updateAttributes(data.custom[0], {
                  ajax: false
                });
                return _this.navigate('/customs/', data.id, 'show');
              } else {
                switch (data.error) {
                  case "Access Denied":
                    return $.fn.reload();
                  case "Validate Code Error!":
                    $.fn.alert("验证码错误，请重新填写。");
                    return Spine.trigger("updateverify");
                }
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    CustomAdds.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return CustomAdds;

  })(Spine.Controller);

  module.exports = CustomAdds;

}).call(this);
 },"controllers/sysadmin.custom.option.add.text": function(exports, require, module) { (function() {
  var $, Country, Custom, CustomAddTexts, Person, Spine, citySelector,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Custom = require('models/custom');

  Person = require('models/person');

  Country = require('models/country');

  $ = Spine.$;

  citySelector = require('controllers/cityselector');

  CustomAddTexts = (function(superClass) {
    extend(CustomAddTexts, superClass);

    CustomAddTexts.prototype.className = 'textoption';

    CustomAddTexts.prototype.elements = {
      'input': 'inputEl',
      'tr td input[type=checkbox]': 'selectedEl',
      '>p label+select:eq(0)': "countryEl",
      'select': "addressEl",
      '>p label+span:eq(0)': 'intensityEl'
    };

    CustomAddTexts.prototype.events = {
      'blur input': 'verifyValue',
      'keyup input[type=password]': 'showIntensity',
      'change >p label+select:eq(0)': "countryChange"
    };

    function CustomAddTexts() {
      this.change = bind(this.change, this);
      CustomAddTexts.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.country = $.Deferred();
      this.custom = $.Deferred();
      this.person = $.Deferred();
      Custom.bind("refresh", (function(_this) {
        return function() {
          return _this.custom.resolve();
        };
      })(this));
      Person.bind("refresh", (function(_this) {
        return function() {
          return _this.person.resolve();
        };
      })(this));
      Country.bind("refresh", (function(_this) {
        return function() {
          return _this.country.resolve();
        };
      })(this));
      this.token = $.fn.cookie('PHPSESSID');
    }

    CustomAddTexts.prototype.render = function() {
      var code, county;
      this.html(require("views/fmcustoms")(this.item));
      county = ["", "", ""];
      code = this.item.persons.county;
      if (code != null) {
        county = [code.slice(0, 2), code.slice(0, 4), code];
      }
      return citySelector.Init($(this.addressEl.slice(1, 4)), county, true);
    };

    CustomAddTexts.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.custom, this.person, this.country).done((function(_this) {
          return function() {
            var custom, person;
            if (Custom.exists(params.id)) {
              custom = Custom.find(params.id);
              person = Person.find(custom.userid);
            } else {
              custom = new Custom;
              person = new Person;
            }
            _this.item = {
              customs: custom,
              persons: person,
              countrys: Country.all()
            };
            _this.render();
            return Spine.trigger("image:change", _this.item.persons.picture);
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.custom.option.add.text.coffee\nclass: CustomAddTexts\nerror: " + err.message);
      }
    };

    CustomAddTexts.prototype.checkUserName = function(value) {
      var param, url;
      param = $.param({
        filter: ["username"],
        cond: [
          {
            field: "username",
            value: value,
            operator: "eq"
          }
        ],
        token: $.fn.cookie('PHPSESSID')
      });
      url = "? cmd=Person&" + param;
      return $.getJSON(url, null, function(result) {
        var clTxt, info;
        clTxt = "red";
        if (result instanceof Array) {
          if (result.length === 0) {
            info = "通过";
            clTxt = "green";
          } else {
            info = "用户名已存在";
          }
        } else {
          info = result;
        }
        $("#username_err_info").html(info).css("color", clTxt).show();
        if (clTxt === "red") {
          return $(this.usernameEl).focus();
        } else {
          return $(this.usernameEl).next().focus();
        }
      });
    };

    CustomAddTexts.prototype.testpass = function(password, username) {
      var i, j, score;
      score = 0;
      if (password.length < 4) {
        return -4;
      }
      if ((username != null ? username.toLowerCase() : void 0) === (password != null ? password.toLowerCase() : void 0)) {
        return -2;
      }
      score += password.length * 4;
      for (i = j = 1; j <= 4; i = ++j) {
        score += (this.repeat(i, password).length - password.length) * 1;
      }
      if (password.match(/(.*[0-9].*[0-9].*[0-9])/)) {
        score += 5;
      }
      if (password.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)) {
        score += 5;
      }
      if (password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)) {
        score += 10;
      }
      if (password.match(/([a-zA-Z])/) && password.match(/([0-9])/)) {
        score += 15;
      }
      if (password.match(/([!,@,#,$,%,^,&,*,?,_,~])/) && password.match(/([0-9])/)) {
        score += 15;
      }
      if (password.match(/([!,@,#,$,%,^,&,*,?,_,~])/) && password.match(/([a-zA-Z])/)) {
        score += 15;
      }
      if (password.match(/^\w+$/) || password.match(/^\d+$/)) {
        score -= 10;
      }
      if (score < 0) {
        score = 0;
      }
      if (score > 100) {
        score = 100;
      }
      return score;
    };

    CustomAddTexts.prototype.repeat = function(len, str) {
      var i, j, ref, ref1, repeated, res, slen;
      res = "";
      slen = str.length;
      for (i = j = 0, ref = slen, ref1 = len; ref1 > 0 ? j < ref : j > ref; i = j += ref1) {
        repeated = true;
        if (i + len < slen) {
          repeated = repeated && (str.slice(i, +(i + len - 1) + 1 || 9e9) === str.slice(i + len, +(i + 2 * len - 1) + 1 || 9e9));
          if (repeated) {
            i += len - 1;
          } else {
            res += str.slice(i, +(i + len - 1) + 1 || 9e9);
          }
        } else {
          res += str.slice(i, +(i + len - 1) + 1 || 9e9);
          break;
        }
      }
      return res;
    };

    CustomAddTexts.prototype.checkpass = function(pass, username) {
      var color, intensity, score, text, user, width;
      user = username || "username";
      score = this.testpass(pass, user);
      intensity = $(this.intensityEl);
      if (score === -4) {
        return intensity.text("太短");
      } else if (score === -2) {
        return intensity.text("与用户名相同");
      } else {
        color = score < 34 ? '#edabab' : score < 68 ? '#ede3ab' : '#d3edab';
        text = score < 34 ? '弱' : score < 68 ? '一般' : '很好';
        width = score * 2.25 + 'px';
        return intensity.css('width', width).css('background', color).text(text);
      }
    };

    CustomAddTexts.prototype.showIntensity = function(e) {
      return this.checkpass($(e.target).val(), $(this.usernameEl).val());
    };

    CustomAddTexts.prototype.verifyValue = function(e) {
      var basename, color, data, errinfo, info, name, value;
      name = $(e.target).attr("name");
      value = $(e.target).val();
      basename = name.toLowerCase();
      errinfo = $("#" + basename + "_err_info");
      info = "通过";
      color = "green";
      switch (basename.slice(2)) {
        case "username":
          this.checkUserName(value);
          break;
        case "password":
        case "passwordagain":
          if (!/^[\w\-\!\@\#\$\%\^\&\*]{6,16}$/.test(value)) {
            info = "密码格式错误";
          }
          break;
        case "name":
          if (!/^([\u4e00-\u9fa5]{1,10}[·.]?[\u4e00-\u9fa5]{1,10})|([a-zA-Z]+[·.]?)$/.test(value)) {
            info = "姓名格式错误";
          }
          break;
        case "email":
          if (!/^\w+((-\w+)|(\.\w+))*\@\w+((\.|-)\w+)*\.\w+$/.test(value)) {
            info = "邮箱格式错误";
          }
          break;
        case "mobile":
          if (!/^1[3|4|5|8]\d{9}$/.test(value)) {
            info = "无效的手机号码";
          }
          break;
        case "tel":
          if (!/^((\+\d{2,3}[ |-]?)|0)\d{2,3}[ |-]?\d{7,9}$/.test(value)) {
            info = "无效的电话号码";
          }
          break;
        case "qq":
          data = parseInt(value);
          if (!(data < 10000 && data > 9999999999)) {
            info = "无效的qq号码";
          }
      }
      if (info !== "通过") {
        color = "red";
      }
      errinfo.css("color", color).html(info).show();
      if (info !== "通过") {
        $(e.target).focus().select();
        return false;
      }
    };

    CustomAddTexts.prototype.countryChange = function(e) {
      var item, obj;
      e.stopPropagation();
      obj = $(e.target);
      item = Country.find(obj.val());
      return obj.next().attr("src", "images/country/" + item.code3 + ".png");
    };

    CustomAddTexts.prototype.getItem = function() {
      return this.item;
    };

    return CustomAddTexts;

  })(Spine.Controller);

  module.exports = CustomAddTexts;

}).call(this);
 },"controllers/sysadmin.custom.option": function(exports, require, module) { (function() {
  var $, CustomOption, DeleteCustoms, EditCustoms, NewCustoms, ShowCustomTypes, ShowCustoms, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  $ = Spine.$;

  ShowCustomTypes = require('controllers/sysadmin.custom.option.typeshow');

  ShowCustoms = require('controllers/sysadmin.custom.option.show');

  NewCustoms = require('controllers/sysadmin.custom.option.add');

  EditCustoms = require('controllers/sysadmin.custom.option.edit');

  DeleteCustoms = require('controllers/sysadmin.custom.option.delete');

  CustomOption = (function(superClass) {
    extend(CustomOption, superClass);

    function CustomOption() {
      return CustomOption.__super__.constructor.apply(this, arguments);
    }

    CustomOption.prototype.className = 'options stack';

    CustomOption.prototype.controllers = {
      customtypeshow: ShowCustomTypes,
      customshow: ShowCustoms,
      customadd: NewCustoms,
      customedit: EditCustoms,
      customdelete: DeleteCustoms
    };

    return CustomOption;

  })(Spine.Stack);

  module.exports = CustomOption;

}).call(this);
 },"controllers/sysadmin.custom.option.delete": function(exports, require, module) { (function() {
  var $, Custom, CustomDeletes, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Custom = require('models/custom');

  $ = Spine.$;

  Word = require('controllers/sysadmin.custom.option.show');

  Verify = require('controllers/main.verifycode');

  CustomDeletes = (function(superClass) {
    extend(CustomDeletes, superClass);

    CustomDeletes.prototype.tag = "form";

    CustomDeletes.prototype.className = 'option_shows';

    function CustomDeletes() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      CustomDeletes.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item;
          e.stopPropagation();
          e.preventDefault();
          item = _this.word.getItem();
          $.fn.makeDeleteParam(_this.el, Custom, function(status) {
            if (status.destroyed) {
              return item.person.destroy({
                ajax: false
              });
            }
          });
          Custom.scope = '';
          if ($.fn.confirm("删除客户将删除与该客户相关联的所有数据，如账号，订单等等，请谨慎操作！\n确实要删除客户 " + (item.custom.getName()) + " 吗?")) {
            return item.custom.destroy();
          }
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    CustomDeletes.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return CustomDeletes;

  })(Spine.Controller);

  module.exports = CustomDeletes;

}).call(this);
 },"controllers/sysadmin.custom.option.edit": function(exports, require, module) { (function() {
  var $, Custom, CustomEdits, Image, Person, Spine, Verify, Word, citySelector,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Custom = require('models/custom');

  Person = require('models/person');

  $ = Spine.$;

  Word = require('controllers/sysadmin.custom.option.add.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  citySelector = require('controllers/cityselector');

  CustomEdits = (function(superClass) {
    extend(CustomEdits, superClass);

    CustomEdits.prototype.tag = "form";

    CustomEdits.prototype.className = 'customedits';

    function CustomEdits() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      CustomEdits.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('userimg', 'user', "50%");
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          _this.item = _this.word.getItem();
          item = {
            custom: {},
            person: {}
          };
          $.fn.makeRequestParam(_this.el, item, ['C_', 'P_'], [_this.item.customs, _this.item.persons]);
          item['custom']['userid'] = _this.item.persons.id;
          item.person['picture'] = $.fn.getImageName(_this.image.getImage().attr('src'));
          param = JSON.stringify(item);
          Custom.scope = 'woo';
          return $.fn.ajaxPut(_this.item.customs.url(), param, function(data) {
            if (data.id > -1) {
              $.fn.alert("数据保存成功！");
              _this.item.persons.updateAttributes(data.person[0], {
                ajax: false
              });
              _this.item.customs.updateAttributes(data.custom[0], {
                ajax: false
              });
              return Custom.trigger('update', _this.item.customs);
            } else {
              switch (data.error) {
                case "Access Denied":
                  return $.fn.reload();
                case "Validate Code Error!":
                  $.fn.alert("验证码错误，请重新填写。");
                  return Spine.trigger("updateverify");
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    CustomEdits.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return CustomEdits;

  })(Spine.Controller);

  module.exports = CustomEdits;

}).call(this);
 },"controllers/sysadmin.custom.option.show": function(exports, require, module) { (function() {
  var $, Custom, CustomShows, Person, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Custom = require('models/custom');

  Person = require('models/person');

  $ = Spine.$;

  CustomShows = (function(superClass) {
    extend(CustomShows, superClass);

    CustomShows.prototype.className = 'option_shows';

    function CustomShows() {
      this.change = bind(this.change, this);
      CustomShows.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.custom = $.Deferred();
      this.person = $.Deferred();
      Custom.bind("refresh", (function(_this) {
        return function() {
          return _this.custom.resolve();
        };
      })(this));
      Person.bind("refresh", (function(_this) {
        return function() {
          var citem, i, len, ref;
          ref = Custom.all();
          for (i = 0, len = ref.length; i < len; i++) {
            citem = ref[i];
            if (!Person.exists(citem.userid)) {
              return;
            }
          }
          return _this.person.resolve();
        };
      })(this));
    }

    CustomShows.prototype.render = function() {
      return this.html(require("views/custom")(this.item));
    };

    CustomShows.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.custom, this.person).done((function(_this) {
          return function() {
            var custom;
            if (Custom.exists(params.id)) {
              custom = Custom.find(params.id);
              _this.item = {
                custom: custom,
                person: Person.find(custom.userid)
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.custom.option.show.coffee\nclass: CustomShows\nerror: " + err.message);
      }
    };

    CustomShows.prototype.getItem = function() {
      return this.item;
    };

    return CustomShows;

  })(Spine.Controller);

  module.exports = CustomShows;

}).call(this);
 },"controllers/sysadmin.custom.option.typeshow": function(exports, require, module) { (function() {
  var $, CustomTypeShows, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  $ = Spine.$;

  CustomTypeShows = (function(superClass) {
    extend(CustomTypeShows, superClass);

    CustomTypeShows.prototype.className = 'customtypeshows';

    function CustomTypeShows() {
      this.change = bind(this.change, this);
      CustomTypeShows.__super__.constructor.apply(this, arguments);
      this.active(this.change);
    }

    CustomTypeShows.prototype.render = function() {
      return this.html(require("views/customtype")(this.item));
    };

    CustomTypeShows.prototype.change = function(params) {
      var err, error, id;
      try {
        id = parseInt(params.id);
        if (id === 1 || id === 2) {
          this.item = {
            customtype: [
              {
                name: '个人用户'
              }, {
                name: '单位用户'
              }
            ][id - 1]
          };
          return this.render();
        }
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.customtype.option.classshow.coffee\nclass: CustomTypeclassShows\nerror: " + err.message);
      }
    };

    return CustomTypeShows;

  })(Spine.Controller);

  module.exports = CustomTypeShows;

}).call(this);
 },"controllers/sysadmin.custom.tree": function(exports, require, module) { (function() {
  var $, Catalog, Custom, CustomTrees, ManagerTree, Person, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Custom = require('models/custom');

  Person = require('models/person');

  Catalog = require('models/catalog');

  $ = Spine.$;

  ManagerTree = require('controllers/main.tree');

  CustomTrees = (function(superClass) {
    extend(CustomTrees, superClass);

    CustomTrees.prototype.className = 'origin_trees';

    function CustomTrees() {
      this.change = bind(this.change, this);
      CustomTrees.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.custom = $.Deferred();
      this.person = $.Deferred();
      Custom.bind("refresh", (function(_this) {
        return function() {
          return _this.custom.resolve();
        };
      })(this));
      Person.bind("refresh", (function(_this) {
        return function() {
          var citem, i, len, ref;
          ref = Custom.all();
          for (i = 0, len = ref.length; i < len; i++) {
            citem = ref[i];
            if (!Person.exists(citem.userid)) {
              return;
            }
          }
          return _this.person.resolve();
        };
      })(this));
      Custom.bind("create", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = _this.getRootId(item.type);
          childZNode = {
            "id": _this.getLeafId(parentId, item),
            "pId": parentId,
            "name": item.getName()
          };
          return _this.addTreeNode(childZNode);
        };
      })(this));
      Custom.bind("update", (function(_this) {
        return function(item) {
          var node;
          if ((item != null) && (_this.zTree != null)) {
            node = _this.zTree.getSelectedNodes();
            node[0].name = item.getName();
            _this.zTree.updateNode(node[0]);
            return _this.onTreeClick(null, _this.zTree.setting.treeId, node[0], 1);
          }
        };
      })(this));
      Custom.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = _this.getRootId(item.type);
          childZNode = {
            "id": _this.getLeafId(parentId, item),
            "pId": parentId,
            "name": item.getName()
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
    }

    CustomTrees.prototype.getRootId = function(type) {
      if (type === 'P') {
        return 1;
      } else {
        return 2;
      }
    };

    CustomTrees.prototype.render = function() {
      var item, key, ref, val;
      this.nodes = (function() {
        var i, len, ref, results;
        ref = ['个人', '单位'];
        results = [];
        for (key = i = 0, len = ref.length; i < len; key = ++i) {
          val = ref[key];
          results.push({
            id: key + 1,
            pId: 0,
            name: val
          });
        }
        return results;
      })();
      [].splice.apply(this.nodes, [1, 0].concat(ref = (function() {
        var i, len, ref1, results;
        ref1 = Custom.all();
        results = [];
        for (i = 0, len = ref1.length; i < len; i++) {
          item = ref1[i];
          results.push({
            id: this.getLeafId(this.getRootId(item.type), item),
            pId: this.getRootId(item.type),
            name: item.getName()
          });
        }
        return results;
      }).call(this))), ref;
      this.html(require("views/origin_trees")(this.item));
      return this.selectFirstNode("customTree");
    };

    CustomTrees.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.custom, this.person).done((function(_this) {
          return function() {
            var btns, id;
            if (params.id != null) {
              id = parseInt(params.id, 10);
              if (!/\/customtype\//.test(params.match[0])) {
                id += _this.getRootId(Custom.find(params.id).type) * 100000;
              }
            }
            btns = [];
            if (Catalog.getRight('custom') & 2) {
              btns = ['新建', '编辑', '删除'];
            }
            _this.item = {
              title: '客户分类',
              name: 'custom',
              buttons: btns,
              nodeid: id,
              customs: Custom.all()
            };
            _this.setting = {
              data: {
                simpleData: {
                  enable: true
                }
              },
              callback: {
                beforeClick: _this.beforeTreeClick,
                onClick: _this.onTreeClick
              }
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.custom.tree.coffee\nclass: Customs\nerror: " + err.message);
      }
    };

    CustomTrees.prototype.getNodeInfo = function(index) {
      if (this.node.id < 1000) {
        return [this.node.id, '/customtype', "客户类型"];
      } else {
        return [this.node.id - this.node.pId * 100000, '/customs', "客户"];
      }
    };

    CustomTrees.prototype.getRootTitle = function() {
      return "经营";
    };

    return CustomTrees;

  })(ManagerTree);

  module.exports = CustomTrees;

}).call(this);
 },"controllers/sysadmin.drying": function(exports, require, module) { (function() {
  var $, Drydata, Dryings, Drymain, Manager, Option, Spine, Tree,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Manager = require('spine/lib/manager');

  $ = Spine.$;

  Drymain = require('models/drymain');

  Drydata = require('models/drydata');

  Option = require('controllers/sysadmin.drying.option');

  Tree = require('controllers/sysadmin.drying.tree');

  Dryings = (function(superClass) {
    extend(Dryings, superClass);

    Dryings.prototype.className = 'option_outs';

    function Dryings() {
      var divide, id;
      Dryings.__super__.constructor.apply(this, arguments);
      this.tree = new Tree;
      this.option = new Option;
      Spine.bind("userlogined", function(user) {
        return Drymain.fetch();
      });
      Drymain.bind('refresh', (function(_this) {
        return function() {
          var condition, item, params, token;
          if (Drymain.count()) {
            item = Drymain.first();
            condition = [
              {
                field: "mainid",
                value: item.id,
                operator: "eq"
              }
            ];
            token = $.fn.cookie('PHPSESSID');
            params = {
              data: {
                filter: Drydata.attributes,
                cond: condition,
                token: token
              },
              processData: true
            };
            return Drydata.fetch(params);
          }
        };
      })(this));
      this.routes({
        '/dryings/:id/show': function(params) {
          this.active(params);
          this.tree.active(params);
          return this.option.dryingshow.active(params);
        },
        '/dryings/:id/delete': function(params) {
          this.active(params);
          this.tree.active(params);
          return this.option.dryingdelete.active(params);
        }
      });
      divide = $('<div />').addClass('vdivide');
      this.append(this.tree, divide, this.option);
      if (Drymain.count()) {
        id = Drymain.first().id;
      }
      this.navigate('/dryings', id, 'show');
    }

    return Dryings;

  })(Spine.Controller);

  module.exports = Dryings;

}).call(this);
 },"controllers/sysadmin.drying.option": function(exports, require, module) { (function() {
  var $, DeleteDryings, DryingOption, ShowDryings, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  $ = Spine.$;

  ShowDryings = require('controllers/sysadmin.drying.option.show');

  DeleteDryings = require('controllers/sysadmin.drying.option.delete');

  DryingOption = (function(superClass) {
    extend(DryingOption, superClass);

    function DryingOption() {
      return DryingOption.__super__.constructor.apply(this, arguments);
    }

    DryingOption.prototype.className = 'options stack';

    DryingOption.prototype.controllers = {
      dryingshow: ShowDryings,
      dryingdelete: DeleteDryings
    };

    return DryingOption;

  })(Spine.Stack);

  module.exports = DryingOption;

}).call(this);
 },"controllers/sysadmin.drying.option.delete": function(exports, require, module) { (function() {
  var $, Drydata, DryingDeletes, Drymain, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Drymain = require('models/drymain');

  Drydata = require('models/drydata');

  $ = Spine.$;

  Word = require('controllers/sysadmin.drying.option.show');

  Verify = require('controllers/main.verifycode');

  DryingDeletes = (function(superClass) {
    extend(DryingDeletes, superClass);

    DryingDeletes.prototype.tag = "form";

    DryingDeletes.prototype.className = 'option_shows';

    function DryingDeletes() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      DryingDeletes.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item;
          e.stopPropagation();
          e.preventDefault();
          item = _this.word.getItem();
          $.fn.makeDeleteParam(_this.el, Drymain, function(status) {
            var i, len, rec, ref, results;
            if (status.destroyed) {
              ref = item.drydatas;
              results = [];
              for (i = 0, len = ref.length; i < len; i++) {
                rec = ref[i];
                results.push(rec.destroy({
                  ajax: false
                }));
              }
              return results;
            }
          });
          Drymain.scope = '';
          if (confirm("删除客户将删除与该客户相关联的所有数据，如账号，订单等等，请谨慎操作！\n确实要删除客户 " + (item.custom.getName()) + " 吗?")) {
            return item.drymains.destroy();
          }
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    DryingDeletes.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return DryingDeletes;

  })(Spine.Controller);

  module.exports = DryingDeletes;

}).call(this);
 },"controllers/sysadmin.drying.option.show": function(exports, require, module) { (function() {
  var $, Drydata, DryingShows, Drymain, Spine, autoButton, draw,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Drymain = require('models/drymain');

  Drydata = require('models/drydata');

  draw = require('controllers/draw');

  $ = Spine.$;

  autoButton = (function() {
    function autoButton(btns) {
      var btn, i, len1;
      for (i = 0, len1 = btns.length; i < len1; i++) {
        btn = btns[i];
        $(btn).bind('mousedown', (function(_this) {
          return function(e) {
            e.stopPropagation();
            e.preventDefault();
            if (_this.btnInterval == null) {
              return _this.btnInterval = setInterval(function() {
                return $(e.target).trigger('click', e);
              }, 100);
            }
          };
        })(this));
        $(btn).bind('mouseup', (function(_this) {
          return function(e) {
            e.stopPropagation();
            e.preventDefault();
            if (_this.btnInterval != null) {
              clearInterval(_this.btnInterval);
              return _this.btnInterval = null;
            }
          };
        })(this));
      }
    }

    return autoButton;

  })();

  DryingShows = (function(superClass) {
    extend(DryingShows, superClass);

    DryingShows.prototype.className = 'dryingshows';

    DryingShows.prototype.elements = {
      'form': 'formEl',
      "canvas": "canvasEl",
      ".scale": "scaleEl",
      '.scrollbar-left': 'btnScrollLeftEl',
      '.scrollbar-right': 'btnScrollRightEl',
      ".scrollbar-track-x": "scrollTrackEl",
      ".scrollbar-thumb-x": "scrollThumbEl",
      "fieldset span": "dryDataEl",
      "audio.music": "musicEl"
    };

    DryingShows.prototype.events = {
      'change select[name=scale]': 'scaleEdited',
      'click .scrollbar-track-x button': 'ckBtnScroll',
      "click .scrollbar-track-x": "ckScrollTrack",
      'mousedown .scrollbar-thumb-x': 'mdScrollThumb',
      'mouseup .scrollbar-thumb-x': 'muScrollThumb',
      'mousemove .scrollbar-thumb-x': 'mmScrollThumb',
      "click .validate": "verifyCode",
      'click input[type=submit]': 'option',
      'mouseenter canvas:eq(1)': 'seeIn',
      'mouseleave canvas:eq(1)': 'seeOut',
      'mousemove canvas:eq(1)': 'seeNext'
    };

    function DryingShows() {
      this.option = bind(this.option, this);
      this.ckBtnScroll = bind(this.ckBtnScroll, this);
      this.setScrollBar = bind(this.setScrollBar, this);
      this.change = bind(this.change, this);
      DryingShows.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.drymain = $.Deferred();
      this.drydata = $.Deferred();
      Drymain.bind("refresh", (function(_this) {
        return function() {
          return _this.drymain.resolve();
        };
      })(this));
      Drydata.bind("refresh", (function(_this) {
        return function() {
          return _this.drydata.resolve();
        };
      })(this));
      this.stepScroll = 1;
      this.stepFigure = 1;
      this.curLineStartTime = 0;
      this.maxScrollerThumb = 200;
      this.maxSettingTemperature = 0;
      this.maxTemperatureDiffColor = 'white';
      this.maxTemperature = 0;
      this.start = null;
      this.checkData = null;
      $(window).resize((function(_this) {
        return function() {
          if ($(_this).hasClass("active")) {
            return _this.render();
          }
        };
      })(this));
    }

    DryingShows.prototype.scaleEdited = function(e) {
      var ref, scale;
      e.stopPropagation();
      scale = parseInt($(e.target).val());
      if ((ref = this.curDraw) != null) {
        ref.setScale(scale).setOffset(0).drawTemperature(this.item.drydatas);
      }
      return this.setScrollBar();
    };

    DryingShows.prototype.render = function() {
      this.html(require("views/dryshow")(this.item));
      this.curDraw = new draw(this.canvasEl);
      this.curDraw.drawTemperature(this.item.drydatas);
      $(this.scrollTrackEl).width($(this.canvasEl).parent().width() - 50);
      this.maxScrollerThumb = $(this.scrollTrackEl).width() - ($(this.btnScrollLeftEl).outerWidth() + 1) * 2;
      this.findMaxTemperatureDiff(this.item.drydatas);
      this.setScrollBar();
      return this.btnScrollLeft = new autoButton([this.btnScrollLeftEl, this.btnScrollRightEl]);
    };

    DryingShows.prototype._maxTemperatureDiff = function(record, color) {
      var dx, result;
      dx = Math.abs(record.settingtemperature - record.temperature);
      result = dx > Math.abs(this.maxSettingTemperature - this.maxTemperature);
      if (result) {
        this.maxSettingTemperature = record.settingtemperature;
        this.maxTemperature = record.temperature;
        if (dx > 32) {
          color.value = 'orange';
          if (dx > 48) {
            color.value = 'red';
          }
        }
      }
      return result;
    };

    DryingShows.prototype.findMaxTemperatureDiff = function(recs) {
      var color, i, len1, record;
      color = {
        'value': 'white'
      };
      for (i = 0, len1 = recs.length; i < len1; i++) {
        record = recs[i];
        this._maxTemperatureDiff(record, color);
      }
      $(this.dryDataEl).eq(1).text((this.maxSettingTemperature >> 4).toString());
      $(this.dryDataEl).eq(3).text((this.maxTemperature >> 4).toString());
      $(this.dryDataEl).eq(1).css('background', color.value);
      return $(this.dryDataEl).eq(3).css('background', color.value);
    };

    DryingShows.prototype.change = function(params) {
      var err, error, pid;
      try {
        pid = parseInt(params.id);
        if (pid !== -1) {
          return $.when(this.drymain, this.drydata).done((function(_this) {
            return function() {
              var condition, datas, drymain, token;
              if (Drymain.exists(pid)) {
                drymain = Drymain.find(pid);
                if (parseInt(drymain.state) === -1) {
                  if (_this.checkData != null) {
                    clearInterval(_this.checkData);
                    _this.checkData = null;
                  }
                  datas = Drydata.findAllByAttribute('mainid', pid);
                  Drydata.destroyAll({
                    ajax: false
                  });
                  if (datas.length !== 0) {
                    condition = [
                      {
                        field: "mainid",
                        value: pid,
                        operator: "eq"
                      }
                    ];
                    token = $.fn.cookie('PHPSESSID');
                    params = {
                      data: {
                        filter: Drydata.attributes,
                        cond: condition,
                        token: token
                      },
                      processData: true
                    };
                    Drydata.one("refresh", function() {
                      datas = Drydata.findAllByAttribute('mainid', pid);
                      _this.item = {
                        drymains: drymain,
                        drydatas: datas
                      };
                      return _this.render();
                    });
                    return Drydata.fetch(params);
                  } else {
                    _this.item = {
                      drymains: drymain,
                      drydatas: datas
                    };
                    _this.render();
                    return $("body >header h2").text("生产管理->干燥管理->显示干燥记录");
                  }
                }
              }
            };
          })(this));
        } else {
          return $.when(this.drymain).done((function(_this) {
            return function() {
              var datas, drymain;
              drymain = Drymain.findByAttribute('state', 0);
              if (drymain != null) {
                datas = Drydata.findAllByAttribute('mainid', drymain.id);
                Drydata.destroyAll({
                  ajax: false
                });
                _this.checkData = setInterval(function() {
                  return _this.findNewData(drymain.id);
                }, 10000);
              } else {
                _this.start = setInterval(_this.checkDryStart, 10000);
              }
              _this.item = {
                drymains: drymain,
                drydatas: datas | []
              };
              _this.render();
              return $("body >header h2").text("生产管理->干燥管理->干燥监控");
            };
          })(this));
        }
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.drying.option.show.coffee\nclass: DryingShows\nerror: " + err.message);
      }
    };

    DryingShows.prototype.setScrollBar = function() {
      var len, ref, ref1, scaleTime;
      this.lasttime = ((ref = Drydata.last()) != null ? ref.time : void 0) || 0;
      scaleTime = this.lasttime / (((ref1 = this.curDraw) != null ? ref1.getScale() : void 0) || 1);
      if (scaleTime < this.maxScrollerThumb) {
        $(this.scrollTrackEl).attr("disabled", "disabled");
        return $(this.scrollThumbEl).width(0);
      } else {
        $(this.scrollTrackEl).removeAttr("disabled");
        $(this.scrollThumbEl).css({
          'left': '0px'
        });
        len = $(this.scrollTrackEl).width() + this.maxScrollerThumb - scaleTime;
        if (len < 0) {
          this.stepScroll = this.maxScrollerThumb / (scaleTime - $(this.scrollTrackEl).width());
        } else {
          this.stepScroll = 1;
        }
        if (len < 9) {
          len = 9;
        }
        return $(this.scrollThumbEl).width(len);
      }
    };

    DryingShows.prototype._limitRange = function(ox) {
      var maxOffset;
      if (ox < 0) {
        ox = 0;
      }
      maxOffset = this.maxScrollerThumb - $(this.scrollThumbEl).width();
      if (ox > maxOffset) {
        ox = maxOffset;
      }
      return ox;
    };

    DryingShows.prototype.ckScrollTrack = function(e) {
      var ox, ref;
      e.stopPropagation();
      if (e.target === this.scrollTrackEl[0]) {
        ox = this._limitRange(e.offsetX - $(this.btnScrollLeftEl).outerWidth() - 1);
        $(this.scrollThumbEl).css({
          'left': ox.toString() + 'px'
        });
        return (ref = this.curDraw) != null ? ref.setOffset(ox * this.stepFigure).drawTemperature(this.item.drydatas) : void 0;
      }
    };

    DryingShows.prototype.ckBtnScroll = function(e) {
      var ox, ref;
      e.stopPropagation();
      e.preventDefault();
      ox = $(this.scrollThumbEl).position().left - $(this.btnScrollLeftEl).outerWidth() - 1;
      if ($(e.target).hasClass("scrollbar-left")) {
        ox = this._limitRange(ox - this.stepScroll);
      } else {
        ox = this._limitRange(ox + this.stepScroll);
      }
      $(this.scrollThumbEl).css({
        'left': ox.toString() + 'px'
      });
      return (ref = this.curDraw) != null ? ref.setOffset(ox * this.stepFigure).drawTemperature(this.item.drydatas) : void 0;
    };

    DryingShows.prototype.mdScrollThumb = function(e) {
      e.stopPropagation();
      this.dropX = e.pageX;
      this.stLeft = $(this.scrollThumbEl).position().left;
      return false;
    };

    DryingShows.prototype.muScrollThumb = function(e) {
      e.stopPropagation();
      e.preventDefault();
      this.dropX = null;
      return false;
    };

    DryingShows.prototype.mmScrollThumb = function(e) {
      var ol, ox, ref;
      e.stopPropagation();
      if ((this.dropX != null) && e.button === 0) {
        ox = e.pageX - this.dropX;
        ol = this._limitRange(this.stLeft + ox);
        $(this.scrollThumbEl).css({
          'left': ol.toString() + 'px'
        });
        if ((ref = this.curDraw) != null) {
          ref.setOffset(ol * this.stepFigure).drawTemperature(this.item.drydatas);
        }
      }
      return false;
    };

    DryingShows.prototype.verifyCode = function(e) {
      e.stopPropagation();
      return $(e.target).attr("src", "admin/checkNum_session.php?" + Math.ceil(Math.random() * 1000));
    };

    DryingShows.prototype.option = function(e) {
      e.stopPropagation();
      e.preventDefault();
      $.fn.makeDeleteParam(this.formEl, Drymain, function(status) {
        var items;
        items = Drydata.findByAttribute('mainid', this.item.drymains.id);
        return items != null ? items.destroy({
          ajax: false
        }) : void 0;
      });
      if (confirm("确实要删除 " + this.item.drymains.starttime + " 的干燥记录吗?")) {
        return this.item.drymains.destroy();
      }
    };

    DryingShows.prototype.checkDryStart = function() {
      return Drymain.getStart(function(data) {
        if (data != null) {
          this.item.drymains = data;
          this.checkData = setInterval(function() {
            return this.findNewData(data.id);
          }, 10000);
          $(this.mainEl).eq(0).text(data.starttime);
          $(this.mainEl).eq(1).text(data.lineno);
          if (this.start != null) {
            clearInterval(this.start);
            return this.start = null;
          }
        } else {
          return $(this.mainEl).text("等待干燥开始...");
        }
      });
    };

    DryingShows.prototype.findNewData = function(mainid) {
      return Drydata.getNew(mainid, (function(_this) {
        return function(record, islast) {
          var color, ref, ref1;
          _this.setScrollBar();
          if (Drydata.findByAttribute('mainid', parseInt(_this.item.drymains.id)).eql(record)) {
            if ((ref = _this.curDraw) != null) {
              ref.moveToPoint(record);
            }
            _this.curLine = record.mode;
            _this.curLineStartTemperature = record.settingtemperature;
            _this.maxSettingTemperature = record.settingtemperature;
            _this.maxTemperature = record.temperature;
          } else {
            if ((ref1 = _this.curDraw) != null) {
              ref1.drawToPoint(record);
            }
            color = {
              'value': _this.maxTemperatureDiffColor
            };
            if (_this._maxTemperatureDiff(record, color)) {
              _this.maxTemperatureDiffColor = color.value;
              $(_this.dryDataEl).eq(1).text((record.settingtemperature >> 4).toString());
              $(_this.dryDataEl).eq(3).text((record.temperature >> 4).toString());
              $(_this.dryDataEl).eq(1).css('background', _this.maxTemperatureDiffColor);
              $(_this.dryDataEl).eq(3).css('background', _this.maxTemperatureDiffColor);
            }
          }
          if (_this.curLine !== record.mode) {
            _this.curLine = record.mode;
            _this.curLineStartTime = record.time;
          }
          if (islast) {
            _this.showDryParam(record);
            return _this.item.drydatas = Drydata.findAllByAttribute('mainid', parseInt(_this.item.drymains.id));
          }
        };
      })(this));
    };

    DryingShows.prototype.showDryParam = function(record) {
      var color, dx, str;
      $(this.dryDataEl).eq(0).text((record.settingtemperature >> 4).toString());
      $(this.dryDataEl).eq(2).text((record.temperature >> 4).toString());
      $(this.dryDataEl).eq(7).text(parseInt(record.time / 360).toString() + ":" + (parseInt(record.time / 6) % 60).toString());
      $(this.dryDataEl).eq(6).text(parseInt((record.time - this.curLineStartTime) / 360).toString() + ":" + (parseInt((record.time - this.curLineStartTime) / 6) % 60).toString());
      color = 'green';
      str = ', 正常';
      dx = record.temperature - record.settingtemperature;
      if (dx < -32) {
        str = ', 偏低！';
        if (dx < -48) {
          str = ', 太低！';
        }
      }
      if (dx > 32) {
        str = ', 偏高！';
        if (dx > 48) {
          str = ', 太高！';
        }
      }
      color = this._setAudioAlarm(Math.abs(dx), color);
      $(this.dryDataEl).eq(5).css('background', color);
      return $(this.dryDataEl).eq(5).text("温差 " + (Math.floor(dx / 16)).toString() + str);
    };

    DryingShows.prototype._setAudioAlarm = function(dt, color) {
      if (dt <= 32) {
        this.musicEl[0].pause();
        this.musicEl[1].pause();
      } else {
        color = 'orange';
        this.musicEl[1].pause();
        this.musicEl[0].play();
        if (dt > 48) {
          color = 'red';
          this.musicEl[0].pause();
          this.musicEl[1].play();
        }
      }
      return color;
    };

    DryingShows.prototype._showOne = function(rec) {
      if (rec) {
        return this.showDryParam(rec);
      } else {
        $(this.dryDataEl).eq(0).text('无');
        return $(this.dryDataEl).eq(2).text('无');
      }
    };

    DryingShows.prototype.seeIn = function(e) {
      var ref;
      this.seeX = e.x;
      return (ref = this.curDraw) != null ? ref.drawSeeLine(this.seeX) : void 0;
    };

    DryingShows.prototype.seeOut = function(e) {
      var ref;
      if (this.seeX) {
        if ((ref = this.curDraw) != null) {
          ref.removeSeeLine(this.seeX);
        }
      }
      return this._showOne(Drydata.last());
    };

    DryingShows.prototype.seeNext = function(e) {
      var ref, ref1, x;
      e.stopPropagation();
      if (this.seeX) {
        if ((ref = this.curDraw) != null) {
          ref.removeSeeLine(this.seeX);
        }
      }
      this.seeX = e.offsetX;
      x = (ref1 = this.curDraw) != null ? ref1.drawSeeLine(this.seeX) : void 0;
      return this._showOne(Drydata.findByAttribute('time', x));
    };

    DryingShows.prototype.getItem = function() {
      return this.item;
    };

    return DryingShows;

  })(Spine.Controller);

  module.exports = DryingShows;

}).call(this);
 },"controllers/sysadmin.drying.tree": function(exports, require, module) { (function() {
  var $, Catalog, Drydata, DryingTrees, Drymain, ManagerTree, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Drymain = require('models/drymain');

  Drydata = require('models/drydata');

  Catalog = require('models/catalog');

  $ = Spine.$;

  ManagerTree = require('controllers/main.tree');

  DryingTrees = (function(superClass) {
    extend(DryingTrees, superClass);

    DryingTrees.prototype.className = 'origin_trees';

    function DryingTrees() {
      this.change = bind(this.change, this);
      DryingTrees.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      Drymain.bind("ajaxError", function(record, xhr, settings, error) {
        return console.log(xhr.responseText);
      });
      this.drymain = $.Deferred();
      Drymain.bind("refresh", (function(_this) {
        return function() {
          return _this.drymain.resolve();
        };
      })(this));
      Drymain.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = 0;
          childZNode = {
            "id": parseInt(item.id, 10),
            "pId": parentId,
            "name": item.starttime
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
    }

    DryingTrees.prototype.render = function() {
      var item;
      this.nodes = (function() {
        var i, len, ref, results;
        ref = this.item.drymains;
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          item = ref[i];
          results.push({
            id: parseInt(item.id),
            pId: 0,
            name: item.starttime
          });
        }
        return results;
      }).call(this);
      this.html(require("views/origin_trees")(this.item));
      return this.selectFirstNode("dryingTree");
    };

    DryingTrees.prototype.change = function(params) {
      var err, error1;
      try {
        return $.when(this.drymain).done((function(_this) {
          return function() {
            var btns, id;
            if (params.id !== '-1') {
              id = parseInt(params.id, 10);
              btns = [];
              if (Catalog.getRight('drying') & 2) {
                btns = ['新建', '监控', '删除'];
              }
              _this.item = {
                title: '干燥记录',
                name: 'drying',
                buttons: btns,
                nodeid: id,
                drymains: Drymain.select(function(item) {
                  return parseInt(item.state, 10) !== 0;
                })
              };
              _this.setting = {
                data: {
                  simpleData: {
                    enable: true
                  }
                },
                callback: {
                  beforeClick: _this.beforeTreeClick,
                  onClick: _this.onTreeClick
                }
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error1) {
        err = error1;
        return this.log("file: sysadmin.drying.coffee\nclass: Dryings\nerror: " + err.message);
      }
    };

    DryingTrees.prototype.getNodeInfo = function(index) {
      return [(index === 1 ? -1 : this.node.id), '/dryings', "干燥"];
    };

    DryingTrees.prototype.getRootTitle = function() {
      return "生产";
    };

    return DryingTrees;

  })(ManagerTree);

  module.exports = DryingTrees;

}).call(this);
 },"controllers/sysadmin.employee.business": function(exports, require, module) { (function() {
  var $, Employee, EmployeeBusiness, Post, Right, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  Spine = require('spine');

  Right = require('models/departmentright');

  Employee = require('models/employee');

  Post = require('models/post');

  $ = Spine.$;

  EmployeeBusiness = (function(superClass) {
    extend(EmployeeBusiness, superClass);

    EmployeeBusiness.prototype.className = 'employeerights';

    function EmployeeBusiness() {
      this.change = bind(this.change, this);
      EmployeeBusiness.__super__.constructor.apply(this, arguments);
      this.token = $.fn.cookie('PHPSESSID');
      this.active(this.change);
      this.employee = $.Deferred();
      this.post = $.Deferred();
      this.right = $.Deferred();
      Right.bind("refresh", (function(_this) {
        return function() {
          return _this.right.resolve();
        };
      })(this));
      Post.bind("refresh", (function(_this) {
        return function() {
          return _this.post.resolve();
        };
      })(this));
      Employee.bind("refresh", (function(_this) {
        return function(item) {
          if (item.length === 1 && item[0].userid === parseInt(_this.user.id)) {
            _this.logor = item[0];
            return Spine.trigger("loginor", _this.logor);
          } else {
            return _this.employee.resolve();
          }
        };
      })(this));
      Spine.bind("userlogined", (function(_this) {
        return function(item) {
          return _this.user = item;
        };
      })(this));
    }

    EmployeeBusiness.prototype.render = function() {
      return this.html(require("views/fmemployeebusiness")(this.item));
    };

    EmployeeBusiness.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.employee, this.post, this.right).done((function(_this) {
          return function() {
            var departmentid, employee, userposts;
            userposts = _this.logor.postids;
            employee = Employee.find(params.id);
            departmentid = employee.departmentid;
            if (userposts !== '' && indexOf.call($.fn.postToDepartment(userposts), departmentid) >= 0) {
              _this.item = {
                employeerights: employee.rights,
                rights: Right.select(function(item) {
                  return item.departmentid === departmentid;
                })
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.employee.business.coffee\nclass: EmployeeBusiness\nerror: " + err.message);
      }
    };

    EmployeeBusiness.prototype.getItem = function() {
      return this.item;
    };

    return EmployeeBusiness;

  })(Spine.Controller);

  module.exports = EmployeeBusiness;

}).call(this);
 },"controllers/sysadmin.employee": function(exports, require, module) { (function() {
  var $, Department, Employee, Employees, Manager, Option, Person, Spine, Tree,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Manager = require('spine/lib/manager');

  $ = Spine.$;

  Department = require('models/department');

  Employee = require('models/employee');

  Person = require('models/person');

  Option = require('controllers/sysadmin.employee.option');

  Tree = require('controllers/sysadmin.employee.tree');

  Employees = (function(superClass) {
    extend(Employees, superClass);

    Employees.prototype.className = 'option_outs';

    function Employees() {
      var divide;
      Employees.__super__.constructor.apply(this, arguments);
      this.tree = new Tree;
      this.option = new Option;
      this.routes({
        '/department/new': function(params) {
          this.active(params);
          return this.option.departmentadd.active(params);
        },
        '/department/:id/show': function(params) {
          this.active(params);
          if (params.id === '1') {
            this.tree.active(params);
          }
          return this.option.departmentshow.active(params);
        },
        '/department/:id/edit': function(params) {
          this.active(params);
          return this.option.departmentedit.active(params);
        },
        '/department/:id/delete': function(params) {
          this.active(params);
          return this.option.departmentdelete.active(params);
        },
        '/employees/new': function(params) {
          this.active(params);
          return this.option.employeeadd.active(params);
        },
        '/employees/:id/show': function(params) {
          this.active(params);
          return this.option.employeeshow.active(params);
        },
        '/employees/:id/edit': function(params) {
          this.active(params);
          return this.option.employeeedit.active(params);
        },
        '/employees/:id/delete': function(params) {
          this.active(params);
          return this.option.employeedelete.active(params);
        }
      });
      divide = $('<div />').addClass('vdivide');
      this.append(this.tree, divide, this.option);
      this.navigate('/department', 1, 'show');
    }

    return Employees;

  })(Spine.Controller);

  module.exports = Employees;

}).call(this);
 },"controllers/sysadmin.employee.department.right": function(exports, require, module) { (function() {
  var $, DepartmentRights, Employee, Post, Right, Spine, User,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  Spine = require('spine');

  Right = require('models/departmentright');

  Employee = require('models/employee');

  Post = require('models/post');

  User = require('models/user');

  $ = Spine.$;

  DepartmentRights = (function(superClass) {
    extend(DepartmentRights, superClass);

    DepartmentRights.prototype.className = 'employeerights';

    function DepartmentRights() {
      this.change = bind(this.change, this);
      DepartmentRights.__super__.constructor.apply(this, arguments);
      this.token = $.fn.cookie('PHPSESSID');
      this.active(this.change);
      this.employee = $.Deferred();
      this.post = $.Deferred();
      this.right = $.Deferred();
      Right.bind("refresh", (function(_this) {
        return function() {
          return _this.right.resolve();
        };
      })(this));
      Post.bind("refresh", (function(_this) {
        return function() {
          return _this.post.resolve();
        };
      })(this));
      Employee.bind("refresh", (function(_this) {
        return function(item) {
          if (item.length === 1 && item[0].userid === parseInt(_this.logor.id)) {
            _this.user = item[0];
            if (_this.user.myright & 2) {
              Right.fetch();
            } else {
              Right.append([
                {
                  field: 'departmentid',
                  value: _this.user.departmentid,
                  operator: 'eq'
                }
              ]);
            }
            return _this.employee.resolve();
          }
        };
      })(this));
      Spine.bind("userlogined", (function(_this) {
        return function(item) {
          return _this.logor = item;
        };
      })(this));
    }

    DepartmentRights.prototype.render = function() {
      return this.html(require("views/fmdepartmentrights")(this.item));
    };

    DepartmentRights.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.employee, this.post, this.right).done((function(_this) {
          return function() {
            var id, posts;
            posts = _this.user.postids;
            id = parseInt(params.id);
            if (posts !== '' && _this.user.departmentid < id && (indexOf.call($.fn.postToDepartment(posts), id) >= 0)) {
              _this.item = {
                rights: Right.select(function(item) {
                  return item.departmentid === id;
                })
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.department.right.coffee\nclass: DepartmentRights\nerror: " + err.message);
      }
    };

    DepartmentRights.prototype.getItem = function() {
      return this.item;
    };

    return DepartmentRights;

  })(Spine.Controller);

  module.exports = DepartmentRights;

}).call(this);
 },"controllers/sysadmin.employee.option.add": function(exports, require, module) { (function() {
  var $, Employee, EmployeeAdds, Image, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Employee = require('models/employee');

  $ = Spine.$;

  Word = require('controllers/sysadmin.employee.option.add.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  EmployeeAdds = (function(superClass) {
    extend(EmployeeAdds, superClass);

    EmployeeAdds.prototype.tag = "form";

    EmployeeAdds.prototype.className = 'employeeadds';

    function EmployeeAdds() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      EmployeeAdds.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('userimg', 'user', "50%");
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          if (e != null) {
            e.preventDefault();
          }
          _this.item = _this.word.getItem();
          item = {
            employee: {},
            person: {}
          };
          $.fn.makeRequestParam(_this.el, item, ['E_', 'P_']);
          item.person['picture'] = $.fn.getImageName(_this.image.getImage().attr('src'));
          item.action = "employee_create";
          item.language = 1;
          param = JSON.stringify(item);
          Employee.scope = '';
          return $.ajax({
            url: Employee.url,
            data: param,
            type: "POST",
            dataType: "json",
            beforeSend: function() {},
            error: function(request) {
              return $.fn.alert("表单提交出错，请稍候再试");
            },
            success: function(data) {
              if (data.id > -1) {
                $.fn.alert("数据保存成功！");
                _this.item.persons.updateAttributes(data.person[0], {
                  ajax: false
                });
                _this.item.employees.updateAttributes(data.employee[0], {
                  ajax: false
                });
                return _this.navigate('/employees/', data.id, 'show');
              } else {
                switch (data.error) {
                  case "Access Denied":
                    return $.fn.reload();
                  case "Validate Code Error!":
                    $.fn.alert("验证码错误，请重新填写。");
                    return Spine.trigger("updateverify");
                }
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    EmployeeAdds.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return EmployeeAdds;

  })(Spine.Controller);

  module.exports = EmployeeAdds;

}).call(this);
 },"controllers/sysadmin.employee.option.add.text": function(exports, require, module) { (function() {
  var $, Country, Department, Employee, EmployeeAddTexts, Person, Spine, citySelector,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Department = require('models/department');

  Employee = require('models/employee');

  Person = require('models/person');

  Country = require('models/country');

  $ = Spine.$;

  citySelector = require('controllers/cityselector');

  EmployeeAddTexts = (function(superClass) {
    extend(EmployeeAddTexts, superClass);

    EmployeeAddTexts.prototype.className = 'textoption';

    EmployeeAddTexts.prototype.elements = {
      'tr td input[type=checkbox]': 'selectedEl',
      '>p label+select:eq(0)': "countryEl",
      'select': "addressEl",
      '>p label+span:eq(0)': 'intensityEl'
    };

    EmployeeAddTexts.prototype.events = {
      'blur input': 'verifyValue',
      'keyup input[type=password]': 'showIntensity',
      'change >p label+select:eq(0)': "countryChange"
    };

    function EmployeeAddTexts() {
      this.change = bind(this.change, this);
      EmployeeAddTexts.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.department = $.Deferred();
      this.country = $.Deferred();
      this.employee = $.Deferred();
      this.person = $.Deferred();
      Employee.bind("refresh", (function(_this) {
        return function() {
          return _this.employee.resolve();
        };
      })(this));
      Person.bind("refresh", (function(_this) {
        return function() {
          return _this.person.resolve();
        };
      })(this));
      Country.bind("refresh", (function(_this) {
        return function() {
          return _this.country.resolve();
        };
      })(this));
      Department.bind("refresh", (function(_this) {
        return function() {
          return _this.department.resolve();
        };
      })(this));
      this.token = $.fn.cookie('PHPSESSID');
    }

    EmployeeAddTexts.prototype.render = function() {
      var code, county;
      this.html(require("views/fmemployees")(this.item));
      county = ["", "", ""];
      code = this.item.persons.county;
      if (code != null) {
        county = [code.slice(0, 2), code.slice(0, 4), code];
      }
      return citySelector.Init($(this.addressEl.slice(1, 4)), county, true);
    };

    EmployeeAddTexts.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.employee, this.person, this.country, this.department).done((function(_this) {
          return function() {
            var employee, person;
            if (Employee.exists(params.id)) {
              employee = Employee.find(params.id);
              person = Person.find(employee.userid);
            } else {
              employee = new Employee;
              person = new Person;
            }
            _this.item = {
              employees: employee,
              persons: person,
              departments: Department.all(),
              countrys: Country.all()
            };
            _this.render();
            return Spine.trigger("image:change", _this.item.persons.picture);
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.employee.option.add.coffee\nclass: EmployeeAdds\nerror: " + err.message);
      }
    };

    EmployeeAddTexts.prototype.checkUserName = function(value) {
      var param, url;
      param = $.param({
        filter: ["username"],
        cond: [
          {
            field: "username",
            value: value,
            operator: "eq"
          }
        ],
        token: $.fn.cookie('PHPSESSID')
      });
      url = "? cmd=Person&" + param;
      return $.getJSON(url, null, function(result) {
        var clTxt, info;
        clTxt = "red";
        if (result instanceof Array) {
          if (result.length === 0) {
            info = "通过";
            clTxt = "green";
          } else {
            info = "用户名已存在";
          }
        } else {
          info = result;
        }
        $("#username_err_info").html(info).css("color", clTxt).show();
        if (clTxt === "red") {
          return $(this.usernameEl).focus();
        } else {
          return $(this.usernameEl).next().focus();
        }
      });
    };

    EmployeeAddTexts.prototype.testpass = function(password, username) {
      var i, j, score;
      score = 0;
      if (password.length < 4) {
        return -4;
      }
      if ((username != null ? username.toLowerCase() : void 0) === (password != null ? password.toLowerCase() : void 0)) {
        return -2;
      }
      score += password.length * 4;
      for (i = j = 1; j <= 4; i = ++j) {
        score += (this.repeat(i, password).length - password.length) * 1;
      }
      if (password.match(/(.*[0-9].*[0-9].*[0-9])/)) {
        score += 5;
      }
      if (password.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)) {
        score += 5;
      }
      if (password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)) {
        score += 10;
      }
      if (password.match(/([a-zA-Z])/) && password.match(/([0-9])/)) {
        score += 15;
      }
      if (password.match(/([!,@,#,$,%,^,&,*,?,_,~])/) && password.match(/([0-9])/)) {
        score += 15;
      }
      if (password.match(/([!,@,#,$,%,^,&,*,?,_,~])/) && password.match(/([a-zA-Z])/)) {
        score += 15;
      }
      if (password.match(/^\w+$/) || password.match(/^\d+$/)) {
        score -= 10;
      }
      if (score < 0) {
        score = 0;
      }
      if (score > 100) {
        score = 100;
      }
      return score;
    };

    EmployeeAddTexts.prototype.repeat = function(len, str) {
      var i, j, ref, ref1, repeated, res, slen;
      res = "";
      slen = str.length;
      for (i = j = 0, ref = slen, ref1 = len; ref1 > 0 ? j < ref : j > ref; i = j += ref1) {
        repeated = true;
        if (i + len < slen) {
          repeated = repeated && (str.slice(i, +(i + len - 1) + 1 || 9e9) === str.slice(i + len, +(i + 2 * len - 1) + 1 || 9e9));
          if (repeated) {
            i += len - 1;
          } else {
            res += str.slice(i, +(i + len - 1) + 1 || 9e9);
          }
        } else {
          res += str.slice(i, +(i + len - 1) + 1 || 9e9);
          break;
        }
      }
      return res;
    };

    EmployeeAddTexts.prototype.checkpass = function(pass, username) {
      var color, intensity, score, text, user, width;
      user = username || "username";
      score = this.testpass(pass, user);
      intensity = $(this.intensityEl);
      if (score === -4) {
        return intensity.text("太短");
      } else if (score === -2) {
        return intensity.text("与用户名相同");
      } else {
        color = score < 34 ? '#edabab' : score < 68 ? '#ede3ab' : '#d3edab';
        text = score < 34 ? '弱' : score < 68 ? '一般' : '很好';
        width = score * 2.25 + 'px';
        return intensity.css('width', width).css('background', color).text(text);
      }
    };

    EmployeeAddTexts.prototype.showIntensity = function(e) {
      return this.checkpass($(e.target).val(), $(this.usernameEl).val());
    };

    EmployeeAddTexts.prototype.verifyValue = function(e) {
      var basename, color, data, errinfo, info, name, value;
      name = $(e.target).attr("name");
      value = $(e.target).val();
      basename = name.toLowerCase();
      errinfo = $("#" + basename + "_err_info");
      info = "通过";
      color = "green";
      switch (basename.slice(2)) {
        case "username":
          this.checkUserName(value);
          break;
        case "password":
        case "passwordagain":
          if (!/^[\w\-\!\@\#\$\%\^\&\*]{6,16}$/.test(value)) {
            info = "密码格式错误";
          }
          break;
        case "name":
          if (!/^([\u4e00-\u9fa5]{1,10}[·.]?[\u4e00-\u9fa5]{1,10})|([a-zA-Z]+[·.]?)$/.test(value)) {
            info = "姓名格式错误";
          }
          break;
        case "email":
          if (!/^\w+((-\w+)|(\.\w+))*\@\w+((\.|-)\w+)*\.\w+$/.test(value)) {
            info = "邮箱格式错误";
          }
          break;
        case "mobile":
          if (!/^1[3|4|5|8]\d{9}$/.test(value)) {
            info = "无效的手机号码";
          }
          break;
        case "tel":
          if (!/^((\+\d{2,3}[ |-]?)|0)\d{2,3}[ |-]?\d{7,9}$/.test(value)) {
            info = "无效的电话号码";
          }
          break;
        case "qq":
          data = parseInt(value);
          if (!(data < 10000 && data > 9999999999)) {
            info = "无效的qq号码";
          }
      }
      if (info !== "通过") {
        color = "red";
      }
      errinfo.css("color", color).html(info).show();
      if (info !== "通过") {
        $(e.target).focus().select();
        return false;
      }
    };

    EmployeeAddTexts.prototype.countryChange = function(e) {
      var item, obj;
      e.stopPropagation();
      obj = $(e.target);
      item = Country.find(obj.val());
      return obj.next().attr("src", "images/country/" + item.code3 + ".png");
    };

    EmployeeAddTexts.prototype.getItem = function() {
      return this.item;
    };

    return EmployeeAddTexts;

  })(Spine.Controller);

  module.exports = EmployeeAddTexts;

}).call(this);
 },"controllers/sysadmin.employee.option": function(exports, require, module) { (function() {
  var $, DeleteDepartments, DeleteEmployees, EditDepartments, EditEmployees, EmployeeOption, NewDepartments, NewEmployees, ShowDepartments, ShowEmployees, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  $ = Spine.$;

  ShowDepartments = require('controllers/sysadmin.employee.option.departmentshow');

  NewDepartments = require('controllers/sysadmin.employee.option.departmentadd');

  EditDepartments = require('controllers/sysadmin.employee.option.departmentedit');

  DeleteDepartments = require('controllers/sysadmin.employee.option.departmentdelete');

  ShowEmployees = require('controllers/sysadmin.employee.option.show');

  NewEmployees = require('controllers/sysadmin.employee.option.add');

  EditEmployees = require('controllers/sysadmin.employee.option.edit');

  DeleteEmployees = require('controllers/sysadmin.employee.option.delete');

  EmployeeOption = (function(superClass) {
    extend(EmployeeOption, superClass);

    function EmployeeOption() {
      return EmployeeOption.__super__.constructor.apply(this, arguments);
    }

    EmployeeOption.prototype.className = 'options stack';

    EmployeeOption.prototype.controllers = {
      departmentshow: ShowDepartments,
      departmentadd: NewDepartments,
      departmentedit: EditDepartments,
      departmentdelete: DeleteDepartments,
      employeeshow: ShowEmployees,
      employeeadd: NewEmployees,
      employeeedit: EditEmployees,
      employeedelete: DeleteEmployees
    };

    return EmployeeOption;

  })(Spine.Stack);

  module.exports = EmployeeOption;

}).call(this);
 },"controllers/sysadmin.employee.option.delete": function(exports, require, module) { (function() {
  var $, Employee, EmployeeDeletes, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Employee = require('models/employee');

  $ = Spine.$;

  Word = require('controllers/sysadmin.employee.option.show');

  Verify = require('controllers/main.verifycode');

  EmployeeDeletes = (function(superClass) {
    extend(EmployeeDeletes, superClass);

    EmployeeDeletes.prototype.tag = "form";

    EmployeeDeletes.prototype.className = 'option_shows';

    function EmployeeDeletes() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      EmployeeDeletes.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item;
          e.stopPropagation();
          e.preventDefault();
          item = _this.word.getItem();
          $.fn.makeDeleteParam(_this.el, Employee, function(status) {
            return item.person.destroy({
              ajax: false
            });
          });
          Employee.scope = '';
          if (confirm("确实要删除员工 " + (item.employee.getName()) + " 吗?")) {
            return item.employee.destroy();
          }
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    EmployeeDeletes.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return EmployeeDeletes;

  })(Spine.Controller);

  module.exports = EmployeeDeletes;

}).call(this);
 },"controllers/sysadmin.employee.option.departmentadd": function(exports, require, module) { (function() {
  var $, Department, DepartmentAdds, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Department = require('models/department');

  $ = Spine.$;

  Word = require('controllers/sysadmin.employee.option.departmentadd.text');

  Verify = require('controllers/main.verifycode');

  DepartmentAdds = (function(superClass) {
    extend(DepartmentAdds, superClass);

    DepartmentAdds.prototype.tag = "form";

    DepartmentAdds.prototype.className = 'departmentadds';

    function DepartmentAdds() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      DepartmentAdds.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            department: {}
          };
          _this.item = _this.word.getItem();
          $.fn.makeRequestParams(_this.el, item, ['D_']);
          item['action'] = 'department_create';
          param = JSON.stringify(item);
          Department.scope = '';
          return $.ajax({
            url: Department.url,
            data: param,
            type: "POST",
            dataType: "json",
            beforeSend: function() {},
            error: function(request) {
              return $.fn.alert("表单提交出错，请稍候再试");
            },
            success: function(data) {
              if (data.id > -1) {
                $.fn.alert("数据保存成功！");
                _this.item.department.updateAttributes(data.department[0], {
                  ajax: false
                });
                return Department.trigger("create", data.department[0]);
              } else {
                switch (data.error) {
                  case "Access Denied":
                    return $.fn.reload();
                  case "Validate Code Error!":
                    $.fn.alert("验证码错误，请重新填写。");
                    return Spine.trigger("updateverify");
                }
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    DepartmentAdds.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return DepartmentAdds;

  })(Spine.Controller);

  module.exports = DepartmentAdds;

}).call(this);
 },"controllers/sysadmin.employee.option.departmentadd.text": function(exports, require, module) { (function() {
  var $, Department, DepartmentAddTexts, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Department = require('models/department');

  $ = Spine.$;

  DepartmentAddTexts = (function(superClass) {
    extend(DepartmentAddTexts, superClass);

    DepartmentAddTexts.prototype.className = 'textoption';

    DepartmentAddTexts.prototype.elements = {
      'tr td input[type=checkbox]': 'selectedEl',
      'form div:first-child p:nth-child(2) select': "addressEl"
    };

    function DepartmentAddTexts() {
      this.change = bind(this.change, this);
      DepartmentAddTexts.__super__.constructor.apply(this, arguments);
      this.token = $.fn.cookie('PHPSESSID');
      this.active(this.change);
      this.department = $.Deferred();
      Department.bind("refresh", (function(_this) {
        return function() {
          return _this.department.resolve();
        };
      })(this));
    }

    DepartmentAddTexts.prototype.render = function() {
      return this.html(require("views/fmdepartment")(this.item));
    };

    DepartmentAddTexts.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.department).done((function(_this) {
          return function() {
            var department;
            if (Department.exists(params.id)) {
              department = Department.find(params.id);
            } else {
              department = new Department;
            }
            _this.item = {
              department: department
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.employee.option.departmentedit.coffee\nclass: DepartmentEdit\nerror: " + err.message);
      }
    };

    DepartmentAddTexts.prototype.getItem = function() {
      return this.item;
    };

    return DepartmentAddTexts;

  })(Spine.Controller);

  module.exports = DepartmentAddTexts;

}).call(this);
 },"controllers/sysadmin.employee.option.departmentdelete": function(exports, require, module) { (function() {
  var $, Department, DepartmentDeletes, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Department = require('models/department');

  $ = Spine.$;

  Word = require('controllers/sysadmin.employee.option.departmentshow');

  Verify = require('controllers/main.verifycode');

  DepartmentDeletes = (function(superClass) {
    extend(DepartmentDeletes, superClass);

    DepartmentDeletes.prototype.tag = "form";

    DepartmentDeletes.prototype.className = 'option_shows';

    function DepartmentDeletes() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      DepartmentDeletes.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item;
          e.stopPropagation();
          e.preventDefault();
          item = _this.word.getItem();
          $.fn.makeDeleteParam(_this.el, Department);
          if (confirm("确实要删除部门 [" + item.department.name + "] 吗?")) {
            return item.department.destroy();
          }
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    DepartmentDeletes.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return DepartmentDeletes;

  })(Spine.Controller);

  module.exports = DepartmentDeletes;

}).call(this);
 },"controllers/sysadmin.employee.option.departmentedit": function(exports, require, module) { (function() {
  var $, Department, DepartmentEdits, Departmentright, Right, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Department = require('models/department');

  Departmentright = require('models/departmentright');

  $ = Spine.$;

  Word = require('controllers/sysadmin.employee.option.departmentadd.text');

  Verify = require('controllers/main.verifycode');

  Right = require('controllers/sysadmin.employee.department.right');

  DepartmentEdits = (function(superClass) {
    extend(DepartmentEdits, superClass);

    DepartmentEdits.prototype.tag = "form";

    DepartmentEdits.prototype.className = 'departmentedits';

    function DepartmentEdits() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      DepartmentEdits.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      this.right = new Right;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            department: [],
            departmentright: []
          };
          _this.item = _this.word.getItem();
          _this.dRight = _this.right.getItem();
          $.fn.makeRequestParams(_this.el, item, ['D_', 'R_'], [_this.item.department, _this.dRight.rights]);
          param = JSON.stringify(item);
          _this.item.department.scope = 'woo';
          return $.fn.ajaxPut(_this.item.department.url(), param, function(data) {
            var i, len, ref, right;
            if (data.id > -1) {
              $.fn.alert("数据保存成功！");
              if (data.department != null) {
                _this.item.department.updateAttributes(data.department[0], {
                  ajax: false
                });
                Department.trigger("update", _this.item.department[0]);
              }
              if (data.departmentright != null) {
                ref = data.departmentright;
                for (i = 0, len = ref.length; i < len; i++) {
                  right = ref[i];
                  if (Departmentright.exists(right.id)) {
                    item = Departmentright.find(right.id);
                    item.updateAttributes(right, {
                      ajax: false
                    });
                  } else {
                    item = new Departmentright(right);
                    item.departmentid = data.id;
                    item.save({
                      ajax: false
                    });
                  }
                }
                return Departmentright.trigger("update", data.departmentright);
              }
            } else {
              switch (data.error) {
                case "Access Denied":
                  return $.fn.reload();
                case "Validate Code Error!":
                  $.fn.alert("验证码错误，请重新填写。");
                  return Spine.trigger("updateverify");
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.right, this.verify, option);
    }

    DepartmentEdits.prototype.change = function(params) {
      this.word.active(params);
      this.right.active(params);
      return this.verify.active(params);
    };

    return DepartmentEdits;

  })(Spine.Controller);

  module.exports = DepartmentEdits;

}).call(this);
 },"controllers/sysadmin.employee.option.departmentshow": function(exports, require, module) { (function() {
  var $, Department, DepartmentShows, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Department = require('models/department');

  $ = Spine.$;

  DepartmentShows = (function(superClass) {
    extend(DepartmentShows, superClass);

    DepartmentShows.prototype.className = 'option_shows';

    function DepartmentShows() {
      this.change = bind(this.change, this);
      DepartmentShows.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.department = $.Deferred();
      Department.bind("refresh", (function(_this) {
        return function() {
          return _this.department.resolve();
        };
      })(this));
    }

    DepartmentShows.prototype.render = function() {
      return this.html(require("views/department")(this.item));
    };

    DepartmentShows.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.department).done((function(_this) {
          return function() {
            if (Department.exists(params.id)) {
              _this.item = {
                department: Department.find(params.id)
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.employee.option.departmentshow.coffee\nclass: DepartmentShows\nerror: " + err.message);
      }
    };

    DepartmentShows.prototype.getItem = function() {
      return this.item;
    };

    return DepartmentShows;

  })(Spine.Controller);

  module.exports = DepartmentShows;

}).call(this);
 },"controllers/sysadmin.employee.option.edit": function(exports, require, module) { (function() {
  var $, CBusiness, CPost, Employee, EmployeeEdits, Image, Right, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Employee = require('models/employee');

  $ = Spine.$;

  Word = require('controllers/sysadmin.employee.option.add.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  Right = require('controllers/sysadmin.employee.right');

  CPost = require('controllers/sysadmin.employee.post');

  CBusiness = require('controllers/sysadmin.employee.business');

  EmployeeEdits = (function(superClass) {
    extend(EmployeeEdits, superClass);

    EmployeeEdits.prototype.tag = "form";

    EmployeeEdits.prototype.className = 'employeeedits';

    function EmployeeEdits() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      EmployeeEdits.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('userimg', 'user', "50%");
      this.verify = new Verify;
      this.right = new Right;
      this.post = new CPost;
      this.business = new CBusiness;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var _business, _myright, _postids, ckey, cval, field, i, item, key, len, opt, param;
          e.preventDefault();
          _this.item = _this.word.getItem();
          opt = $(e.target);
          key = $(_this.el).serializeArray();
          _myright = 0;
          _business = 0;
          _postids = '';
          item = {
            person: {},
            employee: {}
          };
          for (i = 0, len = key.length; i < len; i++) {
            field = key[i];
            ckey = field.name.slice(2);
            cval = $.trim(field.value);
            if (cval !== '') {
              switch (field.name.slice(0, 2)) {
                case 'P_':
                  if (cval !== _this.item.persons[ckey]) {
                    item.person[ckey] = cval;
                  }
                  break;
                case 'E_':
                  if (cval !== _this.item.employees[ckey] || ckey === 'userid') {
                    item.employee[ckey] = cval;
                  }
                  break;
                case 'R_':
                  _myright |= parseInt(cval);
                  break;
                case 'B_':
                  _business |= parseInt(cval);
                  break;
                case 'H_':
                  _postids += (cval.length === 1 ? '0' : void 0) + cval;
                  break;
                default:
                  item[field.name] = cval;
              }
            }
          }
          if (_myright !== 0) {
            item.employee.myright = _myright;
          }
          item.employee.rights = _business;
          item.employee.postids = _postids;
          item.person['picture'] = $.fn.getImageName(_this.image.getImage().attr('src'));
          item.language = 1;
          item.token = _this.token;
          param = JSON.stringify(item);
          Employee.scope = 'woo';
          return $.fn.ajaxPut(_this.item.employees.url(), param, function(data) {
            if (data.id > -1) {
              $.fn.alert("数据保存成功！");
              if (data.person != null) {
                _this.item.persons.updateAttributes(data.person[0], {
                  ajax: false
                });
              }
              _this.item.employees.updateAttributes(data.employee[0], {
                ajax: false
              });
              return Employee.trigger('update', _this.item.employees[0]);
            } else {
              switch (data.error) {
                case "Access Denied":
                  return $.fn.reload();
                case "Validate Code Error!":
                  $.fn.alert("验证码错误，请重新填写。");
                  return Spine.trigger("updateverify");
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.right, this.post, this.business, this.verify, option);
    }

    EmployeeEdits.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      this.right.active(params);
      this.post.active(params);
      this.business.active(params);
      return this.verify.active(params);
    };

    return EmployeeEdits;

  })(Spine.Controller);

  module.exports = EmployeeEdits;

}).call(this);
 },"controllers/sysadmin.employee.option.show": function(exports, require, module) { (function() {
  var $, Department, Employee, EmployeeShows, Person, Post, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Employee = require('models/employee');

  Person = require('models/person');

  Department = require('models/department');

  Post = require('models/post');

  $ = Spine.$;

  EmployeeShows = (function(superClass) {
    extend(EmployeeShows, superClass);

    EmployeeShows.prototype.className = 'option_shows';

    function EmployeeShows() {
      this.change = bind(this.change, this);
      EmployeeShows.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.employee = $.Deferred();
      this.department = $.Deferred();
      this.person = $.Deferred();
      Department.bind("refresh", (function(_this) {
        return function() {
          return _this.department.resolve();
        };
      })(this));
      Employee.bind("refresh", (function(_this) {
        return function() {
          return _this.employee.resolve();
        };
      })(this));
      Person.bind("refresh", (function(_this) {
        return function() {
          return _this.person.resolve();
        };
      })(this));
    }

    EmployeeShows.prototype.render = function() {
      return this.html(require("views/employee")(this.item));
    };

    EmployeeShows.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.employee, this.person, this.department).done((function(_this) {
          return function() {
            var employee;
            if (Employee.exists(params.id)) {
              employee = Employee.find(params.id);
              _this.item = {
                employee: employee,
                person: Person.find(employee.userid),
                department: Department.find(employee.departmentid)
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.employee.option.classshow.coffee\nclass: EmployeeclassShows\nerror: " + err.message);
      }
    };

    EmployeeShows.prototype.getItem = function() {
      return this.item;
    };

    return EmployeeShows;

  })(Spine.Controller);

  module.exports = EmployeeShows;

}).call(this);
 },"controllers/sysadmin.employee.post": function(exports, require, module) { (function() {
  var $, Employee, EmployeePosts, Post, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Post = require('models/post');

  Employee = require('models/employee');

  $ = Spine.$;

  EmployeePosts = (function(superClass) {
    extend(EmployeePosts, superClass);

    EmployeePosts.prototype.className = 'employeerights';

    function EmployeePosts() {
      this.change = bind(this.change, this);
      EmployeePosts.__super__.constructor.apply(this, arguments);
      this.token = $.fn.cookie('PHPSESSID');
      this.active(this.change);
      this.employee = $.Deferred();
      Employee.bind("refresh", (function(_this) {
        return function() {
          var postindex, user;
          user = Employee.find(_this.user.id);
          postindex = user.postids.search(/01|02/);
          _this.userpostid = parseInt(user.postids.slice(0, 2));
          if (postindex % 2 === 0) {
            return _this.employee.resolve();
          }
        };
      })(this));
      this.post = $.Deferred();
      Post.bind("refresh", (function(_this) {
        return function() {
          return _this.post.resolve();
        };
      })(this));
      Spine.bind("userlogined", (function(_this) {
        return function(item) {
          return _this.user = item;
        };
      })(this));
    }

    EmployeePosts.prototype.render = function() {
      return this.html(require("views/fmemployeeposts")(this.item));
    };

    EmployeePosts.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.employee, this.post).done((function(_this) {
          return function() {
            var employee, eposts, n;
            eposts = [];
            if (Employee.exists(params.id)) {
              employee = Employee.find(params.id);
              if (employee.postids != null) {
                eposts = (function() {
                  var i, ref, results;
                  results = [];
                  for (n = i = 0, ref = employee.postids.length - 1; i <= ref; n = i += 2) {
                    results.push(parseInt(employee.postids.slice(n, +(n + 1) + 1 || 9e9)));
                  }
                  return results;
                })();
              }
            }
            _this.item = {
              employeeposts: eposts,
              posts: Post.select(function(item) {
                return parseInt(item.id) > _this.userpostid;
              })
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.employee.post.coffee\nclass: EmployeeRights\nerror: " + err.message);
      }
    };

    return EmployeePosts;

  })(Spine.Controller);

  module.exports = EmployeePosts;

}).call(this);
 },"controllers/sysadmin.employee.right": function(exports, require, module) { (function() {
  var $, Employee, EmployeeRights, Right, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Right = require('models/right');

  Employee = require('models/employee');

  $ = Spine.$;

  EmployeeRights = (function(superClass) {
    extend(EmployeeRights, superClass);

    EmployeeRights.prototype.className = 'employeerights';

    function EmployeeRights() {
      this.change = bind(this.change, this);
      EmployeeRights.__super__.constructor.apply(this, arguments);
      this.token = $.fn.cookie('PHPSESSID');
      this.active(this.change);
      this.employee = $.Deferred();
      Employee.bind("refresh", (function(_this) {
        return function() {
          return _this.employee.resolve();
        };
      })(this));
      this.right = $.Deferred();
      Right.bind("refresh", (function(_this) {
        return function() {
          return _this.right.resolve();
        };
      })(this));
      Spine.bind("userlogined", function(item) {
        if (item.state & parseInt("0x00000001", 16)) {
          return Right.fetch();
        }
      });
    }

    EmployeeRights.prototype.render = function() {
      return this.html(require("views/fmemployeerights")(this.item));
    };

    EmployeeRights.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.employee, this.right).done((function(_this) {
          return function() {
            var employee;
            if (Employee.exists(params.id)) {
              employee = Employee.find(params.id);
            } else {
              employee = new Employee;
            }
            _this.item = {
              employees: employee,
              rights: Right.count() > 0 ? Right.all() : void 0
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.employee.right.coffee\nclass: EmployeeRights\nerror: " + err.message);
      }
    };

    return EmployeeRights;

  })(Spine.Controller);

  module.exports = EmployeeRights;

}).call(this);
 },"controllers/sysadmin.employee.tree": function(exports, require, module) { (function() {
  var $, Catalog, Department, Employee, EmployeeTrees, ManagerTree, Person, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  Spine = require('spine');

  Department = require('models/department');

  Employee = require('models/employee');

  Person = require('models/person');

  Catalog = require('models/catalog');

  $ = Spine.$;

  ManagerTree = require('controllers/main.tree');

  EmployeeTrees = (function(superClass) {
    extend(EmployeeTrees, superClass);

    EmployeeTrees.prototype.className = 'origin_trees';

    function EmployeeTrees() {
      this.onTreeClick = bind(this.onTreeClick, this);
      this.change = bind(this.change, this);
      EmployeeTrees.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      Department.bind("ajaxError", function(record, xhr, settings, error) {
        return console.log(xhr.responseText);
      });
      this.employee = $.Deferred();
      this.department = $.Deferred();
      this.person = $.Deferred();
      Employee.bind("refresh", (function(_this) {
        return function(items) {
          if (_this.departmentids != null) {
            _this.employeeids = items;
            return _this.employee.resolve();
          }
        };
      })(this));
      Spine.bind("userlogined", (function(_this) {
        return function(item) {
          return _this.user = item;
        };
      })(this));
      Spine.bind("departmentid.allow", (function(_this) {
        return function(ids) {
          _this.departmentids = ids;
          return _this.department.resolve();
        };
      })(this));
      Person.bind("refresh", (function(_this) {
        return function(items) {
          var i, ids, item, len, ref;
          if (_this.employeeids != null) {
            ids = (function() {
              var i, len, ref, results;
              ref = Employee.all();
              results = [];
              for (i = 0, len = ref.length; i < len; i++) {
                item = ref[i];
                results.push(parseInt(item.userid));
              }
              return results;
            })();
            for (i = 0, len = items.length; i < len; i++) {
              item = items[i];
              if (ref = parseInt(item.id), indexOf.call(ids, ref) < 0) {
                return -1;
              }
            }
            return _this.person.resolve();
          }
        };
      })(this));
      Employee.bind("create", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.departmentid, 10);
          childZNode = {
            "id": parentId * 100000 + parseInt(item.id, 10),
            "pId": parentId,
            "name": item.getName()
          };
          return _this.addTreeNode(childZNode);
        };
      })(this));
      Employee.bind("update", (function(_this) {
        return function(item) {
          var node;
          if (item != null) {
            node = _this.zTree.getSelectedNodes();
            node[0].name = item.getName();
            _this.zTree.updateNode(node[0]);
            return _this.onTreeClick(null, _this.zTree.setting.treeId, node[0], 1);
          }
        };
      })(this));
      Department.bind("create", (function(_this) {
        return function(item) {
          var childZNode;
          childZNode = {
            "id": item.id,
            "pId": 0,
            "name": item.name
          };
          return _this.addTreeNode(childZNode);
        };
      })(this));
      Department.bind("update", (function(_this) {
        return function(item) {
          var node;
          if (item != null) {
            node = _this.zTree.getSelectedNodes();
            node[0].name = item.name;
            _this.zTree.updateNode(node[0]);
            return _this.onTreeClick(null, _this.zTree.setting.treeId, node[0], 1);
          }
        };
      })(this));
      Employee.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.departmentid, 10);
          childZNode = {
            "id": parentId * 100000 + parseInt(item.id, 10),
            "pId": parentId,
            "name": item.getName()
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
      Department.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode;
          childZNode = {
            "id": item.id,
            "pId": 0,
            "name": item.name
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
    }

    EmployeeTrees.prototype.render = function() {
      var item, ref;
      this.nodes = (function() {
        var i, len, ref, results;
        ref = this.item.departments;
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          item = ref[i];
          results.push({
            id: parseInt(item.id),
            pId: 0,
            name: item.name
          });
        }
        return results;
      }).call(this);
      [].splice.apply(this.nodes, [1, 0].concat(ref = (function() {
        var i, len, ref1, results;
        ref1 = this.item.employees;
        results = [];
        for (i = 0, len = ref1.length; i < len; i++) {
          item = ref1[i];
          results.push({
            id: parseInt(item.departmentid) * 100000 + parseInt(item.id),
            pId: item.departmentid,
            name: item.getName()
          });
        }
        return results;
      }).call(this))), ref;
      this.html(require("views/origin_trees")(this.item));
      return this.selectFirstNode("employeeTree");
    };

    EmployeeTrees.prototype.change = function(params) {
      var err, error1;
      try {
        return $.when(this.employee, this.department, this.person).done((function(_this) {
          return function() {
            var btns, id;
            if (params.id != null) {
              id = parseInt(params.id, 10);
              if (!/\/department\//.test(params.match[0])) {
                id += Employee.find(params.id).departmentid * 100000;
              }
            }
            btns = [];
            if (Catalog.getRight('employee') & 2) {
              btns = ['新建', '编辑', '删除'];
            }
            _this.item = {
              title: '员工分部门',
              name: 'employee',
              buttons: btns,
              nodeid: id,
              employees: Employee.select(function(item) {
                var ref;
                return ref = item.departmentid, indexOf.call(_this.departmentids, ref) >= 0;
              }),
              departments: (function() {
                var i, len, ref, results;
                ref = this.departmentids;
                results = [];
                for (i = 0, len = ref.length; i < len; i++) {
                  id = ref[i];
                  results.push(Department.find(id));
                }
                return results;
              }).call(_this)
            };
            _this.setting = {
              data: {
                simpleData: {
                  enable: true
                }
              },
              callback: {
                beforeClick: _this.beforeTreeClick,
                onClick: _this.onTreeClick
              }
            };
            return _this.render();
          };
        })(this));
      } catch (error1) {
        err = error1;
        return this.log("file: sysadmin.employee.tree.coffee\nclass: Employees\nerror: " + err.message);
      }
    };

    EmployeeTrees.prototype.onTreeClick = function(event, treeId, treeNode, clickFlag) {
      var dNode, logor, ref;
      EmployeeTrees.__super__.onTreeClick.apply(this, arguments);
      dNode = treeNode;
      if (dNode.id >= 1000) {
        dNode = dNode.getParentNode();
      }
      logor = Employee.find(this.user.id);
      if (ref = dNode.id, indexOf.call($.fn.postToDepartment(logor.postids), ref) < 0) {
        return $(this.buttonEl).slice(1).button("option", "disabled", true);
      }
    };

    EmployeeTrees.prototype.getNodeInfo = function(index) {
      if (this.node.id < 1000) {
        return [this.node.id, '/department', "部门"];
      } else {
        return [this.node.id - this.node.pId * 100000, '/employees', "员工"];
      }
    };

    EmployeeTrees.prototype.getRootTitle = function() {
      return "劳资";
    };

    return EmployeeTrees;

  })(ManagerTree);

  module.exports = EmployeeTrees;

}).call(this);
 },"controllers/sysadmin.export": function(exports, require, module) { (function() {
  var $, Company, Custom, Exports, Order, Product, Qiye, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  Spine = require('spine');

  Qiye = require('models/qiye');

  Order = require('models/order');

  Product = require('models/orderproducts');

  Company = require('models/company');

  Custom = require('models/custom');

  $ = Spine.$;

  Exports = (function(superClass) {
    extend(Exports, superClass);

    Exports.prototype.className = 'exports';

    Exports.prototype.elements = {
      'form:first-child select': "addressEl"
    };

    Exports.prototype.events = {
      'click tbody tr': 'orderClick'
    };

    function Exports() {
      this.afterfetch = bind(this.afterfetch, this);
      this.orderfetch = bind(this.orderfetch, this);
      this.change = bind(this.change, this);
      Exports.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.product = $.Deferred();
      this.company = $.Deferred();
      this.qiye = $.Deferred();
      Company.bind("ajaxError", function(record, xhr, settings, error) {
        return console.log(record + xhr.responseText + error);
      });
      Qiye.bind("ajaxError", function(record, xhr, settings, error) {
        return console.log(record + xhr.responseText + error);
      });
      Order.bind("ajaxError", function(record, xhr, settings, error) {
        return console.log(record + xhr.responseText + error);
      });
      Qiye.bind("refresh", (function(_this) {
        return function() {
          return _this.qiye.resolve();
        };
      })(this));
      Company.bind("refresh", (function(_this) {
        return function() {
          return _this.company.resolve();
        };
      })(this));
      Product.bind("refresh", (function(_this) {
        return function() {
          return _this.product.resolve();
        };
      })(this));
      Custom.bind("refresh", this.orderfetch);
      Order.bind("refresh", this.afterfetch);
      this.token = $.fn.cookie("PHPSESSID");
    }

    Exports.prototype.render = function() {
      return this.html(require("views/export")(this.item));
    };

    Exports.prototype.change = function(params) {
      var err, error1;
      try {
        return $.when(this.qiye, this.company, this.product).done((function(_this) {
          return function() {
            _this.item = {
              orders: Order.all()
            };
            return _this.render();
          };
        })(this));
      } catch (error1) {
        err = error1;
        return this.log("file: sysadmin.export.coffee\nclass: Exports\nerror: " + err.message);
      }
    };

    Exports.prototype.orderfetch = function() {
      var condition, fields, item, params, values;
      if (Custom.count() > 0) {
        fields = Order.attributes;
        values = (function() {
          var j, len, ref, results;
          ref = Custom.all();
          results = [];
          for (j = 0, len = ref.length; j < len; j++) {
            item = ref[j];
            results.push(item.userid);
          }
          return results;
        })();
        condition = [
          {
            field: "stateid",
            value: 10,
            operator: "eq"
          }, {
            field: "userid",
            value: values,
            operator: "in"
          }
        ];
        params = {
          data: {
            cond: condition,
            filter: fields,
            token: this.token
          },
          processData: true
        };
        return Order.fetch(params);
      } else {
        return this.afterfetch();
      }
    };

    Exports.prototype.afterfetch = function() {
      var companyid, condition, fields, i, ids, item, j, k, len, len1, params, pro, ref, ref1, ref2;
      if (Order.count() > 0) {
        fields = Company.attributes;
        companyid = (function() {
          var j, len, ref, results;
          ref = Order.all();
          results = [];
          for (j = 0, len = ref.length; j < len; j++) {
            item = ref[j];
            results.push(item.customCompanyId());
          }
          return results;
        })();
        condition = [
          {
            field: "id",
            value: companyid,
            operator: "in"
          }
        ];
        params = {
          data: {
            cond: condition,
            filter: fields,
            token: this.token
          },
          processData: true
        };
        Company.fetch(params);
        fields = Product.attributes;
        i = 0;
        ids = [];
        ref = Order.all();
        for (j = 0, len = ref.length; j < len; j++) {
          item = ref[j];
          ref1 = item.products;
          for (k = 0, len1 = ref1.length; k < len1; k++) {
            pro = ref1[k];
            if (ref2 = pro.proid, indexOf.call(ids, ref2) < 0) {
              ids[i++] = pro.proid;
            }
          }
        }
        condition = [
          {
            field: "id",
            value: ids,
            operator: "in"
          }
        ];
        params = {
          data: {
            cond: condition,
            filter: fields,
            token: this.token
          },
          processData: true
        };
        return Product.fetch(params);
      } else {
        this.company.resolve();
        return this.product.resolve();
      }
    };

    Exports.prototype.orderClick = function(e) {
      e.preventDefault();
      e.stopPropagation();
      return this.navigate('/members', this.item.id, 'edit');
    };

    return Exports;

  })(Spine.Controller);

  module.exports = Exports;

}).call(this);
 },"controllers/sysadmin.good": function(exports, require, module) { (function() {
  var $, Good, Goodclass, Goods, Goodsharp, Manager, Option, Spine, Tree,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Manager = require('spine/lib/manager');

  $ = Spine.$;

  Goodclass = require('models/goodclass');

  Goodsharp = require('models/goodsharp');

  Good = require('models/good');

  Option = require('controllers/sysadmin.good.option');

  Tree = require('controllers/sysadmin.good.tree');

  Goods = (function(superClass) {
    extend(Goods, superClass);

    Goods.prototype.className = 'option_outs';

    function Goods() {
      var divide;
      Goods.__super__.constructor.apply(this, arguments);
      this.tree = new Tree;
      this.option = new Option;
      Spine.bind("userlogined", function(user) {
        Goodclass.fetch();
        Goodsharp.fetch();
        return Good.fetch();
      });
      this.routes({
        '/goodclass/new': function(params) {
          this.active(params);
          return this.option.classadd.active(params);
        },
        '/goodclass/:id/show': function(params) {
          this.active(params);
          if (params.id === '1') {
            this.tree.active(params);
          }
          return this.option.classshow.active(params);
        },
        '/goodclass/:id/edit': function(params) {
          this.active(params);
          return this.option.classedit.active(params);
        },
        '/goodclass/:id/delete': function(params) {
          this.active(params);
          return this.option.classdelete.active(params);
        },
        '/goods/new': function(params) {
          this.active(params);
          return this.option.goodadd.active(params);
        },
        '/goods/:id/show': function(params) {
          this.active(params);
          return this.option.goodshow.active(params);
        },
        '/goods/:id/edit': function(params) {
          this.active(params);
          return this.option.goodedit.active(params);
        },
        '/goods/:id/delete': function(params) {
          this.active(params);
          return this.option.gooddelete.active(params);
        }
      });
      divide = $('<div />').addClass('vdivide');
      this.append(this.tree, divide, this.option);
      this.navigate('/goodclass', 1, 'show');
    }

    return Goods;

  })(Spine.Controller);

  module.exports = Goods;

}).call(this);
 },"controllers/sysadmin.good.option.add": function(exports, require, module) { (function() {
  var $, Good, GoodAdds, Goodclass, Image, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Goodclass = require('models/goodclass');

  Good = require('models/good');

  $ = Spine.$;

  Word = require('controllers/sysadmin.good.option.add.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  GoodAdds = (function(superClass) {
    extend(GoodAdds, superClass);

    GoodAdds.prototype.tag = "form";

    GoodAdds.prototype.className = 'goodadds';

    function GoodAdds() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      GoodAdds.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('goodimg', 'good');
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            product: {}
          };
          $.fn.makeRequestParams(_this.el, item, ['G_']);
          item.product['picture'] = $.fn.getImageName(_this.image.getImage().attr('src'));
          item.action = "product_create";
          param = JSON.stringify(item);
          return $.ajax({
            url: "? cmd=Product",
            data: param,
            type: "POST",
            dataType: "json",
            beforeSend: function() {},
            error: function(request) {
              return $.fn.alert("表单提交出错，请稍候再试");
            },
            success: function(data) {
              if (data.id > -1) {
                $.fn.alert("数据保存成功！");
                return _this.word.getItem().good.updateAttributes(data.product[0], {
                  ajax: false
                });
              } else {
                switch (data.error) {
                  case "Access Denied":
                    return $.fn.reload();
                  case "Validate Code Error!":
                    $.fn.alert("验证码错误，请重新填写。");
                    return Spine.trigger("updateverify");
                }
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    GoodAdds.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return GoodAdds;

  })(Spine.Controller);

  module.exports = GoodAdds;

}).call(this);
 },"controllers/sysadmin.good.option.add.text": function(exports, require, module) { (function() {
  var $, Good, GoodAddTexts, Goodclass, Goodsharp, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Goodclass = require('models/goodclass');

  Good = require('models/good');

  Goodsharp = require('models/goodsharp');

  $ = Spine.$;

  GoodAddTexts = (function(superClass) {
    extend(GoodAddTexts, superClass);

    GoodAddTexts.prototype.className = 'textoption';

    GoodAddTexts.prototype.elements = {
      "button": "buttonEl",
      'tr td input[type=checkbox]': 'selectedEl',
      'form div:first-child p:nth-child(2) select': "addressEl"
    };

    function GoodAddTexts() {
      this.change = bind(this.change, this);
      GoodAddTexts.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.good = $.Deferred();
      Good.bind("refresh", (function(_this) {
        return function() {
          return _this.good.resolve();
        };
      })(this));
      this.goodsharp = $.Deferred();
      Goodsharp.bind("refresh", (function(_this) {
        return function() {
          return _this.goodsharp.resolve();
        };
      })(this));
      this.goodclass = $.Deferred();
      Goodclass.bind("refresh", (function(_this) {
        return function() {
          return _this.goodclass.resolve();
        };
      })(this));
      Good.bind("create", (function(_this) {
        return function(item) {
          return _this.item.good.updateAttributes(item, {
            ajax: false
          });
        };
      })(this));
    }

    GoodAddTexts.prototype.render = function() {
      return this.html(require("views/fmgood")(this.item));
    };

    GoodAddTexts.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.good, this.goodsharp, this.goodclass).done((function(_this) {
          return function() {
            var good;
            good = null;
            if (params.id != null) {
              if (Good.exists(params.id)) {
                good = Good.find(params.id);
              }
            } else {
              good = new Good;
            }
            if (good != null) {
              _this.item = {
                good: good,
                goodclasses: Goodclass.all(),
                goodsharps: Goodsharp.all()
              };
              _this.render();
              return Spine.trigger("image:change", _this.item.good.picture);
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.good.option.add.text.coffee\nclass: GoodAddTexts\nerror: " + err.message);
      }
    };

    GoodAddTexts.prototype.getItem = function() {
      return this.item;
    };

    return GoodAddTexts;

  })(Spine.Controller);

  module.exports = GoodAddTexts;

}).call(this);
 },"controllers/sysadmin.good.option.classadd": function(exports, require, module) { (function() {
  var $, Goodclass, GoodclassAdds, Image, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Goodclass = require('models/goodclass');

  $ = Spine.$;

  Word = require('controllers/sysadmin.good.option.classadd.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  GoodclassAdds = (function(superClass) {
    extend(GoodclassAdds, superClass);

    GoodclassAdds.prototype.tag = "form";

    GoodclassAdds.prototype.className = 'goodclassadds';

    function GoodclassAdds() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      GoodclassAdds.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('goodimg', 'good');
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            productclass: {}
          };
          $.fn.makeRequestParam(_this.el, item, ['G_']);
          item.productclass['picture'] = $.fn.getImageName(_this.image.getImage().attr('src'));
          item.action = "productclass_create";
          param = JSON.stringify(item);
          return $.ajax({
            url: "? cmd=ProductClass",
            data: param,
            type: "POST",
            dataType: "json",
            beforeSend: function() {},
            error: function(request) {
              return $.fn.alert("表单提交出错，请稍候再试");
            },
            success: function(data) {
              if (data.id > -1) {
                $.fn.alert("数据保存成功！");
                return _this.word.getItem().goodclass.updateAttributes(data.productclass[0], {
                  ajax: false
                });
              } else {
                switch (data.error) {
                  case "Access Denied":
                    return $.fn.reload();
                  case "Validate Code Error!":
                    $.fn.alert("验证码错误，请重新填写。");
                    return Spine.trigger("updateverify");
                }
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    GoodclassAdds.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return GoodclassAdds;

  })(Spine.Controller);

  module.exports = GoodclassAdds;

}).call(this);
 },"controllers/sysadmin.good.option.classadd.text": function(exports, require, module) { (function() {
  var $, Goodclass, GoodclassAddTexts, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Goodclass = require('models/goodclass');

  $ = Spine.$;

  GoodclassAddTexts = (function(superClass) {
    extend(GoodclassAddTexts, superClass);

    GoodclassAddTexts.prototype.className = 'textoption';

    GoodclassAddTexts.prototype.elements = {
      "button": "buttonEl",
      'form': 'formEl',
      'tr td input[type=checkbox]': 'selectedEl',
      'form div:first-child p:nth-child(2) select': "addressEl"
    };

    function GoodclassAddTexts() {
      this.change = bind(this.change, this);
      GoodclassAddTexts.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.goodclass = $.Deferred();
      Goodclass.bind("refresh", (function(_this) {
        return function() {
          return _this.goodclass.resolve();
        };
      })(this));
      Goodclass.bind("create", (function(_this) {
        return function(item) {
          return _this.item.goodclass.updateAttributes(item, {
            ajax: false
          });
        };
      })(this));
    }

    GoodclassAddTexts.prototype.render = function() {
      return this.html(require("views/fmgoodclass")(this.item));
    };

    GoodclassAddTexts.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.goodclass).done((function(_this) {
          return function() {
            var klass;
            klass = null;
            if (params.id != null) {
              if (Goodclass.exists(params.id)) {
                klass = Goodclass.find(params.id);
              }
            } else {
              klass = new Goodclass;
            }
            if (klass != null) {
              _this.item = {
                goodclass: klass,
                goodclasses: Goodclass.all()
              };
              _this.render();
              return Spine.trigger("image:change", _this.item.goodclass.picture);
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.good.option.classeadd.text.coffee\nclass: GoodclassAddTexts\nerror: " + err.message);
      }
    };

    GoodclassAddTexts.prototype.getItem = function() {
      return this.item;
    };

    return GoodclassAddTexts;

  })(Spine.Controller);

  module.exports = GoodclassAddTexts;

}).call(this);
 },"controllers/sysadmin.good.option.classdelete": function(exports, require, module) { (function() {
  var $, Goodclass, GoodclassDeletes, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Goodclass = require('models/goodclass');

  $ = Spine.$;

  Word = require('controllers/sysadmin.good.option.classshow');

  Verify = require('controllers/main.verifycode');

  GoodclassDeletes = (function(superClass) {
    extend(GoodclassDeletes, superClass);

    GoodclassDeletes.prototype.tag = "form";

    GoodclassDeletes.prototype.className = 'option_shows';

    function GoodclassDeletes() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      GoodclassDeletes.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item;
          e.stopPropagation();
          e.preventDefault();
          item = _this.word.getItem();
          $.fn.makeDeleteParam(_this.el, Goodclass);
          if (confirm('确实要删除当前产品吗?')) {
            return item.goodclass.destroy();
          }
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    GoodclassDeletes.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return GoodclassDeletes;

  })(Spine.Controller);

  module.exports = GoodclassDeletes;

}).call(this);
 },"controllers/sysadmin.good.option.classedit": function(exports, require, module) { (function() {
  var $, Goodclass, GoodclassEdits, Image, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Goodclass = require('models/goodclass');

  $ = Spine.$;

  Word = require('controllers/sysadmin.good.option.classadd.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  GoodclassEdits = (function(superClass) {
    extend(GoodclassEdits, superClass);

    GoodclassEdits.prototype.tag = "form";

    GoodclassEdits.prototype.className = 'goodclassedits';

    function GoodclassEdits() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      GoodclassEdits.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('goodimg', 'good');
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            productclass: {}
          };
          _this.item = _this.word.getItem();
          $.fn.makeRequestParam(_this.el, item, ['G_']);
          item.productclass['picture'] = $.fn.getImageName(_this.image.getImage().attr('src'));
          param = JSON.stringify(item);
          return $.fn.ajaxPut(_this.item.goodclass.url(), param, function(data) {
            if (data.id > -1) {
              $.fn.alert("数据保存成功！");
              _this.item.goodclass.updateAttributes(data.productclass[0], {
                ajax: false
              });
              return Goodclass.trigger('update', data.productclass[0]);
            } else {
              switch (data.error) {
                case "Access Denied":
                case "Not logged!":
                  return $.fn.reload();
                case "Validate Code Error!":
                  $.fn.alert("验证码错误，请重新填写。");
                  return Spine.trigger("updateverify");
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    GoodclassEdits.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return GoodclassEdits;

  })(Spine.Controller);

  module.exports = GoodclassEdits;

}).call(this);
 },"controllers/sysadmin.good.option.classshow": function(exports, require, module) { (function() {
  var $, Goodclass, GoodclassShows, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Goodclass = require('models/goodclass');

  $ = Spine.$;

  GoodclassShows = (function(superClass) {
    extend(GoodclassShows, superClass);

    GoodclassShows.prototype.className = 'option_shows';

    function GoodclassShows() {
      this.change = bind(this.change, this);
      GoodclassShows.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.goodclass = $.Deferred();
      Goodclass.bind("refresh", (function(_this) {
        return function() {
          return _this.goodclass.resolve();
        };
      })(this));
    }

    GoodclassShows.prototype.render = function() {
      return this.html(require("views/goodclass")(this.item));
    };

    GoodclassShows.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.goodclass).done((function(_this) {
          return function() {
            if (Goodclass.exists(params.id)) {
              _this.item = {
                goodclass: Goodclass.find(params.id)
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.good.option.classshow.coffee\nclass: GoodclassShows\nerror: " + err.message);
      }
    };

    GoodclassShows.prototype.getItem = function() {
      return this.item;
    };

    return GoodclassShows;

  })(Spine.Controller);

  module.exports = GoodclassShows;

}).call(this);
 },"controllers/sysadmin.good.option": function(exports, require, module) { (function() {
  var $, DeleteGoodclasses, DeleteGoods, EditGoodclasses, EditGoods, GoodOption, NewGoodclasses, NewGoods, ShowGoodClasses, ShowGoods, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  $ = Spine.$;

  ShowGoodClasses = require('controllers/sysadmin.good.option.classshow');

  NewGoodclasses = require('controllers/sysadmin.good.option.classadd');

  EditGoodclasses = require('controllers/sysadmin.good.option.classedit');

  DeleteGoodclasses = require('controllers/sysadmin.good.option.classdelete');

  ShowGoods = require('controllers/sysadmin.good.option.show');

  NewGoods = require('controllers/sysadmin.good.option.add');

  EditGoods = require('controllers/sysadmin.good.option.edit');

  DeleteGoods = require('controllers/sysadmin.good.option.delete');

  GoodOption = (function(superClass) {
    extend(GoodOption, superClass);

    function GoodOption() {
      return GoodOption.__super__.constructor.apply(this, arguments);
    }

    GoodOption.prototype.className = 'options stack';

    GoodOption.prototype.controllers = {
      classshow: ShowGoodClasses,
      classadd: NewGoodclasses,
      classedit: EditGoodclasses,
      goodshow: ShowGoods,
      goodadd: NewGoods,
      goodedit: EditGoods,
      gooddelete: DeleteGoods,
      classdelete: DeleteGoodclasses
    };

    return GoodOption;

  })(Spine.Stack);

  module.exports = GoodOption;

}).call(this);
 },"controllers/sysadmin.good.option.delete": function(exports, require, module) { (function() {
  var $, Good, GoodDeletes, Goodsharp, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Good = require('models/good');

  Goodsharp = require('models/goodsharp');

  $ = Spine.$;

  Word = require('controllers/sysadmin.good.option.show');

  Verify = require('controllers/main.verifycode');

  GoodDeletes = (function(superClass) {
    extend(GoodDeletes, superClass);

    GoodDeletes.prototype.tag = "form";

    GoodDeletes.prototype.className = 'option_shows';

    function GoodDeletes() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      GoodDeletes.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item;
          e.stopPropagation();
          e.preventDefault();
          item = _this.word.getItem();
          $.fn.makeDeleteParam(_this.el, Good);
          if (confirm('确实要删除当前产品吗?')) {
            return item.good.destroy();
          }
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    GoodDeletes.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return GoodDeletes;

  })(Spine.Controller);

  module.exports = GoodDeletes;

}).call(this);
 },"controllers/sysadmin.good.option.edit": function(exports, require, module) { (function() {
  var $, Good, GoodEdits, Goodclass, Goodsharp, Image, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Goodclass = require('models/goodclass');

  Goodsharp = require('models/goodsharp');

  Good = require('models/good');

  $ = Spine.$;

  Word = require('controllers/sysadmin.good.option.add.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  GoodEdits = (function(superClass) {
    extend(GoodEdits, superClass);

    GoodEdits.prototype.tag = "form";

    GoodEdits.prototype.className = 'goodedits';

    function GoodEdits() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      GoodEdits.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('goodimg', 'good');
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param, pic;
          e.preventDefault();
          _this.item = _this.word.getItem();
          item = {
            product: {}
          };
          $.fn.makeRequestParam(_this.el, item, ['G_'], [_this.item.good]);
          pic = $.fn.getImageName(_this.image.getImage().attr('src'));
          item.product['picture'] = pic || 'noimg.png';
          param = JSON.stringify(item);
          return $.fn.ajaxPut(_this.item.good.url(), param, function(data) {
            if (data.id > -1) {
              $.fn.alert("数据保存成功！");
              _this.item.good.updateAttributes(data.product[0], {
                ajax: false
              });
              return Good.trigger('update', data.product[0]);
            } else {
              switch (data.error) {
                case "Access Denied":
                  return window.location.reload();
                case "Validate Code Error!":
                  $.fn.alert("验证码错误，请重新填写。");
                  return Spine.trigger("updateverify");
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    GoodEdits.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return GoodEdits;

  })(Spine.Controller);

  module.exports = GoodEdits;

}).call(this);
 },"controllers/sysadmin.good.option.show": function(exports, require, module) { (function() {
  var $, Good, GoodShows, Goodsharp, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Good = require('models/good');

  Goodsharp = require('models/goodsharp');

  $ = Spine.$;

  GoodShows = (function(superClass) {
    extend(GoodShows, superClass);

    GoodShows.prototype.className = 'option_shows';

    function GoodShows() {
      this.change = bind(this.change, this);
      GoodShows.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      Good.bind("refresh", (function(_this) {
        return function() {
          return _this.change;
        };
      })(this));
    }

    GoodShows.prototype.render = function() {
      return this.html(require("views/good")(this.item));
    };

    GoodShows.prototype.change = function(params) {
      var err, error, goods;
      try {
        if (Good.exists(params.id)) {
          goods = Good.find(params.id);
          this.item = {
            good: goods,
            sharp: Goodsharp.find(parseInt(goods.sharp))
          };
          return this.render();
        }
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.good.option.show.coffee\nclass: GoodShows\nerror: " + err.message);
      }
    };

    GoodShows.prototype.getItem = function() {
      return this.item;
    };

    return GoodShows;

  })(Spine.Controller);

  module.exports = GoodShows;

}).call(this);
 },"controllers/sysadmin.good.tree": function(exports, require, module) { (function() {
  var $, Catalog, Good, GoodTrees, Goodclass, ManagerTree, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Goodclass = require('models/goodclass');

  Good = require('models/good');

  Catalog = require('models/catalog');

  $ = Spine.$;

  ManagerTree = require('controllers/main.tree');

  GoodTrees = (function(superClass) {
    extend(GoodTrees, superClass);

    GoodTrees.prototype.className = 'origin_trees';

    function GoodTrees() {
      this.change = bind(this.change, this);
      GoodTrees.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      Goodclass.bind("ajaxError", function(record, xhr, settings, error) {
        return console.log(xhr.responseText);
      });
      this.good = $.Deferred();
      this.goodclass = $.Deferred();
      Good.bind("refresh", (function(_this) {
        return function() {
          return _this.good.resolve();
        };
      })(this));
      Goodclass.bind("refresh", (function(_this) {
        return function() {
          return _this.goodclass.resolve();
        };
      })(this));
      Good.bind("create", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.classid, 10);
          childZNode = {
            "id": parentId * 100000 + parseInt(item.id, 10),
            "pId": parentId,
            "name": item.size
          };
          return _this.addTreeNode(childZNode);
        };
      })(this));
      Good.bind("update", (function(_this) {
        return function(item) {
          var node;
          if (item != null) {
            node = _this.zTree.getSelectedNodes();
            node[0].name = item.size;
            _this.zTree.updateNode(node[0]);
            return _this.onTreeClick(null, _this.zTree.setting.treeId, node[0], 1);
          }
        };
      })(this));
      Goodclass.bind("create", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.classid, 10);
          childZNode = {
            "id": item.id,
            "pId": item.parentid,
            "name": item.name
          };
          return _this.addTreeNode(childZNode);
        };
      })(this));
      Goodclass.bind("update", (function(_this) {
        return function(item) {
          var node;
          if (item != null) {
            node = _this.zTree.getSelectedNodes();
            node[0].name = item.name;
            _this.zTree.updateNode(node[0]);
            return _this.onTreeClick(null, _this.zTree.setting.treeId, node[0], 1);
          }
        };
      })(this));
      Good.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.classid, 10);
          childZNode = {
            "id": parentId * 100000 + parseInt(item.id, 10),
            "pId": parentId,
            "name": item.size
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
      Goodclass.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.classid, 10);
          childZNode = {
            "id": item.id,
            "pId": item.parentid,
            "name": item.name
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
    }

    GoodTrees.prototype.render = function() {
      var item, ref;
      this.nodes = (function() {
        var i, len, ref, results;
        ref = Goodclass.all();
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          item = ref[i];
          results.push({
            id: parseInt(item.id),
            pId: item.parentid,
            name: item.name
          });
        }
        return results;
      })();
      [].splice.apply(this.nodes, [1, 0].concat(ref = (function() {
        var i, len, ref1, results;
        ref1 = Good.all();
        results = [];
        for (i = 0, len = ref1.length; i < len; i++) {
          item = ref1[i];
          results.push({
            id: parseInt(item.classid) * 100000 + parseInt(item.id),
            pId: item.classid,
            name: item.size
          });
        }
        return results;
      })())), ref;
      this.html(require("views/origin_trees")(this.item));
      return this.selectFirstNode("goodTree");
    };

    GoodTrees.prototype.change = function(params) {
      var err, error1;
      try {
        return $.when(this.good, this.goodclass).done((function(_this) {
          return function() {
            var btns, id;
            if (params.id != null) {
              id = parseInt(params.id, 10);
              if (!/\/goodclass/.test(params.match[0])) {
                id += Good.find(params.id).classid * 100000;
              }
            }
            btns = [];
            if (Catalog.getRight('good') & 2) {
              btns = ['新建', '编辑', '删除'];
            }
            _this.item = {
              title: '客户分类',
              name: 'good',
              buttons: btns,
              nodeid: id,
              goods: Goodclass.all()
            };
            _this.setting = {
              data: {
                simpleData: {
                  enable: true
                }
              },
              callback: {
                beforeClick: _this.beforeTreeClick,
                onClick: _this.onTreeClick
              }
            };
            return _this.render();
          };
        })(this));
      } catch (error1) {
        err = error1;
        return this.log("file: sysadmin.good.coffee\nclass: Goods\nerror: " + err.message);
      }
    };

    GoodTrees.prototype.getNodeInfo = function(index) {
      if (this.node.id < 1000) {
        return [this.node.id, '/goodclass', "产品类型"];
      } else {
        return [this.node.id - this.node.pId * 100000, '/goods', "产品"];
      }
    };

    GoodTrees.prototype.getRootTitle = function() {
      return "经营";
    };

    return GoodTrees;

  })(ManagerTree);

  module.exports = GoodTrees;

}).call(this);
 },"controllers/sysadmin.main": function(exports, require, module) { (function() {
  var $, Catalog, Custom, Customs, Department, Dryings, Drymain, Employee, Employees, Exports, Good, Goods, Logins, Main, Materialtype, MyYunRuis, News, Order, Orders, Orderstate, Person, Post, Progress, Qiye, Qiyes, Spine, User, Werehouse, Werehouses,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Catalog = require('models/catalog');

  Qiye = require('models/qiye');

  News = require('models/news');

  Employee = require('models/employee');

  Custom = require('models/custom');

  Person = require('models/person');

  Post = require('models/post');

  User = require('models/user');

  Order = require('models/order');

  Orderstate = require('models/orderstate');

  Department = require('models/department');

  Drymain = require('models/drymain');

  Werehouse = require('models/werehouse');

  Materialtype = require('models/materialtype');

  Good = require('models/good');

  $ = Spine.$;

  MyYunRuis = require('controllers/main.myyunrui');

  Exports = require('controllers/sysadmin.export');

  Goods = require('controllers/sysadmin.good');

  Orders = require('controllers/sysadmin.order');

  Werehouses = require('controllers/sysadmin.werehouse');

  Progress = require('controllers/sysadmin.progress');

  Dryings = require('controllers/sysadmin.drying');

  Employees = require('controllers/sysadmin.employee');

  Customs = require('controllers/sysadmin.custom');

  Array.prototype.unique = function() {
    var j, key, output, ref, results, value;
    output = {};
    for (key = j = 0, ref = this.length; 0 <= ref ? j < ref : j > ref; key = 0 <= ref ? ++j : --j) {
      output[this[key]] = this[key];
    }
    results = [];
    for (key in output) {
      value = output[key];
      results.push(value);
    }
    return results;
  };

  Logins = (function(superClass) {
    extend(Logins, superClass);

    Logins.prototype.className = 'logins';

    Logins.prototype.elements = {
      "input": "input",
      "form": "form",
      "img": "img"
    };

    Logins.prototype.events = {
      'click button': 'login',
      "click img": "resetValidate"
    };

    function Logins() {
      this.login = bind(this.login, this);
      this.change = bind(this.change, this);
      Logins.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.loginEmployee = void 0;
      $.fn.postToDepartment = function(postids) {
        var department_ids, i, id, j, k, n, ref, ref1, sids;
        department_ids = [];
        for (n = j = 0, ref = postids.length - 1; j <= ref; n = j += 2) {
          id = parseInt(postids.slice(n, +(n + 1) + 1 || 9e9));
          sids = Post.find(id).departmentids;
          for (i = k = 0, ref1 = sids.length - 1; k <= ref1; i = k += 2) {
            department_ids.push(parseInt(sids.slice(i, +(i + 1) + 1 || 9e9)));
          }
        }
        return department_ids;
      };
      this.employee = $.Deferred();
      this.department = $.Deferred();
      this.post = $.Deferred();
      Post.bind("refresh", (function(_this) {
        return function() {
          return _this.post.resolve();
        };
      })(this));
      Employee.bind("refresh", (function(_this) {
        return function(items) {
          var item, loginor;
          if (Employee.count() === 1) {
            loginor = User.first();
            _this.loginEmployee = items[0];
            if (parseInt(loginor.id) === parseInt(items[0].userid)) {
              _this._setDepartmentId(items[0].departmentid);
              Department.append([items[0].departmentid]);
              Person.append([items[0].userid]);
              return _this.employee.resolve();
            }
          } else {
            Department.append((function() {
              var j, len, results;
              results = [];
              for (j = 0, len = items.length; j < len; j++) {
                item = items[j];
                results.push(item.departmentid);
              }
              return results;
            })());
            return Person.append((function() {
              var j, len, results;
              results = [];
              for (j = 0, len = items.length; j < len; j++) {
                item = items[j];
                results.push(item.userid);
              }
              return results;
            })());
          }
        };
      })(this));
      Department.bind("refresh", (function(_this) {
        return function(items) {
          if (items.length === 1) {
            if (parseInt(_this.loginEmployee.departmentid) === parseInt(items[0].id)) {
              _this._setDepartmentId(items[0].id);
              return _this.department.resolve();
            }
          }
        };
      })(this));
      this.conditionStart();
    }

    Logins.prototype.render = function() {
      this.html(require('views/login')());
      return $("body >header h2").text("用户登录");
    };

    Logins.prototype.change = function(params) {
      var err, error1;
      try {
        return this.render();
      } catch (error1) {
        err = error1;
        return this.log("file: sysadmin.main.coffee, error:" + err.message);
      }
    };

    Logins.prototype.login = function() {
      var username, userpwd, validate;
      username = $(this.input[0]).val();
      userpwd = $(this.input[1]).val();
      validate = $(this.input[2]).val();
      if (!/^[a-zA-Z]{1}[a-zA-Z0-9\-\_\@\.]{4,18}[a-zA-Z0-9]{1}$/.test(username)) {
        $.fn.alert("用户名格式不正确");
        return false;
      }
      if (!/^[\w\-\!\@\#\$\%\^\&\*]{6,16}$/.test(userpwd)) {
        $.fn.alert("密码格式不正确");
        return false;
      }
      if (!/^\d{4}$/.test(validate)) {
        $.fn.alert("校验码格式不正确");
        return false;
      }
      $(this.input[3]).val($.fn.cookie("PHPSESSID"));
      return $.post("? cmd=CheckLogin", $(this.form).serialize(), (function(_this) {
        return function(result) {
          var item, obj;
          if (result[0] === "{") {
            obj = JSON.parse(result);
            if (typeof obj === "object") {
              if (obj.token != null) {
                sessionStorage.token = obj.token;
                delete obj.token;
              }
              if (obj.id !== -1) {
                item = User.first();
                if (typeof item !== "undefined") {
                  item.updateAttributes(obj);
                } else {
                  item = new User(obj);
                }
                item.save();
                Post.fetch();
                Employee.append([
                  {
                    field: 'userid',
                    value: item.id,
                    operator: 'eq'
                  }
                ]);
                _this.setRight(parseInt(item.state));
                Spine.trigger("userlogined", item);
                return _this.navigate("/sysadmins/myyunrui");
              } else {
                $.fn.alert(result);
                return _this.resetValidate();
              }
            }
          } else {
            $.fn.alert(result);
            return _this.resetValidate();
          }
        };
      })(this));
    };

    Logins.prototype.setRight = function(state) {
      var catalog, i, j;
      catalog = Catalog.all();
      for (i = j = 0; j <= 3; i = ++j) {
        catalog[i].right = 0;
      }
      if (state & 0x80000000) {
        catalog[0].right |= 32;
      }
      if (state & parseInt("0x40000000")) {
        catalog[0].right |= 16;
      }
      if (state & parseInt("0x20000000")) {
        catalog[0].right |= 8;
      }
      if (state & parseInt("0x10000000")) {
        catalog[0].right |= 4;
      }
      if (state & parseInt("0x08000000")) {
        catalog[0].right |= 2;
      }
      if (state & parseInt("0x04000000")) {
        catalog[0].right |= 1;
      }
      if (state & parseInt("0x02000000")) {
        catalog[1].right |= 128;
      }
      if (state & parseInt("0x01000000")) {
        catalog[1].right |= 64;
      }
      if (state & parseInt("0x00800000")) {
        catalog[1].right |= 32;
      }
      if (state & parseInt("0x00400000")) {
        catalog[1].right |= 16;
      }
      if (state & parseInt("0x00200000")) {
        catalog[1].right |= 8;
      }
      if (state & parseInt("0x00100000")) {
        catalog[1].right |= 4;
      }
      if (state & parseInt("0x00080000")) {
        catalog[1].right |= 2;
      }
      if (state & parseInt("0x00040000")) {
        catalog[1].right |= 1;
      }
      if (state & parseInt("0x00020000")) {
        catalog[2].right |= 2;
      }
      if (state & parseInt("0x00010000")) {
        catalog[2].right |= 1;
      }
      if (state & parseInt("0x00008000")) {
        catalog[3].right |= 4;
      }
      if (state & parseInt("0x00004000")) {
        catalog[3].right |= 2;
      }
      if (state & parseInt("0x00002000")) {
        catalog[2].right |= 8;
      }
      if (state & parseInt("0x00001000")) {
        catalog[2].right |= 4;
      }
      if (state & parseInt("0x00000001")) {
        return catalog[3].right |= 1;
      }
    };

    Logins.prototype.resetValidate = function() {
      var url;
      url = 'admin/checkNum_session.php?' + Math.ceil(Math.random() * 1000);
      return $(this.img).attr("src", url);
    };

    Logins.prototype.conditionStart = function() {
      var models;
      models = ["web", "news", "leaveword", "custom", "good", "order", "werehouse", "progress", "drying", "employee"];
      return $.when(this.employee, this.department, this.post).done((function(_this) {
        return function() {
          var department_ids, i, ids, index, item, j, k, l, len, len1, len2, len3, len4, m, name, o, order_stateids, params, postids, ref, ref1, ref2, ref3, ref4, ref5;
          department_ids = [];
          order_stateids = [];
          postids = '';
          for (index = j = 0, len = models.length; j < len; index = ++j) {
            name = models[index];
            if (Catalog.getRight(name) > 0) {
              switch (index) {
                case 0:
                  Qiye.fetch();
                  department_ids = (ref = $.fn.postToDepartment('0607')) != null ? ref.unique() : void 0;
                  break;
                case 1:
                  News.fetch();
                  break;
                case 2:
                  News.fetch();
                  break;
                case 3:
                  Custom.fetch();
                  break;
                case 4:
                  Good.fetch();
                  break;
                case 5:
                  ref1 = [1, 2, 3, 9, 10, 11, 12, 13, 14];
                  for (k = 0, len1 = ref1.length; k < len1; k++) {
                    i = ref1[k];
                    order_stateids.push(i);
                  }
                  Orderstate.fetch();
                  break;
                case 6:
                  Werehouse.fetch();
                  Materialtype.fetch();
                  break;
                case 7:
                  ref2 = [4, 5, 6, 7, 8];
                  for (l = 0, len2 = ref2.length; l < len2; l++) {
                    i = ref2[l];
                    order_stateids.push(i);
                  }
                  break;
                case 8:
                  Drymain.fetch();
                  break;
                case 9:
                  postids = _this.loginEmployee.postids;
                  if ((ref3 = parseInt(_this.loginEmployee.departmentid)) === 1 || ref3 === 2 || ref3 === 3 || ref3 === 7) {
                    postids = '';
                    ref4 = Post.all();
                    for (m = 0, len3 = ref4.length; m < len3; m++) {
                      item = ref4[m];
                      postids += (item.id < 10 ? '0' : void 0) + item.id;
                    }
                  }
                  ids = (ref5 = $.fn.postToDepartment(postids)) != null ? ref5.unique() : void 0;
                  Spine.trigger('departmentid.allow', ids);
                  for (o = 0, len4 = ids.length; o < len4; o++) {
                    item = ids[o];
                    department_ids.push(item);
                  }
              }
            }
          }
          if (department_ids.length) {
            department_ids = department_ids.unique();
          }
          if (department_ids.length) {
            Department.append(department_ids);
            params = [
              {
                field: 'departmentid',
                value: department_ids,
                operator: 'in'
              }
            ];
            Employee.append(params);
          }
          if (order_stateids.length) {
            return Order.append([
              {
                field: 'stateid',
                value: order_stateids,
                operator: 'in'
              }
            ]);
          }
        };
      })(this));
    };

    Logins.prototype._setDepartmentId = function(id) {
      var user;
      user = User.first();
      if (user.departmentid == null) {
        user.departmentid = id;
      }
      return user.save();
    };

    Logins.prototype.edit = function() {
      return this.navigate('/sysadmins', this.item.id, 'edit');
    };

    return Logins;

  })(Spine.Controller);

  Qiyes = (function(superClass) {
    extend(Qiyes, superClass);

    Qiyes.prototype.className = 'qiyes';

    Qiyes.prototype.events = {
      'click .edit': 'edit',
      'change input[type=text]': 'recordchanged',
      'change select': 'recordchanged',
      'click form input[type=submit]': 'submit'
    };

    function Qiyes() {
      this.change = bind(this.change, this);
      Qiyes.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.qiye = $.Deferred();
      this.person = $.Deferred();
      this.employee = $.Deferred();
      Qiye.bind("refresh change", (function(_this) {
        return function() {
          return _this.qiye.resolve();
        };
      })(this));
      Person.bind("refresh change", (function(_this) {
        return function() {
          return _this.person.resolve();
        };
      })(this));
      Employee.bind("refresh change", (function(_this) {
        return function() {
          return _this.employee.resolve();
        };
      })(this));
      Qiye.bind("beforeUpdate beforeDestroy", function() {
        if (Qiye.url.indexOf("woo/index.php") === -1) {
          Qiye.url = "woo/index.php" + Qiye.url;
        }
        if (!Qiye.url.match(/token/)) {
          return Qiye.url += "&token=" + sessionStorage.token;
        }
      });
      Person.bind("ajaxError", function(record, xhr, settings, error) {
        return console.log(xhr.responseText);
      });
    }

    Qiyes.prototype.render = function() {
      var state, temp;
      state = Catalog.getRight('web');
      if (state & 3 === 0) {
        return;
      }
      temp = state & 1 === 1 ? "" : "fm";
      this.html(require("views/" + temp + "qiye")(this.item));
      return $("body >header h2").text("站点管理->站点信息");
    };

    Qiyes.prototype.change = function(params) {
      var err, error1;
      try {
        return $.when(this.qiye, this.person, this.employee).done((function(_this) {
          return function() {
            _this.item = {
              qiyes: Qiye.first(),
              employees: Employee.select(function(item) {
                var ref;
                return (ref = parseInt(item.departmentid)) === 5 || ref === 6;
              })
            };
            return _this.render();
          };
        })(this));
      } catch (error1) {
        err = error1;
        return this.log("file: sysadmin.main.coffee\nclass: Qiyes\nerror: " + err.message);
      }
    };

    Qiyes.prototype.edit = function() {
      return this.navigate('/sysadmins', this.item.id, 'edit');
    };

    Qiyes.prototype.recordchanged = function(e) {
      var key, value;
      e.preventDefault();
      key = $(e.target).attr('name');
      value = $(e.target).val();
      return this.item.qiyes[key] = value;
    };

    Qiyes.prototype.submit = function(e) {
      var oldUrl;
      e.preventDefault();
      oldUrl = Qiye.url;
      if (!Qiye.url.match(/token/)) {
        Qiye.url += "&token=" + $.fn.cookie("PHPSESSID");
      }
      this.item.qiyes.save();
      return Qiye.url = oldUrl;
    };

    return Qiyes;

  })(Spine.Controller);

  Main = (function(superClass) {
    extend(Main, superClass);

    function Main() {
      return Main.__super__.constructor.apply(this, arguments);
    }

    Main.prototype.className = 'main stack';

    Main.prototype.controllers = {
      myyunrui: MyYunRuis,
      qiye: Qiyes,
      employee: Employees,
      custom: Customs,
      good: Goods,
      order: Orders,
      werehouse: Werehouses,
      progress: Progress,
      drying: Dryings,
      login: Logins,
      "export": Exports
    };

    return Main;

  })(Spine.Stack);

  module.exports = Main;

}).call(this);
 },"controllers/sysadmin.order.bill": function(exports, require, module) { (function() {
  var $, Bill, Billcontent, Billfree, Bills, Billsale, Order, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Order = require('models/order');

  Bill = require('models/bill');

  Billfree = require('models/billfree');

  Billsale = require('models/billsale');

  Billcontent = require('models/billcontent');

  $ = Spine.$;

  Bills = (function(superClass) {
    extend(Bills, superClass);

    Bills.prototype.className = 'bills';

    function Bills() {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      Bills.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.order = $.Deferred();
      this.bill = $.Deferred();
      this.billfree = $.Deferred();
      this.billsale = $.Deferred();
      this.billcontent = $.Deferred();
      Order.bind("refresh", (function(_this) {
        return function() {
          return _this.order.resolve();
        };
      })(this));
      Bill.bind("refresh", (function(_this) {
        return function() {
          return _this.bill.resolve();
        };
      })(this));
      Billfree.bind('refresh change', (function(_this) {
        return function() {
          return _this.billfree.resolve();
        };
      })(this));
      Billsale.bind('refresh change', (function(_this) {
        return function() {
          return _this.billsale.resolve();
        };
      })(this));
      Billcontent.bind('refresh change', (function(_this) {
        return function() {
          return _this.billcontent.resolve();
        };
      })(this));
    }

    Bills.prototype.render = function() {
      return this.html(require('views/orderbill')(this.item));
    };

    Bills.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.order, this.bill, this.billfree, this.billsale, this.billcontent).done((function(_this) {
          return function() {
            var bill, curbill, order;
            if (Order.exists(params.id)) {
              order = Order.find(params.id);
              bill = Bill.find(order.billtypeid);
              curbill = bill.id === 1 ? Billfree : Billsale;
              _this.item = {
                types: bill,
                contents: Billcontent.find(order.billcontentid),
                bills: curbill.find(order.billid)
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.order.bill.coffee\nclass: Bills\nerror: " + err.message);
      }
    };

    return Bills;

  })(Spine.Controller);

  module.exports = Bills;

}).call(this);
 },"controllers/sysadmin.order": function(exports, require, module) { (function() {
  var $, Bill, Billcontent, Billfree, Billsale, Consignee, Manager, Option, Order, OrderPerson, Orders, Orderstate, Payment, Province, Spine, Transport, Tree,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  Spine = require('spine');

  Manager = require('spine/lib/manager');

  $ = Spine.$;

  Orderstate = require('models/orderstate');

  OrderPerson = require('models/orderperson');

  Order = require('models/order');

  Province = require('models/province');

  Consignee = require('models/consignee');

  Bill = require('models/bill');

  Billcontent = require('models/billcontent');

  Billfree = require('models/billfree');

  Billsale = require('models/billsale');

  Payment = require('models/payment');

  Transport = require('models/transport');

  Option = require('controllers/sysadmin.order.option');

  Tree = require('controllers/sysadmin.order.tree');

  Orders = (function(superClass) {
    extend(Orders, superClass);

    Orders.prototype.className = 'option_outs';

    function Orders() {
      var divide;
      Orders.__super__.constructor.apply(this, arguments);
      this.tree = new Tree;
      this.option = new Option;
      Order.bind("refresh", (function(_this) {
        return function() {
          if (Order.count() > 0) {
            Consignee.fetch(_this.buildParams("consigneeid", Consignee.attributes));
            OrderPerson.fetch(_this.buildParams("userid", OrderPerson.attributes));
            if (Province.count() === 0) {
              Province.fetch();
            }
            Bill.fetch();
            Billcontent.fetch();
            Billfree.fetch();
            Billsale.fetch();
            Payment.fetch();
            return Transport.fetch();
          }
        };
      })(this));
      this.routes({
        '/orderstate/new': function(params) {
          this.active(params);
          return this.option.stateadd.active(params);
        },
        '/orderstate/:id/show': function(params) {
          this.active(params);
          if (params.id === '1') {
            this.tree.active(params);
          }
          return this.option.stateshow.active(params);
        },
        '/orderstate/:id/edit': function(params) {
          this.active(params);
          return this.option.stateedit.active(params);
        },
        '/orderstate/:id/delete': function(params) {
          this.active(params);
          return this.option.statedelete.active(params);
        },
        '/orders/new': function(params) {
          this.active(params);
          return this.option.orderadd.active(params);
        },
        '/orders/:id/show': function(params) {
          this.active(params);
          return this.option.orderedit.active(params);
        },
        '/orders/:id/edit': function(params) {
          this.active(params);
          return this.option.orderedit.active(params);
        },
        '/orders/:id/delete': function(params) {
          this.active(params);
          return this.option.orderdelete.active(params);
        }
      });
      divide = $('<div />').addClass('vdivide');
      this.append(this.tree, divide, this.option);
      this.navigate('/orderstate', 1, 'show');
    }

    Orders.prototype.buildParams = function(keyid, fields) {
      var condition, i, ids, j, len, order, params, ref, ref1;
      ids = [];
      i = 0;
      ref = Order.all();
      for (j = 0, len = ref.length; j < len; j++) {
        order = ref[j];
        if (ref1 = order[keyid], indexOf.call(ids, ref1) < 0) {
          ids[i++] = order[keyid];
        }
      }
      condition = [
        {
          field: "id",
          value: ids,
          operator: "in"
        }
      ];
      return params = {
        data: {
          cond: condition,
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      };
    };

    return Orders;

  })(Spine.Controller);

  module.exports = Orders;

}).call(this);
 },"controllers/sysadmin.order.consignee": function(exports, require, module) { (function() {
  var $, City, Consignee, Order, Province, Receivers, Spine, Zone,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Order = require('models/order');

  Consignee = require('models/consignee');

  Province = require('models/province');

  City = require('models/city');

  Zone = require('models/zone');

  $ = Spine.$;

  Receivers = (function(superClass) {
    extend(Receivers, superClass);

    Receivers.prototype.className = 'receivers';

    Receivers.prototype.elements = {
      'dl dt span': 'editEl'
    };

    function Receivers() {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      Receivers.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.order = $.Deferred();
      Order.bind("refresh", (function(_this) {
        return function() {
          return _this.order.resolve();
        };
      })(this));
      this.city = $.Deferred();
      City.bind("refresh change", (function(_this) {
        return function() {
          return _this.city.resolve();
        };
      })(this));
      this.zone = $.Deferred();
      Zone.bind("refresh change", (function(_this) {
        return function() {
          return _this.zone.resolve();
        };
      })(this));
      Consignee.bind('refresh change', this.address);
      Province.bind('refresh change', this.address);
    }

    Receivers.prototype.render = function() {
      return this.html(require('views/orderconsignee')({
        receipt: {
          '收货人': this.item.consignees.name,
          '地址': this.item.addresses,
          '固定电话': this.item.consignees.tel,
          '手机号码': this.item.consignees.mobile,
          '电子邮件': this.item.consignees.email
        }
      }));
    };

    Receivers.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.order).done((function(_this) {
          return function() {
            var address, cName, consignee, order, pName, zName;
            if (Order.exists(params.id)) {
              order = Order.find(params.id);
              consignee = Consignee.find(order.consigneeid);
              pName = Province.find(consignee.province).name;
              cName = Province.getCityName("" + consignee.province + consignee.city);
              zName = Province.getZoneName("" + consignee.province + consignee.city + consignee.zone);
              address = pName + cName + zName + consignee.address;
              _this.item = {
                consignees: consignee,
                addresses: address
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.order.consignee.coffee\nclass: Receivers\nerror: " + err.message);
      }
    };

    Receivers.prototype.address = function() {
      var item;
      if (Consignee.count() && Province.count()) {
        item = Consignee.first();
        Province.getCity(item.province);
        return Province.getCity("" + item.province + item.city);
      }
    };

    return Receivers;

  })(Spine.Controller);

  module.exports = Receivers;

}).call(this);
 },"controllers/sysadmin.order.current": function(exports, require, module) { (function() {
  var $, CurrentState, Order, Orderstate, Spine, manageOrder, orderAdvance, orderCheck, orderPayment, orderPrint, orderQA, orderReceive, orderReturned, orderShip,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Spine = require('spine');

  Orderstate = require('models/orderstate');

  Order = require('models/order');

  $ = Spine.$;

  manageOrder = (function(superClass) {
    extend(manageOrder, superClass);

    function manageOrder(params) {
      manageOrder.__super__.constructor.call(this, params);
      this.token = $.fn.cookie('PHPSESSID');
      this.params = params;
      Order.bind("beforeUpdate", (function(_this) {
        return function() {
          if (Order.url.indexOf("woo/") === -1) {
            Order.url = "woo/" + Order.url;
          }
          if (!Order.url.match(/token/)) {
            return Order.url += "&token=" + _this.token;
          }
        };
      })(this));
    }

    manageOrder.prototype.eco = function() {
      return 'show';
    };

    manageOrder.prototype._cancelOrder = function() {
      if (confirm('确实要取消当前订单吗?')) {
        return this.params.order.stateid = 14;
      }
    };

    return manageOrder;

  })(Spine.Controller);

  orderCheck = (function(superClass) {
    extend(orderCheck, superClass);

    orderCheck.prototype.elements = {
      "button": "buttons",
      "input[type=checkbox]": "constractEl"
    };

    orderCheck.prototype.events = {
      'click button': 'pass'
    };

    function orderCheck(params) {
      this.pass = bind(this.pass, this);
      orderCheck.__super__.constructor.call(this, params);
    }

    orderCheck.prototype.eco = function() {
      return 'check';
    };

    orderCheck.prototype.pass = function(e) {
      var err, error, i, oldUrl;
      e.stopPropagation();
      oldUrl = Order.url;
      try {
        if (this.params.order.downpayment + this.params.order.guarantee > 100) {
          threw("预付歀与质保金之和大于 100！");
        }
        i = $('button', this.el).index(e.target);
        if (i === 0) {
          if (!confirm('确认当前订单吗?')) {
            return false;
          }
          if ($(this.constractEl).is(":checked")) {
            this.params.order.stateid = 2;
          } else {
            if (this.params.order.downpayment === 0) {
              if (this.params.order.shipdate === 0) {
                if (this.params.order.guarantee !== 100) {
                  this.params.order.stateid = 9;
                } else {
                  this.params.order.stateid = 10;
                }
              } else {
                this.params.order.stateid = 4;
              }
            } else {
              this.params.order.stateid = 3;
            }
          }
        } else {
          this._cancelOrder();
          if (this.params.order.stateid !== 14) {
            return false;
          }
        }
        this.params.order.save();
        return this.navigate('/orders', this.params.order.id, 'show');
      } catch (error) {
        err = error;
        return $.fn.alert(err.message);
      } finally {
        Order.url = oldUrl;
      }
    };

    return orderCheck;

  })(manageOrder);

  orderPrint = (function(superClass) {
    extend(orderPrint, superClass);

    orderPrint.prototype.elements = {
      "button": "buttons"
    };

    orderPrint.prototype.events = {
      'click button': 'printed'
    };

    function orderPrint(params) {
      this.printed = bind(this.printed, this);
      orderPrint.__super__.constructor.call(this, params);
    }

    orderPrint.prototype.eco = function() {
      return 'print';
    };

    orderPrint.prototype.printed = function(e) {
      var err, error, i, oldUrl;
      e.preventDefault();
      e.stopPropagation();
      oldUrl = Order.url;
      try {
        i = $('button', this.el).index(e.target);
        if (i === 0) {
          if (!confirm('确认当前合同吗?')) {
            return false;
          }
          if (this.params.order.downpayment === 0) {
            if (this.params.order.shipdate === 0) {
              if (this.params.order.guarantee !== 100) {
                this.params.order.stateid = 9;
              } else {
                this.params.order.stateid = 10;
              }
            } else {
              this.params.order.stateid = 4;
            }
          } else {
            this.params.order.stateid = 3;
          }
        } else if (i === 1) {
          window.open("?cmd=Contract&orderid=" + this.params.order.id + "&token=" + this.token);
          return;
        } else {
          this._cancelOrder();
          if (this.params.order.stateid !== 14) {
            return false;
          }
        }
        this.params.order.save();
        return this.navigate('/orders', this.params.order.id, 'show');
      } catch (error) {
        err = error;
        return this.log(err);
      } finally {
        Order.url = oldUrl;
      }
    };

    return orderPrint;

  })(manageOrder);

  orderReturned = (function(superClass) {
    extend(orderReturned, superClass);

    function orderReturned(params) {
      orderReturned.__super__.constructor.call(this, params);
    }

    orderReturned.prototype.eco = function() {
      return 'returned';
    };

    return orderReturned;

  })(manageOrder);

  orderAdvance = (function(superClass) {
    extend(orderAdvance, superClass);

    orderAdvance.prototype.elements = {
      "button": "buttons"
    };

    orderAdvance.prototype.events = {
      'click button': 'prepaid'
    };

    function orderAdvance(params) {
      this.prepaid = bind(this.prepaid, this);
      orderAdvance.__super__.constructor.call(this, params);
    }

    orderAdvance.prototype.eco = function() {
      return 'advance';
    };

    orderAdvance.prototype.prepaid = function(e) {
      var err, error, i, oldUrl;
      e.stopPropagation();
      oldUrl = Order.url;
      try {
        i = $('button', this.el).index(e.target);
        if (i === 0) {
          if (!confirm('确认已收到预付款了吗?')) {
            return false;
          }
          this.params.order.stateid = 4;
        } else if (i === 1) {
          window.open("?cmd=Contract&orderid=" + this.params.order.id + "&token=" + this.token);
          return;
        } else {
          this._cancelOrder();
          if (this.params.order.stateid !== 14) {
            return false;
          }
        }
        this.params.order.save();
        return this.navigate('/orders', this.params.order.id, 'show');
      } catch (error) {
        err = error;
        return this.log(err);
      } finally {
        Order.url = oldUrl;
      }
    };

    return orderAdvance;

  })(manageOrder);

  orderPayment = (function(superClass) {
    extend(orderPayment, superClass);

    orderPayment.prototype.elements = {
      "button": "buttons"
    };

    orderPayment.prototype.events = {
      'click button': 'payment'
    };

    function orderPayment(params) {
      this.payment = bind(this.payment, this);
      orderPayment.__super__.constructor.call(this, params);
    }

    orderPayment.prototype.eco = function() {
      return 'payment';
    };

    orderPayment.prototype.payment = function(e) {
      var err, error, i, oldUrl;
      e.stopPropagation();
      oldUrl = Order.url;
      try {
        i = $('button', this.el).index(e.target);
        if (i === 0) {
          if (!confirm('确认已收到货款了吗?')) {
            return false;
          }
          this.params.order.stateid = 10;
        } else if (i === 1) {
          window.open("?cmd=Contract&orderid=" + this.params.order.id + "&token=" + this.token);
          return;
        } else {
          this._cancelOrder();
          if (this.params.order.stateid !== 14) {
            return false;
          }
        }
        this.params.order.save();
        return this.navigate('/orders', this.params.order.id, 'show');
      } catch (error) {
        err = error;
        return this.log(err);
      } finally {
        Order.url = oldUrl;
      }
    };

    return orderPayment;

  })(manageOrder);

  orderShip = (function(superClass) {
    extend(orderShip, superClass);

    orderShip.prototype.elements = {
      "button": "buttons"
    };

    orderShip.prototype.events = {
      'click button': 'ship'
    };

    function orderShip(params) {
      this.ship = bind(this.ship, this);
      orderShip.__super__.constructor.call(this, params);
    }

    orderShip.prototype.eco = function() {
      return 'ship';
    };

    orderShip.prototype.ship = function(e) {
      var err, error, i, oldUrl;
      e.stopPropagation();
      oldUrl = Order.url;
      try {
        i = $('button', this.el).index(e.target);
        if (i === 0) {
          if (!confirm('确认要发货吗?')) {
            return false;
          }
          this.params.order.stateid = 11;
          this.params.order.save();
          return this.navigate('/orders', this.params.order.id, 'show');
        } else if (i === 1) {
          return window.open("?cmd=Contract&orderid=" + this.params.order.id + "&token=" + this.token);
        } else if (i === 2) {
          return window.open("?cmd=Invoice&orderid=" + this.params.order.id + "&token=" + this.token);
        }
      } catch (error) {
        err = error;
        return this.log(err);
      } finally {
        Order.url = oldUrl;
      }
    };

    return orderShip;

  })(manageOrder);

  orderReceive = (function(superClass) {
    extend(orderReceive, superClass);

    orderReceive.prototype.elements = {
      "button": "buttons"
    };

    orderReceive.prototype.events = {
      'click button': 'receive'
    };

    function orderReceive(params) {
      this.receive = bind(this.receive, this);
      orderReceive.__super__.constructor.call(this, params);
    }

    orderReceive.prototype.eco = function() {
      return 'receive';
    };

    orderReceive.prototype.receive = function(e) {
      var err, error, i, oldUrl;
      e.stopPropagation();
      oldUrl = Order.url;
      try {
        i = $('button', this.el).index(e.target);
        if (i === 0) {
          if (!confirm('确认客户已收货了吗?')) {
            return false;
          }
          this.params.order.stateid = this.params.order.guarantee > 0 ? 12 : 13;
          this.params.order.save();
          return this.navigate('/orders', this.params.order.id, 'show');
        } else if (i === 1) {
          return window.open("?cmd=Contract&orderid=" + this.params.order.id + "&token=" + this.token);
        }
      } catch (error) {
        err = error;
        return this.log(err);
      } finally {
        Order.url = oldUrl;
      }
    };

    return orderReceive;

  })(manageOrder);

  orderQA = (function(superClass) {
    extend(orderQA, superClass);

    orderQA.prototype.elements = {
      "button": "buttons"
    };

    orderQA.prototype.events = {
      'click button': 'qa'
    };

    function orderQA(params) {
      this.qa = bind(this.qa, this);
      orderQA.__super__.constructor.call(this, params);
    }

    orderQA.prototype.eco = function() {
      return 'qa';
    };

    orderQA.prototype.qa = function(e) {
      var err, error, i, oldUrl;
      e.stopPropagation();
      oldUrl = Order.url;
      try {
        i = $('button', this.el).index(e.target);
        if (i === 0) {
          if (!confirm('确认客户已支付质保金了吗?')) {
            return false;
          }
          this.params.order.stateid = 13;
          this.params.order.save();
          return this.navigate('/orders', this.params.order.id, 'show');
        } else if (i === 1) {
          return window.open("?cmd=Contract&orderid=" + this.params.order.id + "&token=" + this.token);
        }
      } catch (error) {
        err = error;
        return this.log(err);
      } finally {
        Order.url = oldUrl;
      }
    };

    return orderQA;

  })(manageOrder);

  CurrentState = (function(superClass) {
    extend(CurrentState, superClass);

    CurrentState.prototype.className = 'currentstate';

    function CurrentState() {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      CurrentState.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.order = $.Deferred();
      this.orderstate = $.Deferred();
      Order.bind("refresh", (function(_this) {
        return function() {
          return _this.order.resolve();
        };
      })(this));
      Orderstate.bind("refresh", (function(_this) {
        return function() {
          return _this.orderstate.resolve();
        };
      })(this));
      Spine.bind("transportchange", (function(_this) {
        return function(carriagecharge) {
          return _this.item.order.carriagecharge = parseFloat(carriagecharge);
        };
      })(this));
      Spine.bind("paymentchange", (function(_this) {
        return function(ainput) {
          return _this.item.order[ainput.attr("name")] = parseInt(ainput.val());
        };
      })(this));
    }

    CurrentState.prototype.render = function() {
      return this.html(require("views/stateorder" + this.eco)(this.item));
    };

    CurrentState.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.order, this.orderstate).done((function(_this) {
          return function() {
            var mode, order, state;
            if (Order.exists(params.id)) {
              order = Order.find(params.id);
              _this.item = {
                order: order,
                state: Orderstate.find(order.stateid)
              };
              mode = params.match[0].substr(-4);
              if (mode === 'edit') {
                state = (function() {
                  switch (parseInt(order.stateid)) {
                    case 1:
                      return new orderCheck({
                        el: this.el,
                        order: order
                      });
                    case 2:
                      return new orderPrint({
                        el: this.el,
                        order: order
                      });
                    case 3:
                      return new orderAdvance({
                        el: this.el,
                        order: order
                      });
                    case 4:
                    case 5:
                    case 6:
                    case 7:
                    case 8:
                      return new orderReturned({
                        el: this.el,
                        order: order
                      });
                    case 9:
                      return new orderPayment({
                        el: this.el,
                        order: order
                      });
                    case 10:
                      return new orderShip({
                        el: this.el,
                        order: order
                      });
                    case 11:
                      return new orderReceive({
                        el: this.el,
                        order: order
                      });
                    case 12:
                      return new orderQA({
                        el: this.el,
                        order: order
                      });
                  }
                }).call(_this);
              } else {
                state = new manageOrder({
                  el: _this.el,
                  order: order
                });
              }
              _this.eco = state.eco();
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.order.current.coffee\nclass: CurrentState\nerror: " + err.message);
      }
    };

    return CurrentState;

  })(Spine.Controller);

  module.exports = CurrentState;

}).call(this);
 },"controllers/sysadmin.order.option.add": function(exports, require, module) { (function() {
  var $, Order, OrderAdds, Orderstate, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Orderstate = require('models/orderstate');

  Order = require('models/order');

  $ = Spine.$;

  OrderAdds = (function(superClass) {
    extend(OrderAdds, superClass);

    OrderAdds.prototype.className = 'orderadds';

    OrderAdds.prototype.elements = {
      "button": "buttonEl",
      'form': 'formEl',
      'tr td input[type=checkbox]': 'selectedEl',
      'form div:first-child p:nth-child(2) select': "addressEl",
      'input[name=code]': 'verifyEl'
    };

    OrderAdds.prototype.events = {
      'click .validate': 'verifyCode',
      'click input[type=submit]': 'option'
    };

    function OrderAdds() {
      this.change = bind(this.change, this);
      OrderAdds.__super__.constructor.apply(this, arguments);
      this.token = $.fn.cookie('PHPSESSID');
      this.active(this.change);
    }

    OrderAdds.prototype.render = function() {
      return this.html(require("views/fmorder")(this.item));
    };

    OrderAdds.prototype.change = function(params) {
      var err, error;
      try {
        this.item = {
          order: new Order,
          orderstates: Orderstate.all()
        };
        return this.render();
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.order.option.edit.coffee\nclass: OrderEdit\nerror: " + err.message);
      }
    };

    OrderAdds.prototype.verifyCode = function(e) {
      e.stopPropagation();
      return $(e.target).attr("src", "admin/checkNum_session.php?" + Math.ceil(Math.random() * 1000));
    };

    OrderAdds.prototype.option = function(e) {
      var item, param;
      e.preventDefault();
      item = {
        product: {}
      };
      $.fn.makeRequestParam(this.formEl, item, ['G_']);
      param = JSON.stringify(item);
      return $.ajax({
        url: "? cmd=Order",
        data: param,
        type: "POST",
        dataType: "json",
        beforeSend: function() {},
        error: function(request) {
          return $.fn.alert("表单提交出错，请稍候再试");
        },
        success: (function(_this) {
          return function(data) {
            if (data.id > -1) {
              $.fn.alert("数据保存成功！");
              _this.item.order.updateAttributes(data, {
                ajax: false
              });
              Order.trigger("create", _this.item.order);
              return _this.navigate('/orders/', data.id, 'show');
            } else {
              switch (data.error) {
                case "Access Denied":
                  return window.location.reload();
                case "Validate Code Error!":
                  $.fn.alert("验证码错误，请重新填写。");
                  $(".validate").click();
                  return $(_this.verifyEl).focus();
              }
            }
          };
        })(this)
      });
    };

    return OrderAdds;

  })(Spine.Controller);

  module.exports = OrderAdds;

}).call(this);
 },"controllers/sysadmin.order.option": function(exports, require, module) { (function() {
  var $, DeleteOrders, DeleteOrderstates, EditOrders, EditOrderstates, NewOrders, NewOrderstates, OrderOption, ShowOrderstates, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  $ = Spine.$;

  ShowOrderstates = require('controllers/sysadmin.order.option.stateshow');

  NewOrderstates = require('controllers/sysadmin.order.option.stateadd');

  EditOrderstates = require('controllers/sysadmin.order.option.stateedit');

  DeleteOrderstates = require('controllers/sysadmin.order.option.statedelete');

  NewOrders = require('controllers/sysadmin.order.option.add');

  EditOrders = require('controllers/sysadmin.order.option.edit');

  DeleteOrders = require('controllers/sysadmin.order.option.delete');

  OrderOption = (function(superClass) {
    extend(OrderOption, superClass);

    function OrderOption() {
      return OrderOption.__super__.constructor.apply(this, arguments);
    }

    OrderOption.prototype.className = 'options stack';

    OrderOption.prototype.controllers = {
      stateshow: ShowOrderstates,
      stateadd: NewOrderstates,
      stateedit: EditOrderstates,
      orderadd: NewOrders,
      orderedit: EditOrders,
      orderdelete: DeleteOrders,
      statedelete: DeleteOrderstates
    };

    return OrderOption;

  })(Spine.Stack);

  module.exports = OrderOption;

}).call(this);
 },"controllers/sysadmin.order.option.delete": function(exports, require, module) { (function() {
  var $, Order, OrderDeletes, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Order = require('models/order');

  $ = Spine.$;

  OrderDeletes = (function(superClass) {
    extend(OrderDeletes, superClass);

    OrderDeletes.prototype.className = 'option_shows';

    OrderDeletes.prototype.elements = {
      'form': 'formEl'
    };

    OrderDeletes.prototype.events = {
      'click .validate': 'verifyCode',
      'click input[type=submit]': 'option'
    };

    function OrderDeletes() {
      this.option = bind(this.option, this);
      this.change = bind(this.change, this);
      OrderDeletes.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.order = $.Deferred();
      this.url = Order.url;
      Order.bind("refresh", (function(_this) {
        return function() {
          return _this.order.resolve();
        };
      })(this));
    }

    OrderDeletes.prototype.render = function() {
      return this.html(require("views/orderdelete")(this.item));
    };

    OrderDeletes.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.order).done((function(_this) {
          return function() {
            if (Order.exists(params.id)) {
              _this.item = {
                order: Order.find(params.id)
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.order.option.delete.coffee\nclass: OrderDeletes\nerror: " + err.message);
      }
    };

    OrderDeletes.prototype.verifyCode = function(e) {
      e.stopPropagation();
      return $(e.target).attr("src", "admin/checkNum_session.php?" + Math.ceil(Math.random() * 1000));
    };

    OrderDeletes.prototype.option = function(e) {
      e.stopPropagation();
      e.preventDefault();
      $.fn.makeDeleteParam(this.formEl, Order);
      if ($.fn.confirm('确实要删除当前产品吗?')) {
        return this.item.order.destroy();
      }
    };

    return OrderDeletes;

  })(Spine.Controller);

  module.exports = OrderDeletes;

}).call(this);
 },"controllers/sysadmin.order.option.edit": function(exports, require, module) { (function() {
  var $, Bills, Currents, OrderEdits, Payments, Products, Receiver, Spine, Transports,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  $ = Spine.$;

  Currents = require('controllers/sysadmin.order.current');

  Receiver = require('controllers/sysadmin.order.consignee');

  Payments = require('controllers/sysadmin.order.payment');

  Transports = require('controllers/sysadmin.order.transport');

  Bills = require('controllers/sysadmin.order.bill');

  Products = require('controllers/sysadmin.order.product');

  OrderEdits = (function(superClass) {
    extend(OrderEdits, superClass);

    OrderEdits.prototype.className = 'orderedits';

    function OrderEdits() {
      var divide;
      OrderEdits.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.currents = new Currents;
      this.receiver = new Receiver;
      this.payments = new Payments;
      this.transports = new Transports;
      this.bills = new Bills;
      this.products = new Products;
      divide = $('<div class="infotitle">订单信息</div>');
      this.append(this.currents, divide, this.receiver, this.payments, this.transports, this.bills, this.products);
    }

    OrderEdits.prototype.change = function(params) {
      this.currents.active(params);
      this.receiver.active(params);
      this.payments.active(params);
      this.transports.active(params);
      this.bills.active(params);
      return this.products.active(params);
    };

    return OrderEdits;

  })(Spine.Controller);

  module.exports = OrderEdits;

}).call(this);
 },"controllers/sysadmin.order.option.stateadd": function(exports, require, module) { (function() {
  var $, Orderstate, OrderstateAdds, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Orderstate = require('models/orderstate');

  $ = Spine.$;

  Word = require('controllers/sysadmin.order.option.stateadd.text');

  Verify = require('controllers/main.verifycode');

  OrderstateAdds = (function(superClass) {
    extend(OrderstateAdds, superClass);

    OrderstateAdds.prototype.tag = "form";

    OrderstateAdds.prototype.className = 'orderstateadds';

    function OrderstateAdds() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      OrderstateAdds.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            orderstate: {}
          };
          $.fn.makeRequestParam(_this.el, item, ['S_']);
          param = JSON.stringify(item);
          Orderstate.scope = '';
          return $.ajax({
            url: Orderstate.url,
            data: param,
            type: "POST",
            dataType: "json",
            beforeSend: function() {},
            error: function(request) {
              return $.fn.alert("表单提交出错，请稍候再试");
            },
            success: function(data) {
              if (data.id > -1) {
                $.fn.alert("数据保存成功！");
                _this.word.getItem().orderstate.updateAttributes(data.orderstate, {
                  ajax: false
                });
                return _this.navigate('/orders/state/', _this.word.getItem().orderstate.id, 'show');
              } else {
                switch (data.error) {
                  case "Access Denied":
                    return $.fn.reload();
                  case "Validate Code Error!":
                    $.fn.alert("验证码错误，请重新填写。");
                    return Spine.trigger("updateverify");
                }
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    OrderstateAdds.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return OrderstateAdds;

  })(Spine.Controller);

  module.exports = OrderstateAdds;

}).call(this);
 },"controllers/sysadmin.order.option.stateadd.text": function(exports, require, module) { (function() {
  var $, Orderstate, OrderstateAddTexts, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Orderstate = require('models/orderstate');

  $ = Spine.$;

  OrderstateAddTexts = (function(superClass) {
    extend(OrderstateAddTexts, superClass);

    OrderstateAddTexts.prototype.className = 'textoption';

    OrderstateAddTexts.prototype.elements = {
      'tr td input[type=checkbox]': 'selectedEl',
      'form div:first-child p:nth-child(2) select': "addressEl"
    };

    function OrderstateAddTexts() {
      this.change = bind(this.change, this);
      OrderstateAddTexts.__super__.constructor.apply(this, arguments);
      this.token = $.fn.cookie('PHPSESSID');
      this.active(this.change);
      this.orderstate = $.Deferred();
      Orderstate.bind("refresh", (function(_this) {
        return function() {
          return _this.orderstate.resolve();
        };
      })(this));
    }

    OrderstateAddTexts.prototype.render = function() {
      return this.html(require("views/fmorderstate")(this.item));
    };

    OrderstateAddTexts.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.orderstate).done((function(_this) {
          return function() {
            var orderstate;
            if (Orderstate.exists(params.id)) {
              orderstate = Orderstate.find(params.id);
            } else {
              orderstate = new Orderstate;
            }
            _this.item = {
              orderstate: orderstate,
              orderstatees: Orderstate.all()
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.good.option.classedit.coffee\nclass: OrderstateEdit\nerror: " + err.message);
      }
    };

    OrderstateAddTexts.prototype.getItem = function() {
      return this.item;
    };

    return OrderstateAddTexts;

  })(Spine.Controller);

  module.exports = OrderstateAddTexts;

}).call(this);
 },"controllers/sysadmin.order.option.statedelete": function(exports, require, module) { (function() {
  var $, Orderstate, OrderstateDeletes, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Orderstate = require('models/orderstate');

  $ = Spine.$;

  Word = require('controllers/sysadmin.order.option.stateshow');

  Verify = require('controllers/main.verifycode');

  OrderstateDeletes = (function(superClass) {
    extend(OrderstateDeletes, superClass);

    OrderstateDeletes.prototype.tag = "form";

    OrderstateDeletes.prototype.className = 'option_shows';

    function OrderstateDeletes() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      OrderstateDeletes.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          e.stopPropagation();
          e.preventDefault();
          $.fn.makeDeleteParam(_this.el, Orderstate);
          Orderstate.scope = '';
          if ($.fn.confirm('确实要删除当前产品吗?')) {
            return _this.word.getItem().orderstate.destroy();
          }
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    OrderstateDeletes.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return OrderstateDeletes;

  })(Spine.Controller);

  module.exports = OrderstateDeletes;

}).call(this);
 },"controllers/sysadmin.order.option.stateedit": function(exports, require, module) { (function() {
  var $, Orderstate, OrderstateEdits, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Orderstate = require('models/orderstate');

  $ = Spine.$;

  Word = require('controllers/sysadmin.order.option.stateadd.text');

  Verify = require('controllers/main.verifycode');

  OrderstateEdits = (function(superClass) {
    extend(OrderstateEdits, superClass);

    OrderstateEdits.prototype.tag = "form";

    OrderstateEdits.prototype.className = 'orderstateedits';

    function OrderstateEdits() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      OrderstateEdits.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            orderstate: {}
          };
          _this.item = _this.word.getItem();
          $.fn.makeRequestParam(_this.el, item, ['S_'], [_this.item.orderstate]);
          param = JSON.stringify(item);
          _this.item.orderstate.scope = '';
          return $.fn.ajaxPut(_this.item.orderstate.url(), param, function(data) {
            if (data.id > -1) {
              $.fn.alert("数据保存成功！");
              return _this.item.orderstate.updateAttributes(data.orderstate, {
                ajax: false
              });
            } else {
              switch (data.error) {
                case "Access Denied":
                  return $.fn.reload();
                case "Validate Code Error!":
                  $.fn.alert("验证码错误，请重新填写。");
                  return Spine.trigger("updateverify");
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    OrderstateEdits.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return OrderstateEdits;

  })(Spine.Controller);

  module.exports = OrderstateEdits;

}).call(this);
 },"controllers/sysadmin.order.option.stateshow": function(exports, require, module) { (function() {
  var $, Orderstate, OrderstateShows, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Orderstate = require('models/orderstate');

  $ = Spine.$;

  OrderstateShows = (function(superClass) {
    extend(OrderstateShows, superClass);

    OrderstateShows.prototype.className = 'option_shows';

    function OrderstateShows() {
      this.change = bind(this.change, this);
      OrderstateShows.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.orderstate = $.Deferred();
      Orderstate.bind("refresh", (function(_this) {
        return function() {
          return _this.orderstate.resolve();
        };
      })(this));
    }

    OrderstateShows.prototype.render = function() {
      return this.html(require("views/orderstate")(this.item));
    };

    OrderstateShows.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.orderstate).done((function(_this) {
          return function() {
            if (Orderstate.exists(params.id)) {
              _this.item = {
                orderstate: Orderstate.find(params.id)
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.order.option.statehow.coffee\nclass: OrderstateShows\nerror: " + err.message);
      }
    };

    OrderstateShows.prototype.getItem = function() {
      return this.item;
    };

    return OrderstateShows;

  })(Spine.Controller);

  module.exports = OrderstateShows;

}).call(this);
 },"controllers/sysadmin.order.payment": function(exports, require, module) { (function() {
  var $, Order, Payment, Payments, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Order = require('models/order');

  Payment = require('models/payment');

  $ = Spine.$;

  Payments = (function(superClass) {
    extend(Payments, superClass);

    Payments.prototype.className = 'payments';

    Payments.prototype.events = {
      "change input": "changeEv"
    };

    function Payments() {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      Payments.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.order = $.Deferred();
      this.payment = $.Deferred();
      Order.bind("refresh", (function(_this) {
        return function() {
          return _this.order.resolve();
        };
      })(this));
      Payment.bind("refresh", (function(_this) {
        return function() {
          return _this.payment.resolve();
        };
      })(this));
    }

    Payments.prototype.render = function() {
      return this.html(require('views/orderpayment' + this.eco)(this.item));
    };

    Payments.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.order, this.payment).done((function(_this) {
          return function() {
            var order;
            if (Order.exists(params.id)) {
              order = Order.find(params.id);
              _this.item = {
                orders: order,
                pays: Payment.find(order.paymentid)
              };
              _this.eco = params.match[0].substr(-4);
              if (order.stateid !== 1) {
                _this.eco = 'show';
              }
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.order.payment.coffee\nclass: Payments\nerror: " + err.message);
      }
    };

    Payments.prototype.changeEv = function(e) {
      e.stopPropagation();
      e.preventDefault();
      return Spine.trigger("paymentchange", $(e.target));
    };

    return Payments;

  })(Spine.Controller);

  module.exports = Payments;

}).call(this);
 },"controllers/sysadmin.order.product": function(exports, require, module) { (function() {
  var $, Order, OrderProducts, Product, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Product = require('models/orderproducts');

  Order = require('models/order');

  $ = Spine.$;

  OrderProducts = (function(superClass) {
    extend(OrderProducts, superClass);

    OrderProducts.prototype.className = 'orderproducts';

    OrderProducts.prototype.elements = {
      "button": "buttons",
      "span.form_hint": "numberEl"
    };

    OrderProducts.prototype.events = {
      "change input[name=returnnow]": "returnnow",
      "change input[name=modlcharge]": "modlcharge",
      "change input[name=shipdate]": "shipdate",
      "click button": "pass",
      "click tbody tr td:nth-child(4)": "shownumbers"
    };

    function OrderProducts() {
      this.pass = bind(this.pass, this);
      this.shipdate = bind(this.shipdate, this);
      this.modlcharge = bind(this.modlcharge, this);
      this.returnnow = bind(this.returnnow, this);
      this.updateOrderproduct = bind(this.updateOrderproduct, this);
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      OrderProducts.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.product = $.Deferred();
      Order.bind("refresh", (function(_this) {
        return function() {
          return Product.fetch();
        };
      })(this));
      Product.bind("refresh", (function(_this) {
        return function() {
          return _this.product.resolve();
        };
      })(this));
      Spine.bind("transportchange", (function(_this) {
        return function(carriagecharge) {
          _this.item.orders.carriagecharge = parseFloat(carriagecharge);
          _this.render();
          return false;
        };
      })(this));
      Spine.bind("paymentchange", (function(_this) {
        return function(ainput) {
          _this.item.orders[ainput.attr("name")] = parseInt(ainput.val());
          return false;
        };
      })(this));
    }

    OrderProducts.prototype.render = function() {
      return this.html(require('views/orderproducts' + this.eco)(this.item));
    };

    OrderProducts.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.product).done((function(_this) {
          return function() {
            var order;
            if (Order.exists(params.id)) {
              order = Order.find(params.id);
              _this.item = {
                orders: order,
                products: Product
              };
              _this.eco = params.match[0].substr(-4);
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.order.product.coffee\nclass: OrderProducts\nerror: " + err.message);
      }
    };

    OrderProducts.prototype.updateOrderproduct = function(e, target) {
      var item, j, len, proid, ref, rmb;
      proid = parseInt($(e.target).parent().parent().attr("data-product"), 10);
      rmb = parseFloat($(e.target).val());
      ref = this.item.orders.products;
      for (j = 0, len = ref.length; j < len; j++) {
        item = ref[j];
        if (parseInt(item.proid, 10) === proid) {
          item[target] = rmb;
        }
      }
      return this.render();
    };

    OrderProducts.prototype.returnnow = function(e) {
      return this.updateOrderproduct(e, 'returnnow');
    };

    OrderProducts.prototype.modlcharge = function(e) {
      return this.updateOrderproduct(e, 'modlcharge');
    };

    OrderProducts.prototype.shipdate = function(e) {
      return this.item.orders.shipdate = $(e.target).val();
    };

    OrderProducts.prototype.shownumbers = function(e) {
      var dis, span;
      span = $(e.target).find("span");
      dis = span.css("display");
      $(this.numberEl).css("display", "none");
      if (dis === "none") {
        span.css("display", "block");
      }
      return false;
    };

    OrderProducts.prototype.pass = function(e) {
      var err, error, i, oldUrl;
      oldUrl = Order.url;
      try {
        Order.bind("beforeUpdate", function() {
          if (Order.url.indexOf("woo/") === -1) {
            return Order.url = "woo/" + Order.url;
          }
        });
        i = this.buttons.index(e.target);
        this.item.orders.stateid = i === 0 ? 2 : 14;
        this.item.orders.save();
        return this.navigate('/sysadmins/order');
      } catch (error) {
        err = error;
        return this.log(err);
      } finally {
        Order.url = oldUrl;
      }
    };

    return OrderProducts;

  })(Spine.Controller);

  module.exports = OrderProducts;

}).call(this);
 },"controllers/sysadmin.order.transport": function(exports, require, module) { (function() {
  var $, Order, Spine, Transport, Transports,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Order = require('models/order');

  Transport = require('models/transport');

  $ = Spine.$;

  Transports = (function(superClass) {
    extend(Transports, superClass);

    Transports.prototype.className = 'transports';

    Transports.prototype.events = {
      "change input": "carriagechargechange"
    };

    function Transports() {
      this.carriagechargechange = bind(this.carriagechargechange, this);
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      Transports.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.order = $.Deferred();
      this.transport = $.Deferred();
      Order.bind("refresh", (function(_this) {
        return function() {
          return _this.order.resolve();
        };
      })(this));
      Transport.bind("refresh", (function(_this) {
        return function() {
          return _this.transport.resolve();
        };
      })(this));
    }

    Transports.prototype.render = function() {
      return this.html(require('views/ordertransport' + this.eco)(this.item));
    };

    Transports.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.order, this.transport).done((function(_this) {
          return function() {
            var order;
            if (Order.exists(params.id)) {
              order = Order.find(params.id);
              _this.item = {
                orders: order,
                transports: Transport.find(order.transportid)
              };
              _this.eco = params.match[0].substr(-4);
              if (order.stateid !== 1) {
                _this.eco = 'show';
              }
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.order.payment.coffee\nclass: Payments\nerror: " + err.message);
      }
    };

    Transports.prototype.carriagechargechange = function(e) {
      e.stopPropagation();
      this.item.orders.carriagecharge = e.target.value;
      return Spine.trigger("transportchange", e.target.value);
    };

    return Transports;

  })(Spine.Controller);

  module.exports = Transports;

}).call(this);
 },"controllers/sysadmin.order.tree": function(exports, require, module) { (function() {
  var $, Catalog, ManagerTree, Order, OrderPerson, OrderTrees, Orderstate, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  Spine = require('spine');

  Orderstate = require('models/orderstate');

  Order = require('models/order');

  OrderPerson = require('models/orderperson');

  Catalog = require('models/catalog');

  $ = Spine.$;

  ManagerTree = require('controllers/main.tree');

  OrderTrees = (function(superClass) {
    extend(OrderTrees, superClass);

    OrderTrees.prototype.className = 'origin_trees';

    function OrderTrees() {
      this.change = bind(this.change, this);
      OrderTrees.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      Orderstate.bind("ajaxError", function(record, xhr, settings, error) {
        return console.log(xhr.responseText);
      });
      this.order = $.Deferred();
      this.orderstate = $.Deferred();
      this.person = $.Deferred();
      Order.bind("refresh", (function(_this) {
        return function() {
          return _this.order.resolve();
        };
      })(this));
      Orderstate.bind("refresh", (function(_this) {
        return function() {
          return _this.orderstate.resolve();
        };
      })(this));
      OrderPerson.bind("refresh", (function(_this) {
        return function() {
          return _this.person.resolve();
        };
      })(this));
      Order.bind("create", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.stateid, 10);
          childZNode = {
            "id": parentId * 100000 + parseInt(item.id, 10),
            "pId": parentId,
            "name": item.size()
          };
          return _this.addTreeNode(childZNode);
        };
      })(this));
      Orderstate.bind("create", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = 0;
          childZNode = {
            "id": item.id,
            "pId": item.parentid,
            "name": item.name
          };
          return _this.addTreeNode(childZNode);
        };
      })(this));
      Orderstate.bind("update", (function(_this) {
        return function(item) {
          var node;
          if (item != null) {
            node = _this.zTree.getSelectedNodes();
            node[0].name = item.name;
            _this.zTree.updateNode(node[0]);
            return _this.onTreeClick(null, _this.zTree.setting.treeId, node[0], 1);
          }
        };
      })(this));
      Order.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.stateid, 10);
          childZNode = {
            "id": parentId * 100000 + parseInt(item.id, 10),
            "pId": parentId,
            "name": item.size()
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
      Orderstate.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = 0;
          childZNode = {
            "id": item.id,
            "pId": item.parentid,
            "name": item.name
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
    }

    OrderTrees.prototype.render = function() {
      var item, ref;
      this.nodes = (function() {
        var i, len, ref, results;
        ref = this.item.orderstates;
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          item = ref[i];
          results.push({
            id: parseInt(item.id),
            pId: 0,
            name: item.name
          });
        }
        return results;
      }).call(this);
      [].splice.apply(this.nodes, [1, 0].concat(ref = (function() {
        var i, len, ref1, results;
        ref1 = Order.all();
        results = [];
        for (i = 0, len = ref1.length; i < len; i++) {
          item = ref1[i];
          results.push({
            id: parseInt(item.stateid) * 100000 + parseInt(item.id),
            pId: item.stateid,
            name: item.customName() + ' ' + item.code
          });
        }
        return results;
      })())), ref;
      this.html(require("views/origin_trees")(this.item));
      return this.selectFirstNode("orderTree");
    };

    OrderTrees.prototype.change = function(params) {
      var err, error1;
      try {
        return $.when(this.order, this.orderstate, this.person).done((function(_this) {
          return function() {
            var btns, id;
            if (params.id != null) {
              id = parseInt(params.id, 10);
              if (!/\/orderstate/.test(params.match[0])) {
                id += Order.find(params.id).stateid * 100000;
              }
            }
            btns = [];
            if (Catalog.getRight('order') & 2) {
              btns = ['新建', '编辑', '删除'];
            }
            _this.item = {
              title: '订单分类',
              name: 'order',
              buttons: btns,
              nodeid: id,
              orderstates: Orderstate.all(),
              orders: Order.all()
            };
            _this.setting = {
              data: {
                simpleData: {
                  enable: true
                }
              },
              callback: {
                beforeClick: _this.beforeTreeClick,
                onClick: _this.onTreeClick
              }
            };
            return _this.render();
          };
        })(this));
      } catch (error1) {
        err = error1;
        return this.log("file: sysadmin.order.coffee\nclass: Orders\nerror: " + err.message);
      }
    };

    OrderTrees.prototype.getNodeInfo = function(index) {
      var ref;
      if (this.node.id < 1000) {
        return [this.node.id, '/orderstate', "订单状态", false];
      } else {
        return [this.node.id - this.node.pId * 100000, '/orders', "订单", (ref = this.node.pId, indexOf.call([4, 5, 6, 7, 8], ref) >= 0)];
      }
    };

    OrderTrees.prototype.getRootTitle = function() {
      return "经营";
    };

    return OrderTrees;

  })(ManagerTree);

  module.exports = OrderTrees;

}).call(this);
 },"controllers/sysadmin.progress": function(exports, require, module) { (function() {
  var $, Manager, Option, Order, OrderPerson, Ordersstate, Orderstate, Progress, Spine, Tree,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Manager = require('spine/lib/manager');

  $ = Spine.$;

  Orderstate = require('models/orderstate');

  Ordersstate = require('models/ordersstate');

  OrderPerson = require('models/orderperson');

  Order = require('models/order');

  Option = require('controllers/sysadmin.progress.option');

  Tree = require('controllers/sysadmin.progress.tree');

  Progress = (function(superClass) {
    extend(Progress, superClass);

    Progress.prototype.className = 'option_outs';

    function Progress() {
      var divide;
      Progress.__super__.constructor.apply(this, arguments);
      this.tree = new Tree;
      this.option = new Option;
      Spine.bind("userlogined", function(user) {
        return Ordersstate.fetch();
      });
      this.routes({
        '/progress': function(params) {
          this.active(params);
          return this.tree.active(params);
        },
        '/progress/:id/show': function(params) {
          this.active(params);
          return this.option.active(params);
        },
        '/progress/:id/showtree': function(params) {
          this.active(params);
          this.tree.active(params);
          return this.option.active(params);
        },
        '/progress/:id/edit': function(params) {
          this.active(params);
          return this.option.active(params);
        }
      });
      divide = $('<div />').addClass('vdivide');
      this.append(this.tree, divide, this.option);
      this.navigate('/progress');
    }

    return Progress;

  })(Spine.Controller);

  module.exports = Progress;

}).call(this);
 },"controllers/sysadmin.progress.history": function(exports, require, module) { (function() {
  var $, Order, Ordersstate, Orderstate, ProgressHistorys, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  Spine = require('spine');

  Order = require('models/order');

  Orderstate = require('models/orderstate');

  Ordersstate = require('models/ordersstate');

  $ = Spine.$;

  ProgressHistorys = (function(superClass) {
    extend(ProgressHistorys, superClass);

    ProgressHistorys.prototype.className = 'progresshistorys';

    function ProgressHistorys() {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      ProgressHistorys.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.states = $.Deferred();
      this.status = $.Deferred();
      Orderstate.bind("refresh", (function(_this) {
        return function() {
          return _this.states.resolve();
        };
      })(this));
      Ordersstate.bind("refresh", (function(_this) {
        return function() {
          return _this.status.resolve();
        };
      })(this));
    }

    ProgressHistorys.prototype.render = function() {
      return this.html(require('views/progresshistory')(this.item));
    };

    ProgressHistorys.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.states, this.status).done((function(_this) {
          return function() {
            var order;
            if (Order.exists(params.id)) {
              order = Order.find(params.id);
              _this.item = {
                states: Orderstate.select(function(state) {
                  var ref;
                  return ref = parseInt(state.id, 10), indexOf.call([4, 5, 6, 7, 8], ref) >= 0;
                }),
                status: Ordersstate.select(function(item) {
                  var ref;
                  return parseInt(item.orderid, 10) === parseInt(order.id, 10) && (ref = parseInt(item.stateid, 10), indexOf.call([4, 5, 6, 7, 8], ref) >= 0);
                })
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.progress.history.coffee\nclass: ProgressHistorys\nerror: " + err.message);
      }
    };

    return ProgressHistorys;

  })(Spine.Controller);

  module.exports = ProgressHistorys;

}).call(this);
 },"controllers/sysadmin.progress.infomation": function(exports, require, module) { (function() {
  var $, Order, ProgressInfomation, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Order = require('models/order');

  $ = Spine.$;

  ProgressInfomation = (function(superClass) {
    extend(ProgressInfomation, superClass);

    ProgressInfomation.prototype.className = 'progresscurrent';

    function ProgressInfomation() {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      ProgressInfomation.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.order = $.Deferred();
      Order.bind("refresh", (function(_this) {
        return function() {
          return _this.order.resolve();
        };
      })(this));
    }

    ProgressInfomation.prototype.render = function() {
      return this.html(require("views/progressinfomation")(this.item));
    };

    ProgressInfomation.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.order).done((function(_this) {
          return function() {
            var order;
            if (Order.exists(params.id)) {
              order = Order.find(params.id);
              order.bind("change", function() {
                _this.item = {
                  order: order
                };
                return _this.render();
              });
              _this.item = {
                order: order
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.progress.infomation.coffee\nclass: ProgressInfomation\nerror: " + err.message);
      }
    };

    return ProgressInfomation;

  })(Spine.Controller);

  module.exports = ProgressInfomation;

}).call(this);
 },"controllers/sysadmin.progress.option": function(exports, require, module) { (function() {
  var $, Infomations, Order, Products, ProgressOPtions, Progressbars, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Order = require('models/order');

  $ = Spine.$;

  Infomations = require('controllers/sysadmin.progress.infomation');

  Progressbars = require('controllers/sysadmin.progress.history');

  Products = require('controllers/sysadmin.progress.product');

  ProgressOPtions = (function(superClass) {
    extend(ProgressOPtions, superClass);

    ProgressOPtions.prototype.className = 'options';

    function ProgressOPtions() {
      ProgressOPtions.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.infomations = new Infomations;
      this.progressbars = new Progressbars;
      this.products = new Products;
      this.append(this.infomations, this.progressbars, this.products);
    }

    ProgressOPtions.prototype.change = function(params) {
      this.infomations.active(params);
      this.progressbars.active(params);
      return this.products.active(params);
    };

    return ProgressOPtions;

  })(Spine.Controller);

  module.exports = ProgressOPtions;

}).call(this);
 },"controllers/sysadmin.progress.product": function(exports, require, module) { (function() {
  var $, MakeGoods, Order, Ordersstate, Product, ProgressProducts, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Product = require('models/orderproducts');

  Order = require('models/order');

  Ordersstate = require('models/ordersstate');

  $ = Spine.$;

  MakeGoods = require('controllers/sysadmin.progress.product.make');

  ProgressProducts = (function(superClass) {
    extend(ProgressProducts, superClass);

    ProgressProducts.prototype.className = 'progressproducts';

    function ProgressProducts() {
      this.change = bind(this.change, this);
      ProgressProducts.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.makegoods = new MakeGoods;
      this.routes({
        '/goods/show/:id/show': function(params) {
          this.active(params);
          return this.makegoods.view.active(params);
        },
        '/goods/preparing/:id/edit': function(params) {
          this.active(params);
          return this.makegoods.preparing.active(params);
        },
        '/goods/molding/:id/edit': function(params) {
          this.active(params);
          return this.makegoods.molding.active(params);
        },
        '/goods/drying/:id/edit': function(params) {
          this.active(params);
          return this.makegoods.drying.active(params);
        },
        '/goods/firing/:id/edit': function(params) {
          this.active(params);
          return this.makegoods.firing.active(params);
        },
        '/goods/packing/:id/edit': function(params) {
          this.active(params);
          return this.makegoods.packing.active(params);
        }
      });
      this.append(this.makegoods);
    }

    ProgressProducts.prototype.change = function(params) {
      var err, error, mode, order, process;
      try {
        mode = params.match[0].substr(-4);
        if (mode === 'edit') {
          order = Order.find(params.id);
          process = ["preparing", "molding", "drying", "firing", "packing"][order.stateid - 4];
          return this.navigate("/goods/" + process, params.id, 'edit');
        } else {
          return this.navigate('/goods/show', params.id, 'show');
        }
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.progress.product.coffee\nclass: ProgressProducts\nerror: " + err.message);
      }
    };

    return ProgressProducts;

  })(Spine.Controller);

  module.exports = ProgressProducts;

}).call(this);
 },"controllers/sysadmin.progress.product.make": function(exports, require, module) { (function() {
  var $, Drying, Firing, MakeGoods, MoldProducts, Molding, Order, Ordersstate, Package, PrepareProducts, Preparing, Product, Spine, View, manageProduct,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  Spine = require('spine');

  Product = require('models/orderproducts');

  Order = require('models/order');

  Ordersstate = require('models/ordersstate');

  $ = Spine.$;

  Package = require('controllers/sysadmin.progress.product.make.packing');

  manageProduct = (function(superClass) {
    extend(manageProduct, superClass);

    function manageProduct(task) {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      manageProduct.__super__.constructor.apply(this, arguments);
      this.task = task;
      this.product = $.Deferred();
      Product.bind("refresh", (function(_this) {
        return function() {
          return _this.product.resolve();
        };
      })(this));
      Order.bind("beforeUpdate", function() {
        if (Order.url.indexOf("woo/index.php") === -1) {
          Order.url = "woo/index.php" + Order.url;
        }
        if (!Order.url.match(/token/)) {
          return Order.url += "&token=" + $.fn.cookie('PHPSESSID');
        }
      });
    }

    manageProduct.prototype._render = function() {
      var opt;
      $("body >header h2").text("生产管理->进度管理->" + this.task['title']);
      opt = {
        icons: {
          primary: "ui-icon-gear",
          secondary: "ui-icon-play"
        },
        disabled: true
      };
      return $("button", this.el).button(opt).click((function(_this) {
        return function(event) {
          var err, error, oldUrl;
          oldUrl = Order.url;
          try {
            _this.item.orders.stateid++;
            _this.item.orders.one("save", function() {
              return _this.navigate('/progress', _this.item.orders.id, 'showtree');
            });
            return _this.item.orders.save();
          } catch (error) {
            err = error;
            return _this.log(err);
          } finally {
            Order.url = oldUrl;
          }
        };
      })(this));
    };

    manageProduct.prototype.render = function() {
      console.log(this.task['name']);
      return this.html(require("views/progressproduct" + this.eco)(this.item));
    };

    manageProduct.prototype.change = function(params) {
      var err, error;
      try {
        this.params = params;
        return $.when(this.product).done((function(_this) {
          return function() {
            var ids, order, rec;
            order = Order.find(params.id);
            ids = (function() {
              var i, len, ref, results;
              ref = order.products;
              results = [];
              for (i = 0, len = ref.length; i < len; i++) {
                rec = ref[i];
                results.push(parseInt(rec.proid, 10));
              }
              return results;
            })();
            _this.item = {
              orders: order,
              products: Product.select(function(item) {
                var ref;
                return ref = parseInt(item.id, 10), indexOf.call(ids, ref) >= 0;
              })
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.progress.product.coffee\nclass: ProgressProducts\nerror: " + err.message);
      }
    };

    return manageProduct;

  })(Spine.Controller);

  View = (function(superClass) {
    extend(View, superClass);

    View.prototype.className = 'goodsstate';

    View.prototype.eco = 'show';

    function View() {
      View.__super__.constructor.call(this, {
        name: 'show',
        title: '当前进度'
      });
      this.active(this.change);
    }

    return View;

  })(manageProduct);

  PrepareProducts = (function(superClass) {
    extend(PrepareProducts, superClass);

    function PrepareProducts(task) {
      this.render = bind(this.render, this);
      PrepareProducts.__super__.constructor.call(this, task);
    }

    PrepareProducts.prototype.render = function() {
      PrepareProducts.__super__.render.apply(this, arguments);
      return this._render();
    };

    return PrepareProducts;

  })(manageProduct);

  Preparing = (function(superClass) {
    extend(Preparing, superClass);

    Preparing.prototype.className = 'goodspreparing';

    Preparing.prototype.elements = {
      "button": "buttonEl",
      "input[type=checkbox]": "conditionEl"
    };

    Preparing.prototype.events = {
      "click input[type=checkbox]": "condition"
    };

    function Preparing() {
      this.condition = bind(this.condition, this);
      Preparing.__super__.constructor.call(this, {
        name: 'prepare',
        title: '生产准备'
      });
      this.active(this.change);
    }

    Preparing.prototype.condition = function(e) {
      var check, i, item, len, ref;
      check = true;
      ref = $("input[type=checkbox]", this.el);
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        check = check && $(item).is(":checked");
      }
      return $("button", this.el).button({
        disabled: !check
      });
    };

    Preparing.prototype.eco = 'prepare';

    return Preparing;

  })(PrepareProducts);

  MoldProducts = (function(superClass) {
    extend(MoldProducts, superClass);

    MoldProducts.prototype.elements = {
      "span.form_hint": "numberEl"
    };

    MoldProducts.prototype.events = {
      "mouseover tbody tr td:nth-child(4)": "shownumbers",
      "mouseout tbody tr td:nth-child(4)": "hidenumbers",
      "click input[type=number]": "ncondition"
    };

    MoldProducts.prototype.eco = 'mold';

    function MoldProducts(task) {
      this.ncondition = bind(this.ncondition, this);
      MoldProducts.__super__.constructor.call(this, task);
      this.active(this.change);
    }

    MoldProducts.prototype.ncondition = function(e) {
      var check, conditionEl, goodamount, goodid, i, item, j, len, len1, ref, ref1;
      check = true;
      goodamount = {};
      conditionEl = $(e.target);
      goodid = parseInt($(conditionEl).parent().parent().attr("data-goodid"), 10);
      ref = this.item.orders.products;
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        goodamount["" + item.proid] = item.number;
        if (parseInt(item.proid, 10) === goodid) {
          item[this.task['name'] + "number"] = parseInt(conditionEl.val(), 10);
        }
      }
      ref1 = $("input[type=number]", this.el);
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        item = ref1[j];
        goodid = $(item).parent().parent().attr("data-goodid");
        check = check && parseInt($(item).val(), 10) >= goodamount[goodid];
      }
      return $("button", this.el).button({
        disabled: !check
      });
    };

    MoldProducts.prototype.shownumbers = function(e) {
      $(e.target).find("span").css("display", "block");
      return false;
    };

    MoldProducts.prototype.hidenumbers = function(e) {
      $(e.target).find("span").css("display", "none");
      return false;
    };

    return MoldProducts;

  })(PrepareProducts);

  Molding = (function(superClass) {
    extend(Molding, superClass);

    Molding.prototype.className = 'goodsmolding';

    function Molding() {
      Molding.__super__.constructor.call(this, {
        name: 'molding',
        title: '成型'
      });
    }

    return Molding;

  })(MoldProducts);

  Drying = (function(superClass) {
    extend(Drying, superClass);

    Drying.prototype.className = 'goodsdrying';

    function Drying() {
      Drying.__super__.constructor.call(this, {
        name: 'dry',
        title: '干燥'
      });
    }

    return Drying;

  })(MoldProducts);

  Firing = (function(superClass) {
    extend(Firing, superClass);

    Firing.prototype.className = 'goodsfiring';

    function Firing() {
      Firing.__super__.constructor.call(this, {
        name: 'firing',
        title: '烧成'
      });
    }

    return Firing;

  })(MoldProducts);

  MakeGoods = (function(superClass) {
    extend(MakeGoods, superClass);

    function MakeGoods() {
      return MakeGoods.__super__.constructor.apply(this, arguments);
    }

    MakeGoods.prototype.className = 'makegoods stack';

    MakeGoods.prototype.controllers = {
      view: View,
      preparing: Preparing,
      molding: Molding,
      drying: Drying,
      firing: Firing,
      packing: Package
    };

    return MakeGoods;

  })(Spine.Stack);

  module.exports = MakeGoods;

}).call(this);
 },"controllers/sysadmin.progress.product.make.packing": function(exports, require, module) { (function() {
  var $, GoodsPackingBox, Option, Spine, Traycarton, Tree, Werehouse,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Traycarton = require('models/orderpackingtraycarton');

  Werehouse = require('models/werehouse');

  $ = Spine.$;

  Tree = require('controllers/sysadmin.progress.product.make.packing.tree');

  Option = require('controllers/sysadmin.progress.product.make.packing.option');

  GoodsPackingBox = (function(superClass) {
    extend(GoodsPackingBox, superClass);

    GoodsPackingBox.prototype.className = 'goodspackingbox';

    function GoodsPackingBox() {
      this.change = bind(this.change, this);
      this.active(this.change);
      GoodsPackingBox.__super__.constructor.apply(this, arguments);
      this.tree = new Tree;
      this.option = new Option;
      this.token = $.fn.cookie('PHPSESSID');
      this.traycarton = $.Deferred();
      Traycarton.bind("refresh", (function(_this) {
        return function() {
          return _this.traycarton.resolve();
        };
      })(this));
      Spine.bind("userlogined", function(user) {
        Traycarton.fetch();
        return Werehouse.fetch();
      });
      this.routes({
        '/tray/:id/show': function(params) {
          this.active(params);
          if (params.id === '-1') {
            this.tree.active(params);
          }
          return this.option.trayshow.active(params);
        },
        '/tray/:id/edit': function(params) {
          this.active(params);
          this.tree.active(params);
          return this.option.trayedit.active(params);
        },
        '/carton/:id/edit': function(params) {
          this.active(params);
          return this.option.cartonedit.active(params);
        }
      });
      this.append(this.tree, this.option);
      this.navigate('/tray', -1, 'show');
    }

    GoodsPackingBox.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.traycarton).done((function(_this) {
          return function() {
            var trayid;
            trayid = -1;
            if (Traycarton.count()) {
              trayid = Traycarton.first().trayid;
            }
            return _this.navigate('/tray', trayid, 'show');
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.progress.product.make.packing.coffee\nclass: TrayAdds\nerror: " + err.message);
      }
    };

    return GoodsPackingBox;

  })(Spine.Controller);

  module.exports = GoodsPackingBox;

}).call(this);
 },"controllers/sysadmin.progress.product.make.packing.option.carton": function(exports, require, module) { (function() {
  var $, CartonAdds, CartonBases, CartonDeletes, CartonShows, Cartons, Spine, Traycarton, Werehouse,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Werehouse = require('models/werehouse');

  Traycarton = require('models/orderpackingtraycarton');

  $ = Spine.$;

  CartonBases = (function(superClass) {
    extend(CartonBases, superClass);

    function CartonBases() {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      CartonBases.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.werehouse = $.Deferred();
      this.traycarton = $.Deferred();
      Werehouse.bind("refresh", (function(_this) {
        return function() {
          return _this.werehouse.resolve();
        };
      })(this));
      Traycarton.bind("refresh", (function(_this) {
        return function() {
          return _this.traycarton.resolve();
        };
      })(this));
    }

    CartonBases.prototype.render = function(eco) {
      return this.html(require("views/" + eco)(this.item));
    };

    CartonBases.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.werehouse, this.traycarton).done((function(_this) {
          return function() {
            var carton, thecarton;
            carton = null;
            thecarton = null;
            if (parames.id !== -1) {
              carton = Traycarton.select(function(item) {
                return item.cartonid === params.id;
              });
              thecarton = Werehouse.select(function(item) {
                return item.id === params.id;
              });
            }
            _this.item = {
              cartons: carton,
              thecartons: thecarton,
              werehouses: Werehouse.select(function(item) {
                return item.name === '铁托盘';
              })
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.progress.product.make.packing.option.carton.coffee\nclass: CartonAdds\nerror: " + err.message);
      }
    };

    return CartonBases;

  })(Spine.Controller);

  CartonAdds = (function(superClass) {
    extend(CartonAdds, superClass);

    CartonAdds.prototype.className = 'cartonadds';

    function CartonAdds() {
      this.render = bind(this.render, this);
      CartonAdds.__super__.constructor.apply(this, arguments);
    }

    CartonAdds.prototype.render = function() {
      return CartonAdds.__super__.render.call(this, "fmcarton");
    };

    return CartonAdds;

  })(CartonBases);

  CartonShows = (function(superClass) {
    extend(CartonShows, superClass);

    CartonShows.prototype.className = 'cartonshows';

    function CartonShows() {
      this.render = bind(this.render, this);
      CartonShows.__super__.constructor.apply(this, arguments);
    }

    CartonShows.prototype.render = function() {
      return CartonShows.__super__.render.call(this, "carton");
    };

    return CartonShows;

  })(CartonBases);

  CartonDeletes = (function(superClass) {
    extend(CartonDeletes, superClass);

    CartonDeletes.prototype.className = 'cartondeletes';

    function CartonDeletes() {
      this.render = bind(this.render, this);
      CartonDeletes.__super__.constructor.apply(this, arguments);
    }

    CartonDeletes.prototype.render = function() {
      return CartonDeletes.__super__.render.call(this, "carton");
    };

    return CartonDeletes;

  })(CartonBases);

  Cartons = (function(superClass) {
    extend(Cartons, superClass);

    function Cartons() {
      return Cartons.__super__.constructor.apply(this, arguments);
    }

    Cartons.prototype.className = 'cartons stack';

    Cartons.prototype.controllers = {
      show: CartonShows,
      edit: CartonAdds,
      del: CartonDeletes
    };

    return Cartons;

  })(Spine.Stack);

  module.exports = Cartons;

}).call(this);
 },"controllers/sysadmin.progress.product.make.packing.option": function(exports, require, module) { (function() {
  var $, CartonAdds, CartonBases, CartonDeletes, CartonOption, CartonShows, Cartons, Spine, TrayAdds, TrayBases, TrayDeletes, TrayShows, Traycarton, Trays, Werehouse,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Werehouse = require('models/werehouse');

  Traycarton = require('models/orderpackingtraycarton');

  $ = Spine.$;

  Trays = require('controllers/sysadmin.progress.product.make.packing.option.tray');

  Cartons = require('controllers/sysadmin.progress.product.make.packing.option.carton');

  TrayBases = (function(superClass) {
    extend(TrayBases, superClass);

    function TrayBases() {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      TrayBases.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.werehouse = $.Deferred();
      this.traycarton = $.Deferred();
      Werehouse.bind("refresh", (function(_this) {
        return function() {
          return _this.werehouse.resolve();
        };
      })(this));
      Traycarton.bind("refresh", (function(_this) {
        return function() {
          return _this.traycarton.resolve();
        };
      })(this));
    }

    TrayBases.prototype.render = function(eco) {
      return this.html(require("views/" + eco + "}")(this.item));
    };

    TrayBases.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.werehouse, this.traycarton).done((function(_this) {
          return function() {
            var thetray, tray;
            tray = null;
            thetray = null;
            if (parames.id !== -1) {
              tray = Traycarton.select(function(item) {
                return item.trayid === params.id;
              });
              thetray = Werehouse.select(function(item) {
                return item.id === params.id;
              });
            }
            _this.item = {
              trays: tray,
              thetrays: thetray,
              werehouses: Werehouse.select(function(item) {
                return item.name === '铁托盘';
              })
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.progress.product.make.packing.option.addtray.coffee\nclass: TrayAdds\nerror: " + err.message);
      }
    };

    return TrayBases;

  })(Spine.Controller);

  TrayAdds = (function(superClass) {
    extend(TrayAdds, superClass);

    TrayAdds.prototype.className = 'trayadds';

    function TrayAdds() {
      this.render = bind(this.render, this);
      TrayAdds.__super__.constructor.apply(this, arguments);
    }

    TrayAdds.prototype.render = function() {
      return TrayAdds.__super__.render.call(this, "fmirontray");
    };

    return TrayAdds;

  })(TrayBases);

  TrayShows = (function(superClass) {
    extend(TrayShows, superClass);

    TrayShows.prototype.className = 'trayshows';

    function TrayShows() {
      this.render = bind(this.render, this);
      TrayShows.__super__.constructor.apply(this, arguments);
    }

    TrayShows.prototype.render = function() {
      return TrayShows.__super__.render.call(this, "irontray");
    };

    return TrayShows;

  })(TrayBases);

  TrayDeletes = (function(superClass) {
    extend(TrayDeletes, superClass);

    TrayDeletes.prototype.className = 'traydeletes';

    function TrayDeletes() {
      this.render = bind(this.render, this);
      TrayDeletes.__super__.constructor.apply(this, arguments);
    }

    TrayDeletes.prototype.render = function() {
      return TrayDeletes.__super__.render.call(this, "irontray");
    };

    return TrayDeletes;

  })(TrayBases);

  CartonBases = (function(superClass) {
    extend(CartonBases, superClass);

    function CartonBases() {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      CartonBases.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.werehouse = $.Deferred();
      this.traycarton = $.Deferred();
      Werehouse.bind("refresh", (function(_this) {
        return function() {
          return _this.werehouse.resolve();
        };
      })(this));
      Traycarton.bind("refresh", (function(_this) {
        return function() {
          return _this.traycarton.resolve();
        };
      })(this));
    }

    CartonBases.prototype.render = function(eco) {
      return this.html(require("views/" + eco + "}")(this.item));
    };

    CartonBases.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.werehouse, this.traycarton).done((function(_this) {
          return function() {
            var carton, thecarton;
            carton = null;
            thecarton = null;
            if (parames.id !== -1) {
              carton = Traycarton.select(function(item) {
                return item.cartonid === params.id;
              });
              thecarton = Werehouse.select(function(item) {
                return item.id === params.id;
              });
            }
            _this.item = {
              cartons: carton,
              thecartons: thecarton,
              werehouses: Werehouse.select(function(item) {
                return item.name === '铁托盘';
              })
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.progress.product.make.packing.option.addcarton.coffee\nclass: CartonAdds\nerror: " + err.message);
      }
    };

    return CartonBases;

  })(Spine.Controller);

  CartonAdds = (function(superClass) {
    extend(CartonAdds, superClass);

    CartonAdds.prototype.className = 'cartonadds';

    function CartonAdds() {
      this.render = bind(this.render, this);
      CartonAdds.__super__.constructor.apply(this, arguments);
    }

    CartonAdds.prototype.render = function() {
      return CartonAdds.__super__.render.call(this, "fmcarton");
    };

    return CartonAdds;

  })(CartonBases);

  CartonShows = (function(superClass) {
    extend(CartonShows, superClass);

    CartonShows.prototype.className = 'cartonshows';

    function CartonShows() {
      this.render = bind(this.render, this);
      CartonShows.__super__.constructor.apply(this, arguments);
    }

    CartonShows.prototype.render = function() {
      return CartonShows.__super__.render.call(this, "carton");
    };

    return CartonShows;

  })(CartonBases);

  CartonDeletes = (function(superClass) {
    extend(CartonDeletes, superClass);

    CartonDeletes.prototype.className = 'cartondeletes';

    function CartonDeletes() {
      this.render = bind(this.render, this);
      CartonDeletes.__super__.constructor.apply(this, arguments);
    }

    CartonDeletes.prototype.render = function() {
      return CartonDeletes.__super__.render.call(this, "carton");
    };

    return CartonDeletes;

  })(CartonBases);

  CartonOption = (function(superClass) {
    extend(CartonOption, superClass);

    function CartonOption() {
      return CartonOption.__super__.constructor.apply(this, arguments);
    }

    CartonOption.prototype.className = 'cartonoption stack';

    CartonOption.prototype.controllers = {
      trayshow: TrayShows,
      trayedit: TrayAdds,
      traydelete: TrayDeletes,
      cartonshow: CartonShows,
      cartonedit: CartonAdds,
      cartondelete: CartonDeletes
    };

    return CartonOption;

  })(Spine.Stack);

  module.exports = CartonOption;

}).call(this);
 },"controllers/sysadmin.progress.product.make.packing.option.tray": function(exports, require, module) { (function() {
  var $, Spine, TrayAdds, TrayBases, TrayDeletes, TrayShows, Traycarton, Trays, Werehouse,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Werehouse = require('models/werehouse');

  Traycarton = require('models/orderpackingtraycarton');

  $ = Spine.$;

  TrayBases = (function(superClass) {
    extend(TrayBases, superClass);

    function TrayBases() {
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      TrayBases.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.werehouse = $.Deferred();
      this.traycarton = $.Deferred();
      Werehouse.bind("refresh", (function(_this) {
        return function() {
          return _this.werehouse.resolve();
        };
      })(this));
      Traycarton.bind("refresh", (function(_this) {
        return function() {
          return _this.traycarton.resolve();
        };
      })(this));
    }

    TrayBases.prototype.render = function(eco) {
      return this.html(require("views/" + eco + "}")(this.item));
    };

    TrayBases.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.werehouse, this.traycarton).done((function(_this) {
          return function() {
            var thetray, tray;
            tray = null;
            thetray = null;
            if (parames.id !== -1) {
              tray = Traycarton.select(function(item) {
                return item.trayid === params.id;
              });
              thetray = Werehouse.select(function(item) {
                return item.id === params.id;
              });
            }
            _this.item = {
              trays: tray,
              thetrays: thetray,
              werehouses: Werehouse.select(function(item) {
                return item.name === '铁托盘';
              })
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.progress.product.make.packing.option.addtray.coffee\nclass: TrayAdds\nerror: " + err.message);
      }
    };

    return TrayBases;

  })(Spine.Controller);

  TrayAdds = (function(superClass) {
    extend(TrayAdds, superClass);

    TrayAdds.prototype.className = 'trayadds';

    function TrayAdds() {
      this.render = bind(this.render, this);
      TrayAdds.__super__.constructor.apply(this, arguments);
    }

    TrayAdds.prototype.render = function() {
      return TrayAdds.__super__.render.call(this, "fmirontray");
    };

    return TrayAdds;

  })(TrayBases);

  TrayShows = (function(superClass) {
    extend(TrayShows, superClass);

    TrayShows.prototype.className = 'trayshows';

    function TrayShows() {
      this.render = bind(this.render, this);
      TrayShows.__super__.constructor.apply(this, arguments);
    }

    TrayShows.prototype.render = function() {
      return TrayShows.__super__.render.call(this, "irontray");
    };

    return TrayShows;

  })(TrayBases);

  TrayDeletes = (function(superClass) {
    extend(TrayDeletes, superClass);

    TrayDeletes.prototype.className = 'traydeletes';

    function TrayDeletes() {
      this.render = bind(this.render, this);
      TrayDeletes.__super__.constructor.apply(this, arguments);
    }

    TrayDeletes.prototype.render = function() {
      return TrayDeletes.__super__.render.call(this, "irontray");
    };

    return TrayDeletes;

  })(TrayBases);

  Trays = (function(superClass) {
    extend(Trays, superClass);

    function Trays() {
      return Trays.__super__.constructor.apply(this, arguments);
    }

    Trays.prototype.className = 'trays stack';

    Trays.prototype.controllers = {
      show: TrayShows,
      edit: TrayAdds,
      del: TrayDeletes
    };

    return Trays;

  })(Spine.Stack);

  module.exports = Trays;

}).call(this);
 },"controllers/sysadmin.progress.product.make.packing.tree": function(exports, require, module) { (function() {
  var $, ManagerTree, PackingTrees, Spine, Tray,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Tray = require('models/orderpackingtraycarton');

  $ = Spine.$;

  ManagerTree = require('controllers/main.tree');

  PackingTrees = (function(superClass) {
    extend(PackingTrees, superClass);

    PackingTrees.prototype.className = 'packingtrees';

    function PackingTrees() {
      this.change = bind(this.change, this);
      PackingTrees.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.tray = $.Deferred();
      Tray.bind("refresh", (function(_this) {
        return function() {
          return _this.tray.resolve();
        };
      })(this));
      Tray.bind("create", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = 0;
          childZNode = {
            "id": item.trayid,
            "pId": parentId,
            "name": item.getName()
          };
          return _this.addTreeNode(childZNode);
        };
      })(this));
      Tray.bind("update", (function(_this) {
        return function(item) {
          var node;
          if (item != null) {
            node = _this.zTree.getSelectedNodes();
            node[0].name = item.getName();
            _this.zTree.updateNode(node[0]);
            return _this.onTreeClick(null, _this.zTree.setting.treeId, node[0], 1);
          }
        };
      })(this));
      Tray.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = 0;
          childZNode = {
            "id": item.trayid,
            "pId": parentId,
            "name": item.getName()
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
    }

    PackingTrees.prototype.render = function() {
      var currentTrayId, i, idx, item, j, len, ref;
      currentTrayId = null;
      i = 0;
      ref = Tray.all();
      for (idx = j = 0, len = ref.length; j < len; idx = ++j) {
        item = ref[idx];
        this.nodes.slice(0, 2)[idx] = {
          id: (idx + 1) * 100000 + parseInt(item.cartonid),
          pId: idx + 1,
          name: "#" + item.cartonid
        };
        if (item.trayid !== currentTrayId) {
          this.nodes[i++] = {
            id: idx + 1,
            pId: 0,
            name: "#" + (idx + 1)
          };
          currentTrayId = item.trayid;
        }
      }
      this.html(require("views/origin_trees")(this.item));
      return this.selectFirstNode("traycartonTree");
    };

    PackingTrees.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.tray).done((function(_this) {
          return function() {
            var id;
            if (params.id != null) {
              id = parseInt(params.id, 10);
            }
            _this.item = {
              title: '包装',
              name: 'traycarton',
              buttons: ['加托盘', '加纸箱', '编辑', '删除'],
              nodeid: id,
              trays: Tray.all()
            };
            _this.setting = {
              data: {
                simpleData: {
                  enable: true
                }
              },
              callback: {
                beforeClick: _this.beforeTreeClick,
                onClick: _this.onTreeClick
              }
            };
            return _this.render();
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.custom.tree.coffee\nclass: Customs\nerror: " + err.message);
      }
    };

    PackingTrees.prototype.getNodeInfo = function(index) {
      if (this.node.id < 1000) {
        return [this.node.id, '/tray', "托盘"];
      } else {
        return [this.node.id - this.node.pId * 100000, '/carton', "纸箱"];
      }
    };

    PackingTrees.prototype.getRootTitle = function() {
      return "经营";
    };

    return PackingTrees;

  })(ManagerTree);

  module.exports = PackingTrees;

}).call(this);
 },"controllers/sysadmin.progress.tree": function(exports, require, module) { (function() {
  var $, Catalog, ManagerTree, Order, Orderstate, ProgressTrees, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  Spine = require('spine');

  Orderstate = require('models/orderstate');

  Order = require('models/order');

  Catalog = require('models/catalog');

  $ = Spine.$;

  ManagerTree = require('controllers/main.tree');

  ProgressTrees = (function(superClass) {
    extend(ProgressTrees, superClass);

    ProgressTrees.prototype.className = 'origin_trees';

    function ProgressTrees() {
      this.change = bind(this.change, this);
      ProgressTrees.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      Orderstate.bind("ajaxError", function(record, xhr, settings, error) {
        return console.log(xhr.responseText);
      });
      this.order = $.Deferred();
      this.orderstate = $.Deferred();
      Order.bind("refresh", (function(_this) {
        return function() {
          return _this.order.resolve();
        };
      })(this));
      Orderstate.bind("refresh", (function(_this) {
        return function() {
          return _this.orderstate.resolve();
        };
      })(this));
    }

    ProgressTrees.prototype.render = function() {
      var item, ref;
      this.nodes = (function() {
        var i, len, ref, results;
        ref = this.item.orderstates;
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          item = ref[i];
          results.push({
            id: parseInt(item.id),
            pId: 0,
            name: item.name
          });
        }
        return results;
      }).call(this);
      [].splice.apply(this.nodes, [1, 0].concat(ref = (function() {
        var i, len, ref1, results;
        ref1 = this.item.orders;
        results = [];
        for (i = 0, len = ref1.length; i < len; i++) {
          item = ref1[i];
          results.push({
            id: parseInt(item.stateid) * 100000 + parseInt(item.id),
            pId: item.stateid,
            name: item.code
          });
        }
        return results;
      }).call(this))), ref;
      this.html(require("views/origin_trees")(this.item));
      return this.selectFirstNode("progressTree", this.item.nodeid);
    };

    ProgressTrees.prototype.change = function(params) {
      var err, error1;
      try {
        return $.when(this.order, this.orderstate).done((function(_this) {
          return function() {
            var btns, id;
            if (params.id != null) {
              id = parseInt(params.id, 10);
            }
            btns = [];
            if (Catalog.getRight('progress') & 2) {
              btns = ['新建', '编辑', '删除'];
            }
            _this.item = {
              title: '订单生产进度',
              name: 'progress',
              buttons: btns,
              nodeid: id,
              orderstates: Orderstate.select(function(item) {
                var ref;
                return ref = parseInt(item.id, 10), indexOf.call([4, 5, 6, 7, 8], ref) >= 0;
              }),
              orders: Order.select(function(item) {
                var ref;
                return ref = parseInt(item.stateid, 10), indexOf.call([4, 5, 6, 7, 8], ref) >= 0;
              })
            };
            _this.setting = {
              data: {
                simpleData: {
                  enable: true
                }
              },
              callback: {
                beforeClick: _this.beforeTreeClick,
                onClick: _this.onTreeClick
              }
            };
            return _this.render();
          };
        })(this));
      } catch (error1) {
        err = error1;
        return this.log("file: sysadmin.progress.coffee\nclass: Progresss\nerror: " + err.message);
      }
    };

    ProgressTrees.prototype.getNodeInfo = function(index) {
      if (this.node.id < 1000) {
        return [this.node.id, '/progress/state', "进度状态"];
      } else {
        return [this.node.id - this.node.pId * 100000, '/progress', "进度"];
      }
    };

    ProgressTrees.prototype.getRootTitle = function() {
      return "生产";
    };

    return ProgressTrees;

  })(ManagerTree);

  module.exports = ProgressTrees;

}).call(this);
 },"controllers/sysadmin.sidebar": function(exports, require, module) { (function() {
  var $, Catalog, Sidebar, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Catalog = require('models/catalog');

  $ = Spine.$;

  Sidebar = (function(superClass) {
    extend(Sidebar, superClass);

    Sidebar.prototype.className = 'sidebar';

    Sidebar.prototype.elements = {
      '.items': 'items',
      'input': 'search'
    };

    Sidebar.prototype.events = {
      'click dl dd': 'action',
      'click a': 'action'
    };

    function Sidebar() {
      this.action = bind(this.action, this);
      this.change = bind(this.change, this);
      this.render = bind(this.render, this);
      Sidebar.__super__.constructor.apply(this, arguments);
      this.active(this.render);
      Catalog.bind("change", function() {
        return this.render;
      });
    }

    Sidebar.prototype.render = function() {
      return this.html(require('views/sidebar')(Catalog.all()));
    };

    Sidebar.prototype.change = function(item) {
      return this.render;
    };

    Sidebar.prototype.action = function(e) {
      var action;
      action = $(e.target).attr("action-data");
      if (action !== "") {
        action = "/" + action;
      }
      return this.navigate("/sysadmins" + action);
    };

    return Sidebar;

  })(Spine.Controller);

  module.exports = Sidebar;

}).call(this);
 },"controllers/sysadmin.werehouse": function(exports, require, module) { (function() {
  var $, Manager, Material, Option, Spine, Tree, Werehouse, Werehouses,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Manager = require('spine/lib/manager');

  $ = Spine.$;

  Material = require('models/materialinout');

  Werehouse = require('models/werehouse');

  Option = require('controllers/sysadmin.werehouse.option');

  Tree = require('controllers/sysadmin.werehouse.tree');

  Werehouses = (function(superClass) {
    extend(Werehouses, superClass);

    Werehouses.prototype.className = 'option_outs';

    function Werehouses() {
      var divide;
      Werehouses.__super__.constructor.apply(this, arguments);
      this.tree = new Tree;
      this.option = new Option;
      Spine.bind("userlogined", function(user) {
        Material.fetch();
        return Werehouse.fetch();
      });
      this.routes({
        '/materialtype/new': function(params) {
          this.active(params);
          return this.option.classadd.active(params);
        },
        '/materialtype/:id/show': function(params) {
          this.active(params);
          if (params.id === '1') {
            this.tree.active(params);
          }
          return this.option.classshow.active(params);
        },
        '/materialtype/:id/edit': function(params) {
          this.active(params);
          return this.option.classedit.active(params);
        },
        '/materialtype/:id/delete': function(params) {
          this.active(params);
          return this.option.classdelete.active(params);
        },
        '/werehouses/new': function(params) {
          this.active(params);
          return this.option.werehouseadd.active(params);
        },
        '/werehouses/:id/show': function(params) {
          this.active(params);
          if (params.id === '1') {
            this.tree.active(params);
          }
          return this.option.werehouseshow.active(params);
        },
        '/werehouses/:id/edit': function(params) {
          this.active(params);
          return this.option.werehouseedit.active(params);
        },
        '/werehouses/:id/delete': function(params) {
          this.active(params);
          return this.option.werehousedelete.active(params);
        }
      });
      divide = $('<div />').addClass('vdivide');
      this.append(this.tree, divide, this.option);
      this.navigate('/materialtype', 1, 'show');
    }

    return Werehouses;

  })(Spine.Controller);

  module.exports = Werehouses;

}).call(this);
 },"controllers/sysadmin.werehouse.option.add": function(exports, require, module) { (function() {
  var $, Image, Spine, Verify, Werehouse, WerehouseAdds, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Werehouse = require('models/werehouse');

  $ = Spine.$;

  Word = require('controllers/sysadmin.werehouse.option.add.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  WerehouseAdds = (function(superClass) {
    extend(WerehouseAdds, superClass);

    WerehouseAdds.prototype.tag = "form";

    WerehouseAdds.prototype.className = 'werehouseadds';

    function WerehouseAdds() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      WerehouseAdds.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('werehouseimg', 'werehouse');
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            werehouse: {}
          };
          $.fn.makeRequestParam(_this.el, item, ['W_']);
          item.werehouse['picture'] = $.fn.getImageName(_this.image.getImage().attr('src'));
          item.action = "werehouse_create";
          param = JSON.stringify(item);
          return $.ajax({
            url: "? cmd=Werehouse",
            data: param,
            type: "POST",
            dataType: "json",
            beforeSend: function() {},
            error: function(request) {
              return $.fn.alert("表单提交出错，请稍候再试");
            },
            success: function(data) {
              if (data.id > -1) {
                $.fn.alert("数据保存成功！");
                return _this.word.getItem().werehouse.updateAttributes(data.product[0], {
                  ajax: false
                });
              } else {
                switch (data.error) {
                  case "Access Denied":
                    return window.location.reload();
                  case "Validate Code Error!":
                    $.fn.alert("验证码错误，请重新填写。");
                    return Spine.trigger("updateverify");
                }
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    WerehouseAdds.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return WerehouseAdds;

  })(Spine.Controller);

  module.exports = WerehouseAdds;

}).call(this);
 },"controllers/sysadmin.werehouse.option.add.text": function(exports, require, module) { (function() {
  var $, Materialtype, Spine, Werehouse, WerehouseAddTexts,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Materialtype = require('models/materialtype');

  Werehouse = require('models/werehouse');

  $ = Spine.$;

  WerehouseAddTexts = (function(superClass) {
    extend(WerehouseAddTexts, superClass);

    WerehouseAddTexts.prototype.className = 'textoption';

    WerehouseAddTexts.prototype.elements = {
      "button": "buttonEl",
      'tr td input[type=checkbox]': 'selectedEl',
      'form div:first-child p:nth-child(2) select': "addressEl"
    };

    function WerehouseAddTexts() {
      this.change = bind(this.change, this);
      WerehouseAddTexts.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.werehouse = $.Deferred();
      Werehouse.bind("refresh", (function(_this) {
        return function() {
          return _this.werehouse.resolve();
        };
      })(this));
      this.materialtype = $.Deferred();
      Materialtype.bind("refresh", (function(_this) {
        return function() {
          return _this.materialtype.resolve();
        };
      })(this));
      Werehouse.bind("create", (function(_this) {
        return function(item) {
          return _this.item.werehouse.updateAttributes(item, {
            ajax: false
          });
        };
      })(this));
    }

    WerehouseAddTexts.prototype.render = function() {
      return this.html(require("views/fmwerehouse")(this.item));
    };

    WerehouseAddTexts.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.materialtype, this.werehouse).done((function(_this) {
          return function() {
            var werehouse;
            werehouse = null;
            if (params.id != null) {
              if (Werehouse.exists(params.id)) {
                werehouse = Werehouse.find(params.id);
              }
            } else {
              werehouse = new Werehouse;
            }
            if (werehouse != null) {
              _this.item = {
                werehouse: werehouse,
                materialtypes: Materialtype.all()
              };
              _this.render();
              return Spine.trigger("image:change", _this.item.werehouse.picture);
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.werehouse.option.add.text.coffee\nclass: WerehouseAddTexts\nerror: " + err.message);
      }
    };

    WerehouseAddTexts.prototype.getItem = function() {
      return this.item;
    };

    return WerehouseAddTexts;

  })(Spine.Controller);

  module.exports = WerehouseAddTexts;

}).call(this);
 },"controllers/sysadmin.werehouse.option.classadd": function(exports, require, module) { (function() {
  var $, Image, Materialtype, MaterialtypeAdds, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Materialtype = require('models/materialtype');

  $ = Spine.$;

  Word = require('controllers/sysadmin.werehouse.option.classadd.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  MaterialtypeAdds = (function(superClass) {
    extend(MaterialtypeAdds, superClass);

    MaterialtypeAdds.prototype.tag = "form";

    MaterialtypeAdds.prototype.className = 'materialtypeadds';

    function MaterialtypeAdds() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      MaterialtypeAdds.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('materialtypeimg', 'materialtype');
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            materialtype: {}
          };
          $.fn.makeRequestParam(_this.el, item, ['M_']);
          item.materialtype['picture'] = $.fn.getImageName(_this.image.getImage().attr('src'));
          item.action = "materialtype_create";
          param = JSON.stringify(item);
          return $.ajax({
            url: "? cmd=MaterialType",
            data: param,
            type: "POST",
            dataType: "json",
            beforeSend: function() {},
            error: function(request) {
              return alert("表单提交出错，请稍候再试");
            },
            success: function(data) {
              if (data.id > -1) {
                alert("数据保存成功！");
                return _this.word.getItem().materialtype.updateAttributes(data.materialtype[0], {
                  ajax: false
                });
              } else {
                switch (data.error) {
                  case "Access Denied":
                    return window.location.reload();
                  case "Validate Code Error!":
                    alert("验证码错误，请重新填写。");
                    return Spine.trigger("updateverify");
                }
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    MaterialtypeAdds.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return MaterialtypeAdds;

  })(Spine.Controller);

  module.exports = MaterialtypeAdds;

}).call(this);
 },"controllers/sysadmin.werehouse.option.classadd.text": function(exports, require, module) { (function() {
  var $, Departmentright, Materialtype, MaterialtypeAddTexts, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Materialtype = require('models/materialtype');

  Departmentright = require('models/departmentright');

  $ = Spine.$;

  MaterialtypeAddTexts = (function(superClass) {
    extend(MaterialtypeAddTexts, superClass);

    MaterialtypeAddTexts.prototype.className = 'textoption';

    MaterialtypeAddTexts.prototype.elements = {
      "button": "buttonEl",
      'form': 'formEl',
      'tr td input[type=checkbox]': 'selectedEl',
      'form div:first-child p:nth-child(2) select': "addressEl"
    };

    function MaterialtypeAddTexts() {
      this.change = bind(this.change, this);
      MaterialtypeAddTexts.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.materialtype = $.Deferred();
      this.departmentright = $.Deferred();
      Materialtype.bind("refresh", (function(_this) {
        return function() {
          return _this.materialtype.resolve();
        };
      })(this));
      Departmentright.bind("refresh", (function(_this) {
        return function() {
          return _this.departmentright.resolve();
        };
      })(this));
      Materialtype.bind("create", (function(_this) {
        return function(item) {
          return _this.item.materialtype.updateAttributes(item, {
            ajax: false
          });
        };
      })(this));
    }

    MaterialtypeAddTexts.prototype.render = function() {
      return this.html(require("views/fmmaterialtype")(this.item));
    };

    MaterialtypeAddTexts.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.departmentright, this.materialtype).done((function(_this) {
          return function() {
            var klass;
            klass = null;
            if (params.id != null) {
              if (Materialtype.exists(params.id)) {
                klass = Materialtype.find(params.id);
              }
            } else {
              klass = new Materialtype;
            }
            if (klass != null) {
              _this.item = {
                materialtype: klass,
                materialtypes: Materialtype.all(),
                departmentrights: Departmentright.all()
              };
              _this.render();
              return Spine.trigger("image:change", _this.item.materialtype.picture);
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.werehouse.option.classeadd.text.coffee\nclass: MaterialtypeAddTexts\nerror: " + err.message);
      }
    };

    MaterialtypeAddTexts.prototype.getItem = function() {
      return this.item;
    };

    return MaterialtypeAddTexts;

  })(Spine.Controller);

  module.exports = MaterialtypeAddTexts;

}).call(this);
 },"controllers/sysadmin.werehouse.option.classdelete": function(exports, require, module) { (function() {
  var $, Materialtype, MaterialtypeDeletes, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Materialtype = require('models/materialtype');

  $ = Spine.$;

  Word = require('controllers/sysadmin.werehouse.option.classshow');

  Verify = require('controllers/main.verifycode');

  MaterialtypeDeletes = (function(superClass) {
    extend(MaterialtypeDeletes, superClass);

    MaterialtypeDeletes.prototype.tag = "form";

    MaterialtypeDeletes.prototype.className = 'option_shows';

    function MaterialtypeDeletes() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      MaterialtypeDeletes.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item;
          e.stopPropagation();
          e.preventDefault();
          item = _this.word.getItem();
          $.fn.makeDeleteParam(_this.el, Materialtype);
          if (confirm('确实要删除当前产品吗?')) {
            return item.materialtype.destroy();
          }
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    MaterialtypeDeletes.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return MaterialtypeDeletes;

  })(Spine.Controller);

  module.exports = MaterialtypeDeletes;

}).call(this);
 },"controllers/sysadmin.werehouse.option.classedit": function(exports, require, module) { (function() {
  var $, Image, Materialtype, MaterialtypeEdits, Spine, Verify, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Materialtype = require('models/materialtype');

  $ = Spine.$;

  Word = require('controllers/sysadmin.werehouse.option.classadd.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  MaterialtypeEdits = (function(superClass) {
    extend(MaterialtypeEdits, superClass);

    MaterialtypeEdits.prototype.tag = "form";

    MaterialtypeEdits.prototype.className = 'materialtypeedits';

    function MaterialtypeEdits() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      MaterialtypeEdits.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('materialtypeimg', 'materialtype');
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param;
          e.preventDefault();
          item = {
            materialtype: {}
          };
          _this.item = _this.word.getItem();
          $.fn.makeRequestParam(_this.el, item, ['M_']);
          item.materialtype['picture'] = $.fn.getImageName(_this.image.getImage().attr('src'));
          param = JSON.stringify(item);
          return $.fn.ajaxPut(_this.item.materialtype.url(), param, function(data) {
            if (data.id > -1) {
              alert("数据保存成功！");
              _this.item.materialtype.updateAttributes(data.materialtype[0], {
                ajax: false
              });
              return Materialtype.trigger('update', data.materialtype[0]);
            } else {
              switch (data.error) {
                case "Access Denied":
                case "Not logged!":
                  return window.location.reload();
                case "Validate Code Error!":
                  alert("验证码错误，请重新填写。");
                  return Spine.trigger("updateverify");
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    MaterialtypeEdits.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return MaterialtypeEdits;

  })(Spine.Controller);

  module.exports = MaterialtypeEdits;

}).call(this);
 },"controllers/sysadmin.werehouse.option.classshow": function(exports, require, module) { (function() {
  var $, Departmentright, Materialtype, MaterialtypeShows, Spine,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Materialtype = require('models/materialtype');

  Departmentright = require('models/departmentright');

  $ = Spine.$;

  MaterialtypeShows = (function(superClass) {
    extend(MaterialtypeShows, superClass);

    MaterialtypeShows.prototype.className = 'option_shows';

    function MaterialtypeShows() {
      this.change = bind(this.change, this);
      MaterialtypeShows.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.materialtype = $.Deferred();
      this.departmentright = $.Deferred();
      Materialtype.bind("refresh", (function(_this) {
        return function() {
          return _this.materialtype.resolve();
        };
      })(this));
      Departmentright.bind("refresh", (function(_this) {
        return function() {
          return _this.departmentright.resolve();
        };
      })(this));
    }

    MaterialtypeShows.prototype.render = function() {
      return this.html(require("views/materialtype")(this.item));
    };

    MaterialtypeShows.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.departmentright, this.materialtype).done((function(_this) {
          return function() {
            if (Materialtype.exists(params.id)) {
              _this.item = {
                materialtype: Materialtype.find(params.id),
                departmentright: Departmentright
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.werehouse.option.classshow.coffee\nclass: MaterialtypeShows\nerror: " + err.message);
      }
    };

    MaterialtypeShows.prototype.getItem = function() {
      return this.item;
    };

    return MaterialtypeShows;

  })(Spine.Controller);

  module.exports = MaterialtypeShows;

}).call(this);
 },"controllers/sysadmin.werehouse.option": function(exports, require, module) { (function() {
  var $, DeleteMaterialtypes, DeleteWerehouses, EditMaterialtypes, EditWerehouses, NewMaterialtypes, NewWerehouses, ShowMaterialtYpes, ShowWerehouses, Spine, WerehouseOption,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  $ = Spine.$;

  ShowMaterialtYpes = require('controllers/sysadmin.werehouse.option.classshow');

  NewMaterialtypes = require('controllers/sysadmin.werehouse.option.classadd');

  EditMaterialtypes = require('controllers/sysadmin.werehouse.option.classedit');

  DeleteMaterialtypes = require('controllers/sysadmin.werehouse.option.classdelete');

  ShowWerehouses = require('controllers/sysadmin.werehouse.option.show');

  NewWerehouses = require('controllers/sysadmin.werehouse.option.add');

  EditWerehouses = require('controllers/sysadmin.werehouse.option.edit');

  DeleteWerehouses = require('controllers/sysadmin.werehouse.option.delete');

  WerehouseOption = (function(superClass) {
    extend(WerehouseOption, superClass);

    function WerehouseOption() {
      return WerehouseOption.__super__.constructor.apply(this, arguments);
    }

    WerehouseOption.prototype.className = 'options stack';

    WerehouseOption.prototype.controllers = {
      classshow: ShowMaterialtYpes,
      classadd: NewMaterialtypes,
      classedit: EditMaterialtypes,
      werehouseshow: ShowWerehouses,
      werehouseadd: NewWerehouses,
      werehouseedit: EditWerehouses,
      werehousedelete: DeleteWerehouses,
      classdelete: DeleteMaterialtypes
    };

    return WerehouseOption;

  })(Spine.Stack);

  module.exports = WerehouseOption;

}).call(this);
 },"controllers/sysadmin.werehouse.option.delete": function(exports, require, module) { (function() {
  var $, Spine, Verify, Werehouse, WerehouseDeletes, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Werehouse = require('models/werehouse');

  $ = Spine.$;

  Word = require('controllers/sysadmin.werehouse.option.show');

  Verify = require('controllers/main.verifycode');

  WerehouseDeletes = (function(superClass) {
    extend(WerehouseDeletes, superClass);

    WerehouseDeletes.prototype.tag = "form";

    WerehouseDeletes.prototype.className = 'option_shows';

    function WerehouseDeletes() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      WerehouseDeletes.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.verify = new Verify;
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item;
          e.stopPropagation();
          e.preventDefault();
          item = _this.word.getItem();
          $.fn.makeDeleteParam(_this.el, Werehouse);
          if (confirm('确实要删除当前产品吗?')) {
            return item.werehouse.destroy();
          }
        };
      })(this));
      this.append(this.word, this.verify, option);
    }

    WerehouseDeletes.prototype.change = function(params) {
      this.word.active(params);
      return this.verify.active(params);
    };

    return WerehouseDeletes;

  })(Spine.Controller);

  module.exports = WerehouseDeletes;

}).call(this);
 },"controllers/sysadmin.werehouse.option.edit": function(exports, require, module) { (function() {
  var $, Image, Spine, Verify, Werehouse, WerehouseEdits, Word,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Werehouse = require('models/werehouse');

  $ = Spine.$;

  Word = require('controllers/sysadmin.werehouse.option.add.text');

  Image = require('controllers/image_option');

  Verify = require('controllers/main.verifycode');

  WerehouseEdits = (function(superClass) {
    extend(WerehouseEdits, superClass);

    WerehouseEdits.prototype.tag = "form";

    WerehouseEdits.prototype.className = 'werehouseedits';

    function WerehouseEdits() {
      this.change = bind(this.change, this);
      var option;
      this.active(this.change);
      WerehouseEdits.__super__.constructor.apply(this, arguments);
      this.word = new Word;
      this.image = new Image('werehouseimg', 'werehouse');
      this.verify = new Verify;
      this.token = $.fn.cookie('PHPSESSID');
      option = $('<button>submit</button>').addClass('submitoption').click((function(_this) {
        return function(e) {
          var item, param, pic;
          e.preventDefault();
          _this.item = _this.word.getItem();
          item = {
            werehouse: {}
          };
          $.fn.makeRequestParam(_this.el, item, ['W_'], [_this.item.werehouse]);
          pic = $.fn.getImageName(_this.image.getImage().attr('src'));
          item.werehouse['picture'] = pic || 'noimg.png';
          param = JSON.stringify(item);
          return $.fn.ajaxPut(_this.item.werehouse.url(), param, function(data) {
            if (data.id > -1) {
              alert("数据保存成功！");
              _this.item.werehouse.updateAttributes(data.werehouse[0], {
                ajax: false
              });
              return Werehouse.trigger('update', _this.item.werehouse);
            } else {
              switch (data.error) {
                case "Access Denied":
                  return window.location.reload();
                case "Validate Code Error!":
                  alert("验证码错误，请重新填写。");
                  return Spine.trigger("updateverify");
              }
            }
          });
        };
      })(this));
      this.append(this.word, this.image, this.verify, option);
    }

    WerehouseEdits.prototype.change = function(params) {
      this.word.active(params);
      this.image.active(params);
      return this.verify.active(params);
    };

    return WerehouseEdits;

  })(Spine.Controller);

  module.exports = WerehouseEdits;

}).call(this);
 },"controllers/sysadmin.werehouse.option.show": function(exports, require, module) { (function() {
  var $, Departmentright, Material, Materialtype, Spine, User, Werehouse, WerehouseShows,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Werehouse = require('models/werehouse');

  Material = require('models/materialinout');

  Materialtype = require('models/materialtype');

  Departmentright = require('models/departmentright');

  User = require('models/user');

  $ = Spine.$;

  WerehouseShows = (function(superClass) {
    extend(WerehouseShows, superClass);

    WerehouseShows.prototype.className = 'option_shows';

    function WerehouseShows() {
      this.change = bind(this.change, this);
      WerehouseShows.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      this.token = $.fn.cookie("PHPSESSID");
      this.werehouse = $.Deferred();
      this.material = $.Deferred();
      this.materialtype = $.Deferred();
      this.departmentright = $.Deferred();
      Werehouse.bind("refresh", (function(_this) {
        return function() {
          return _this.werehouse.resolve();
        };
      })(this));
      Material.bind("refresh", (function(_this) {
        return function() {
          return _this.material.resolve();
        };
      })(this));
      Materialtype.bind("refresh", (function(_this) {
        return function() {
          return _this.materialtype.resolve();
        };
      })(this));
      Departmentright.bind("refresh", (function(_this) {
        return function() {
          return _this.departmentright.resolve();
        };
      })(this));
      Spine.bind("loginor", (function(_this) {
        return function(item) {
          return _this.logor = item;
        };
      })(this));
    }

    WerehouseShows.prototype.render = function() {
      var business, data1, data2, i, item, j, results;
      this.html(require("views/werehouse")(this.item));
      business = [this.hasRight(this.item.materialtypes.inrightid, this.hasRight(this.item.materialtypes.outrightid))];
      if (business[0] || business[1]) {
        item = {
          materialinout: {}
        };
        item.materialinout['materialid'] = this.item.werehouse.id;
        item.materialinout['operatorid'] = this.logor.id;
        item.token = this.token;
        $(this.el).append($("<form><p><label /></p></form>"));
        data1 = ['I', 'O'];
        data2 = ['入', '出'];
        results = [];
        for (i = j = 0; j <= 1; i = ++j) {
          if (!business[i]) {
            continue;
          }
          $("form p label").text(data2[i] + "库数量：");
          $("form p").append("<input type='text' name='W" + data1[i] + "_number' /><button>提交</button>");
          results.push($("input[name=W" + data1[i] + "_number]+button").click((function(_this) {
            return function(e) {
              var n, param;
              e.preventDefault();
              n = $(e.target).prev().val();
              if (i === 1) {
                n = '-' + n;
              }
              item.materialinout['number'] = n;
              item.materialinout['operatortime'] = '?time';
              item.action = "materialinout_create";
              param = JSON.stringify(item);
              Material.scope = '';
              return $.ajax({
                url: Material.url,
                data: param,
                type: "POST",
                dataType: "json",
                beforeSend: function() {},
                error: function(request) {
                  return alert("表单提交出错，请稍候再试");
                },
                success: function(data) {
                  if (data.id > -1) {
                    alert("数据提交成功!");
                    _this.item.materials.updateAttributes(data.materialinout[0], {
                      ajax: false
                    });
                    return _this.navigate('/werehouse/', _this.item.werehouse.id, 'show');
                  } else {
                    switch (data.error) {
                      case "Access Denied":
                        return window.location.reload();
                      case "Validate Code Error!":
                        alert("验证码错误，请重新填写。");
                        return Spine.trigger("updateverify");
                    }
                  }
                }
              });
            };
          })(this)));
        }
        return results;
      }
    };

    WerehouseShows.prototype.change = function(params) {
      var err, error;
      try {
        return $.when(this.werehouse, this.materialtype, this.material, this.departmentright).done((function(_this) {
          return function() {
            var materialtype, werehouses;
            if (Werehouse.exists(params.id)) {
              werehouses = Werehouse.find(params.id);
              materialtype = Materialtype.find(werehouses.typeid);
              _this.item = {
                werehouse: werehouses,
                materials: Material,
                materialtypes: materialtype
              };
              return _this.render();
            }
          };
        })(this));
      } catch (error) {
        err = error;
        return this.log("file: sysadmin.main.werehouse.option.show.coffee\nclass: WerehouseShows\nerror: " + err.message);
      }
    };

    WerehouseShows.prototype.hasRight = function(rightid) {
      var item, result;
      result = false;
      if (rightid != null) {
        item = Departmentright.find(rightid);
        if (((item != null ? item.bit : void 0) != null) && item.departmentid === this.logor.departmentid) {
          result = this.logor.rights & (1 << item.bit);
        }
      }
      return result;
    };

    WerehouseShows.prototype.getItem = function() {
      return this.item;
    };

    return WerehouseShows;

  })(Spine.Controller);

  module.exports = WerehouseShows;

}).call(this);
 },"controllers/sysadmin.werehouse.tree": function(exports, require, module) { (function() {
  var $, Catalog, ManagerTree, Materialtype, Spine, Werehouse, WerehouseTrees,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Materialtype = require('models/materialtype');

  Werehouse = require('models/werehouse');

  Catalog = require('models/catalog');

  $ = Spine.$;

  ManagerTree = require('controllers/main.tree');

  WerehouseTrees = (function(superClass) {
    extend(WerehouseTrees, superClass);

    WerehouseTrees.prototype.className = 'origin_trees';

    function WerehouseTrees() {
      this.change = bind(this.change, this);
      WerehouseTrees.__super__.constructor.apply(this, arguments);
      this.active(this.change);
      Materialtype.bind("ajaxError", function(record, xhr, settings, error) {});
      this.werehouse = $.Deferred();
      this.materialtype = $.Deferred();
      Werehouse.bind("refresh", (function(_this) {
        return function() {
          return _this.werehouse.resolve();
        };
      })(this));
      Materialtype.bind("refresh", (function(_this) {
        return function() {
          return _this.materialtype.resolve();
        };
      })(this));
      Werehouse.bind("create", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.typeid, 10);
          childZNode = {
            "id": parentId * 100000 + parseInt(item.id, 10),
            "pId": parentId,
            "name": item.name + item.size
          };
          return _this.addTreeNode(childZNode);
        };
      })(this));
      Werehouse.bind("update", (function(_this) {
        return function(item) {
          var node;
          if (item != null) {
            node = _this.zTree.getSelectedNodes();
            node[0].name = item.name + item.size;
            _this.zTree.updateNode(node[0]);
            return _this.onTreeClick(null, _this.zTree.setting.treeId, node[0], 1);
          }
        };
      })(this));
      Materialtype.bind("create", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.typeid, 10);
          childZNode = {
            "id": item.id,
            "pId": item.parentid,
            "name": item.name
          };
          return _this.addTreeNode(childZNode);
        };
      })(this));
      Materialtype.bind("update", (function(_this) {
        return function(item) {
          var node;
          if (item != null) {
            node = _this.zTree.getSelectedNodes();
            node[0].name = item.name;
            _this.zTree.updateNode(node[0]);
            return _this.onTreeClick(null, _this.zTree.setting.treeId, node[0], 1);
          }
        };
      })(this));
      Werehouse.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.typeid, 10);
          childZNode = {
            "id": parentId * 100000 + parseInt(item.id, 10),
            "pId": parentId,
            "name": item.name
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
      Materialtype.bind("destroy", (function(_this) {
        return function(item) {
          var childZNode, parentId;
          parentId = parseInt(item.classid, 10);
          childZNode = {
            "id": item.id,
            "pId": item.parentid,
            "name": item.name
          };
          return _this.zTree.removeNode(childZNode);
        };
      })(this));
    }

    WerehouseTrees.prototype.render = function() {
      var item, ref;
      this.nodes = (function() {
        var i, len, ref, results;
        ref = Materialtype.all();
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          item = ref[i];
          results.push({
            id: parseInt(item.id),
            pId: item.parentid,
            name: item.name
          });
        }
        return results;
      })();
      [].splice.apply(this.nodes, [1, 0].concat(ref = (function() {
        var i, len, ref1, results;
        ref1 = Werehouse.all();
        results = [];
        for (i = 0, len = ref1.length; i < len; i++) {
          item = ref1[i];
          results.push({
            id: parseInt(item.typeid) * 100000 + parseInt(item.id),
            pId: item.typeid,
            name: item.name + item.size
          });
        }
        return results;
      })())), ref;
      this.html(require("views/origin_trees")(this.item));
      return this.selectFirstNode("werehouseTree");
    };

    WerehouseTrees.prototype.change = function(params) {
      var err, error1;
      try {
        return $.when(this.werehouse, this.materialtype).done((function(_this) {
          return function() {
            var btns, id;
            if (params.id != null) {
              id = parseInt(params.id, 10);
              if (!/\/materialtype/.test(params.match[0])) {
                id += Werehouse.find(params.id).typeid * 100000;
              }
            }
            btns = [];
            if (Catalog.getRight('werehouse') & 2) {
              btns = ['新建', '编辑', '删除'];
            }
            _this.item = {
              nodeid: id,
              title: '库存产品',
              name: 'werehouse',
              nodeid: id,
              buttons: btns,
              werehouses: Materialtype.all()
            };
            _this.setting = {
              data: {
                simpleData: {
                  enable: true
                }
              },
              callback: {
                beforeClick: _this.beforeTreeClick,
                onClick: _this.onTreeClick
              }
            };
            return _this.render();
          };
        })(this));
      } catch (error1) {
        err = error1;
        return this.log("file: sysadmin.werehouse.coffee\nclass: Werehouses\nerror: " + err.message);
      }
    };

    WerehouseTrees.prototype.getNodeInfo = function(index) {
      if (this.node.id < 1000) {
        return [this.node.id, '/materialtype', "材料类型"];
      } else {
        return [this.node.id - this.node.pId * 100000, '/werehouses', "材料"];
      }
    };

    WerehouseTrees.prototype.getRootTitle = function() {
      return "经营";
    };

    return WerehouseTrees;

  })(ManagerTree);

  module.exports = WerehouseTrees;

}).call(this);
 },"index": function(exports, require, module) { (function() {
  var App, Mains, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  require('lib/setup');

  Spine = require('spine');

  Mains = require('controllers/main');

  App = (function(superClass) {
    extend(App, superClass);

    function App() {
      App.__super__.constructor.apply(this, arguments);
      this.main = new Mains;
      this.append(this.main.active());
      Spine.Route.setup();
    }

    return App;

  })(Spine.Controller);

  module.exports = App;

}).call(this);
 },"lib/jquery-ui.min": function(exports, require, module) { /*! jQuery UI - v1.10.4 - 2014-01-17
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.slider.js, jquery.ui.sortable.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(e,t){function i(t,i){var s,a,o,r=t.nodeName.toLowerCase();return"area"===r?(s=t.parentNode,a=s.name,t.href&&a&&"map"===s.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?r["inner"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})})(jQuery);(function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(o){}n(e)},t.widget=function(i,s,n){var o,a,r,h,l={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,n||(n=s,s=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),h=new s,h.options=t.widget.extend({},h.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:a?h.widgetEventPrefix||i:i},l,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete a._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;h>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,r?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var o,a=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,r){function h(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):e}"string"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,h):s.bind(c,h)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})})(jQuery);(function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),k=t.position.getScrollInfo(y),w=(e.collision||"flip").split(" "),D={};return _=n(b),b[0].preventDefault&&(e.at="left top"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=h.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=h.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),D[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),a=i(D.at,p,g),v.left+=a[0],v.top+=a[1],this.each(function(){var n,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),_=s(this,"marginTop"),x=u+f+s(this,"marginRight")+k.width,C=d+_+s(this,"marginBottom")+k.height,M=t.extend({},v),T=i(D.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?M.left-=u:"center"===e.my[0]&&(M.left-=u/2),"bottom"===e.my[1]?M.top-=d:"center"===e.my[1]&&(M.top-=d/2),M.left+=T[0],M.top+=T[1],t.support.offsetFractions||(M.left=l(M.left),M.top=l(M.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,s){t.ui.position[w[i]]&&t.ui.position[w[i]][s](M,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:x,collisionHeight:C,offset:[a[0]+T[0],a[1]+T[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(h=function(t){var i=m.left-M.left,s=i+p-u,n=m.top-M.top,a=n+g-d,l={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:M.left,top:M.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};u>p&&p>r(i+s)&&(l.horizontal="center"),d>g&&g>r(n+a)&&(l.vertical="middle"),l.important=o(r(i),r(s))>o(r(n),r(a))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(M,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-o-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-o-a,t.top+p+f+g>c&&(0>s||r(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,t.top+p+f+g>u&&(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()})(jQuery);(function(e){var t=0,i={},a={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),undefined):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),undefined)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,a=this.headers.length,s=this.headers.index(t.target),n=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:n=this.headers[(s+1)%a];break;case i.LEFT:case i.UP:n=this.headers[(s-1+a)%a];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:n=this.headers[0];break;case i.END:n=this.headers[a-1]}n&&(e(t.target).attr("tabIndex",-1),e(n).attr("tabIndex",0),n.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,a=this.options,s=a.heightStyle,n=this.element.parent(),r=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),a=i.attr("id"),s=i.next(),n=s.attr("id");a||(a=r+"-header-"+t,i.attr("id",a)),n||(n=r+"-panel-"+t,s.attr("id",n)),i.attr("aria-controls",n),s.attr("aria-labelledby",a)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(a.event),"fill"===s?(i=n.height(),this.element.siblings(":visible").each(function(){var t=e(this),a=t.css("position");"absolute"!==a&&"fixed"!==a&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,a=this.active,s=e(t.currentTarget),n=s[0]===a[0],r=n&&i.collapsible,o=r?e():s.next(),h=a.next(),d={oldHeader:a,oldPanel:h,newHeader:r?e():s,newPanel:o};t.preventDefault(),n&&!i.collapsible||this._trigger("beforeActivate",t,d)===!1||(i.active=r?!1:this.headers.index(s),this.active=n?e():s,this._toggle(d),a.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&a.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),n||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,a=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=a,this.options.animate?this._animate(i,a,t):(a.hide(),i.show(),this._toggleComplete(t)),a.attr({"aria-hidden":"true"}),a.prev().attr("aria-selected","false"),i.length&&a.length?a.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,s){var n,r,o,h=this,d=0,c=e.length&&(!t.length||e.index()<t.index()),l=this.options.animate||{},u=c&&l.down||l,v=function(){h._toggleComplete(s)};return"number"==typeof u&&(o=u),"string"==typeof u&&(r=u),r=r||u.easing||l.easing,o=o||u.duration||l.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(i,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(a,{duration:o,easing:r,complete:v,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?d+=i.now:"content"!==h.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-d),d=0)}}),undefined):t.animate(i,o,r,v):e.animate(a,o,r,v)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})})(jQuery);(function(e){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,undefined;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),undefined;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),undefined):(this._searchTimeout(e),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(e),this._change(e),undefined)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),undefined;var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:s})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):undefined},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[e](t),undefined):(this.search(null,t),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})})(jQuery);(function(e){var t,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",s=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},a=function(t){var i=t.name,n=t.form,s=e([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,s),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,o=this.options,r="checkbox"===this.type||"radio"===this.type,h=r?"":"ui-state-active";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(h)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return o.disabled?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var t=n.element[0];a(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return o.disabled?!1:(e(this).addClass("ui-state-active"),t=this,n.document.one("mouseup",function(){t=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return o.disabled?!1:(e(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(t){return o.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.element.prop("disabled",!!t),t&&this.buttonElement.removeClass("ui-state-focus"),undefined):(this._resetButton(),undefined)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?a(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var t=this.buttonElement.removeClass(n),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,a=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(a?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function s(t,i){e.extend(t,i);for(var a in i)null==i[a]&&(t[a]=i[a]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var n,r="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var a,s,n;a=t.nodeName.toLowerCase(),s="div"===a||"span"===a,t.id||(this.uuid+=1,t.id="dp"+this.uuid),n=this._newInst(e(t),s),n.settings=e.extend({},i||{}),"input"===a?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var a=e(t);i.append=e([]),i.trigger=e([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var a,s,n,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,"showOn"),("focus"===a||"both"===a)&&t.focus(this._showDatepicker),("button"===a||"both"===a)&&(s=this._get(i,"buttonText"),n=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(n?e("<img/>").attr({src:n,alt:s,title:s}):s)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,a,s,n=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,a=0,s=0;e.length>s;s++)e[s].length>i&&(i=e[s].length,a=s);return a},n.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),e.input.attr("size",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var a=e(t);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,a,n,o){var u,c,h,l,d,p=this._dialogInst;return p||(this.uuid+=1,u="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+u+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+l,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,a=e(t),s=e.data(t,r);a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===i?(s.append.remove(),s.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,a,n){var r,o,u,c,h=this._getInst(i);return 2===arguments.length&&"string"==typeof a?"defaults"===a?e.extend({},e.datepicker._defaults):h?"all"===a?e.extend({},h.settings):this._get(h,a):null:(r=a||{},"string"==typeof a&&(r={},r[a]=n),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),u=this._getMinMaxDate(h,"min"),c=this._getMinMaxDate(h,"max"),s(h.settings,r),null!==u&&r.dateFormat!==t&&r.minDate===t&&(h.settings.minDate=this._formatDate(h,u)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(h.settings.maxDate=this._formatDate(h,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),t)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,a,s,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",n.dpDiv),s[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,s[0]),i=e.datepicker._get(n,"onSelect"),i?(a=e.datepicker._formatDate(n),i.apply(n.input?n.input[0]:null,[a,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var a,s,n=e.datepicker._getInst(i.target);return e.datepicker._get(n,"constrainInput")?(a=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">s||!a||a.indexOf(s)>-1):t},_doKeyUp:function(t){var i,a=e.datepicker._getInst(t.target);if(a.input.val()!==a.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,e.datepicker._getFormatConfig(a)),i&&(e.datepicker._setDateFromField(a),e.datepicker._updateAlternate(a),e.datepicker._updateDatepicker(a))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,r,o,u,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,"beforeShow"),n=a?a.apply(t,[t,i]):{},n!==!1&&(s(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(u=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?i.dpDiv.show(u,e.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,a=this._getNumberOfMonths(t),s=a[1],r=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),t.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,a){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(a?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-r:0,i.left-=a&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=a&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>u&&u>s?Math.abs(i.left+s-u):0),i.top-=Math.min(i.top,i.top+n>c&&c>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,a=this._getInst(t),s=this._get(a,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,a,s,n,o=this._curInst;!o||t&&o!==e.data(t,r)||this._datepickerShowing&&(i=this._get(o,"showAnim"),a=this._get(o,"duration"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),a,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?a:null,s),i||s(),this._datepickerShowing=!1,n=this._get(o,"onClose"),n&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),a=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==a)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,a){var s=e(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,i+("M"===a?this._get(n,"showCurrentAtPos"):0),a),this._updateDatepicker(n))},_gotoToday:function(t){var i,a=e(t),s=this._getInst(a[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(a)},_selectMonthYear:function(t,i,a){var s=e(t),n=this._getInst(s[0]);n["selected"+("M"===a?"Month":"Year")]=n["draw"+("M"===a?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,i,a,s){var n,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e("a",s).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=a,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var a,s=e(t),n=this._getInst(s[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),a=this._get(n,"onSelect"),a?a.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,a,s,n=this._get(t,"altField");n&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),a=this._getDate(t),s=this.formatDate(i,a,this._getFormatConfig(t)),e(n).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,a,s){if(null==i||null==a)throw"Invalid arguments";if(a="object"==typeof a?""+a:a+"",""===a)return null;var n,r,o,u,c=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,g=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,f=-1,_=-1,v=-1,k=-1,y=!1,b=function(e){var t=i.length>n+1&&i.charAt(n+1)===e;return t&&n++,t},D=function(e){var t=b(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=RegExp("^\\d{1,"+i+"}"),n=a.substring(c).match(s);if(!n)throw"Missing number at position "+c;return c+=n[0].length,parseInt(n[0],10)},w=function(i,s,n){var r=-1,o=e.map(b(i)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,i){var s=i[1];return a.substr(c,s.length).toLowerCase()===s.toLowerCase()?(r=i[0],c+=s.length,!1):t}),-1!==r)return r+1;throw"Unknown name at position "+c},M=function(){if(a.charAt(c)!==i.charAt(n))throw"Unexpected literal at position "+c;c++};for(n=0;i.length>n;n++)if(y)"'"!==i.charAt(n)||b("'")?M():y=!1;else switch(i.charAt(n)){case"d":v=D("d");break;case"D":w("D",d,p);break;case"o":k=D("o");break;case"m":_=D("m");break;case"M":_=w("M",g,m);break;case"y":f=D("y");break;case"@":u=new Date(D("@")),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"!":u=new Date((D("!")-this._ticksTo1970)/1e4),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"'":b("'")?M():y=!0;break;default:M()}if(a.length>c&&(o=a.substr(c),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=f?0:-100)),k>-1)for(_=1,v=k;;){if(r=this._getDaysInMonth(f,_-1),r>=v)break;_++,v-=r}if(u=this._daylightSavingAdjust(new Date(f,_-1,v)),u.getFullYear()!==f||u.getMonth()+1!==_||u.getDate()!==v)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var a,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,u=function(t){var i=e.length>a+1&&e.charAt(a+1)===t;return i&&a++,i},c=function(e,t,i){var a=""+t;if(u(e))for(;i>a.length;)a="0"+a;return a},h=function(e,t,i,a){return u(e)?a[t]:i[t]},l="",d=!1;if(t)for(a=0;e.length>a;a++)if(d)"'"!==e.charAt(a)||u("'")?l+=e.charAt(a):d=!1;else switch(e.charAt(a)){case"d":l+=c("d",t.getDate(),2);break;case"D":l+=h("D",t.getDay(),s,n);break;case"o":l+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=c("m",t.getMonth()+1,2);break;case"M":l+=h("M",t.getMonth(),r,o);break;case"y":l+=u("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?l+="'":d=!0;break;default:l+=e.charAt(a)}return l},_possibleChars:function(e){var t,i="",a=!1,s=function(i){var a=e.length>t+1&&e.charAt(t+1)===i;return a&&t++,a};for(t=0;e.length>t;t++)if(a)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):a=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":a=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),n=s,r=this._getFormatConfig(e);try{n=this.parseDate(i,a,r)||s}catch(o){a=t?"":a}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=a?n.getDate():0,e.currentMonth=a?n.getMonth():0,e.currentYear=a?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,a){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(a){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=s.getFullYear(),r=s.getMonth(),o=s.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=u.exec(i);c;){switch(c[2]||"d"){case"d":case"D":o+=parseInt(c[1],10);break;case"w":case"W":o+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}c=u.exec(i)}return new Date(n,r,o)},r=null==i||""===i?a:"string"==typeof i?n(i):"number"==typeof i?isNaN(i)?a:s(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?a:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),a="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(a,-i,"M")},next:function(){e.datepicker._adjustDate(a,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(a)},selectDay:function(){return e.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(a,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,a,s,n,r,o,u,c,h,l,d,p,g,m,f,_,v,k,y,b,D,w,M,C,x,I,N,T,A,E,S,Y,F,P,O,j,K,R,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),L=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),z=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),G=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),Q=1!==q[0]||1!==q[1],V=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Z=e.drawMonth-G,et=e.drawYear;if(0>Z&&(Z+=12,et--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-q[0]*q[1]+1,X.getDate())),t=$&&$>t?$:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=z?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):i,a=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=z?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):s,n=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?V:W,r=z?this.formatDate(r,o,this._getFormatConfig(e)):r,u=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(L?u:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(L?"":u)+"</div>":"",h=parseInt(this._get(e,"firstDay"),10),h=isNaN(h)?0:h,l=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),g=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),f=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),k=this._getDefaultDate(e),y="",D=0;q[0]>D;D++){for(w="",this.maxRows=4,M=0;q[1]>M;M++){if(C=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),x=" ui-corner-all",I="",Q){if(I+="<div class='ui-datepicker-group",q[1]>1)switch(M){case 0:I+=" ui-datepicker-group-first",x=" ui-corner-"+(L?"right":"left");break;case q[1]-1:I+=" ui-datepicker-group-last",x=" ui-corner-"+(L?"left":"right");break;default:I+=" ui-datepicker-group-middle",x=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===D?L?n:a:"")+(/all|right/.test(x)&&0===D?L?a:n:"")+this._generateMonthYearHeader(e,Z,et,$,X,D>0||M>0,g,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",N=l?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",b=0;7>b;b++)T=(b+h)%7,N+="<th"+((b+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[T]+"'>"+p[T]+"</span></th>";for(I+=N+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),E=(this._getFirstDayOfMonth(et,Z)-h+7)%7,S=Math.ceil((E+A)/7),Y=Q?this.maxRows>S?this.maxRows:S:S,this.maxRows=Y,F=this._daylightSavingAdjust(new Date(et,Z,1-E)),P=0;Y>P;P++){for(I+="<tr>",O=l?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",b=0;7>b;b++)j=f?f.apply(e.input?e.input[0]:null,[F]):[!0,""],K=F.getMonth()!==Z,R=K&&!v||!j[0]||$&&$>F||X&&F>X,O+="<td class='"+((b+h+6)%7>=5?" ui-datepicker-week-end":"")+(K?" ui-datepicker-other-month":"")+(F.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||k.getTime()===F.getTime()&&k.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!_?"":" "+j[1]+(F.getTime()===V.getTime()?" "+this._currentClass:"")+(F.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(K&&!_||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(K&&!_?"&#xa0;":R?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===W.getTime()?" ui-state-highlight":"")+(F.getTime()===V.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);I+=O+"</tr>"}Z++,Z>11&&(Z=0,et++),I+="</tbody></table>"+(Q?"</div>"+(q[0]>0&&M===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=I}y+=w}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var u,c,h,l,d,p,g,m,f=this._get(e,"changeMonth"),_=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),k="<div class='ui-datepicker-title'>",y="";if(n||!f)y+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(u=a&&a.getFullYear()===i,c=s&&s.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!u||h>=a.getMonth())&&(!c||s.getMonth()>=h)&&(y+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"</option>");y+="</select>"}if(v||(k+=y+(!n&&f&&_?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!_)k+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(l=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);
return isNaN(t)?d:t},g=p(l[0]),m=Math.max(g,p(l[1]||"")),g=a?Math.max(g,a.getFullYear()):g,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=g;g++)e.yearshtml+="<option value='"+g+"'"+(g===i?" selected='selected'":"")+">"+g+"</option>";e.yearshtml+="</select>",k+=e.yearshtml,e.yearshtml=null}return k+=this._get(e,"yearSuffix"),v&&(k+=(!n&&f&&_?"":"&#xa0;")+y),k+="</div>"},_adjustInstDate:function(e,t,i){var a=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,a,s=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=null,o=null,u=this._get(e,"yearRange");return u&&(i=u.split(":"),a=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=a),i[1].match(/[+\-].*/)&&(o+=a)),(!s||t.getTime()>=s.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"})(jQuery);(function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,a=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(s){}this._hide(this.uiDialog,this.options.hide,function(){a._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),undefined;if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),a=i.filter(":first"),s=i.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==a[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(s.focus(1),t.preventDefault()):(a.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(e.each(i,function(i,a){var s,n;a=e.isFunction(a)?{click:a,text:i}:a,a=e.extend({type:"button"},a),s=a.click,a.click=function(){s.apply(t.element[0],arguments)},n={icons:a.icons,text:a.showText},delete a.icons,delete a.showText,e("<button></button>",a).button(n).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,s){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",a,t(s))},drag:function(e,a){i._trigger("drag",e,t(a))},stop:function(s,n){a.position=[n.position.left-i.document.scrollLeft(),n.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,t(n))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,a=this.options,s=a.resizable,n=this.uiDialog.css("position"),r="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:r,start:function(a,s){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",a,t(s))},resize:function(e,a){i._trigger("resize",e,t(a))},stop:function(s,n){a.height=e(this).height(),a.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,t(n))}}).css("position",n)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(a){var s=this,n=!1,r={};e.each(a,function(e,a){s._setOption(e,a),e in t&&(n=!0),e in i&&(r[e]=a)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,a,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=s.is(":data(ui-draggable)"),i&&!t&&s.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(a=s.is(":data(ui-resizable)"),a&&!t&&s.resizable("destroy"),a&&"string"==typeof t&&s.resizable("option","handles",t),a||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),a.minWidth>a.width&&(a.width=a.minWidth),e=this.uiDialog.css({height:"auto",width:a.width}).outerHeight(),t=Math.max(0,a.minHeight-e),i="number"==typeof a.maxHeight?Math.max(0,a.maxHeight-e):"none","auto"===a.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,a.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(a){t._allowInteraction(a)||(a.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,a=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(a=i.split?i.split(" "):[i[0],i[1]],1===a.length&&(a[1]=a[0]),e.each(["left","top"],function(e,t){+a[e]===a[e]&&(s[e]=a[e],a[e]=t)}),i={my:a[0]+(0>s[0]?s[0]:"+"+s[0])+" "+a[1]+(0>s[1]?s[1]:"+"+s[1]),at:a.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})})(jQuery);(function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===n.containment?(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):n.containment.constructor===Array?(this.containment=n.containment,undefined):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),undefined):(this.containment=null,undefined)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,a,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),n=s.options,a=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i){var s=t(this).data("ui-draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("ui-draggable"),n=this;t.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,a,o,r,l,h,c,u,d,p=t(this).data("ui-draggable"),g=p.options,f=g.snapTolerance,m=i.offset.left,_=m+p.helperProportions.width,v=i.offset.top,b=v+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,r-f>_||m>l+f||h-f>b||v>c+f||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==g.snapMode&&(s=f>=Math.abs(h-b),n=f>=Math.abs(c-v),a=f>=Math.abs(r-_),o=f>=Math.abs(l-m),s&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=s||n||a||o,"outer"!==g.snapMode&&(s=f>=Math.abs(h-v),n=f>=Math.abs(c-b),a=f>=Math.abs(r-m),o=f>=Math.abs(l-_),s&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||a||o||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],undefined):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):undefined}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,a,o=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,l=o+t.helperProportions.width,h=r+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,p=u+i.proportions().height;switch(s){case"fit":return o>=c&&d>=l&&r>=u&&p>=h;case"intersect":return o+t.helperProportions.width/2>c&&d>l-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&p>h-t.helperProportions.height/2;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,a=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(a,u,i.proportions().height)&&e(n,c,i.proportions().width);case"touch":return(r>=u&&p>=r||h>=u&&p>=h||u>r&&h>p)&&(o>=c&&d>=o||l>=c&&d>=l||c>o&&l>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||e&&!a[s].accept.call(a[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue t}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=t.ui.intersect(e,this,this.options.tolerance),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===n}),a.length&&(s=t.data(a[0],"ui-droppable"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}})(jQuery);(function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=h(),n=s._rgba=[];return i=i.toLowerCase(),f(l,function(t,a){var o,r=a.re.exec(i),l=r&&a.parse(r),h=a.space||"rgba";return l?(o=s[h](l),s[c[h].cache]=o[c[h].cache],n=s._rgba=o._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,a.transparent),s):a[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=h.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(n,o,r,l){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(o),o=e);var u=this,d=t.type(n),p=this._rgba=[];return o!==e&&(n=[n,o,r,l],d="array"),"string"===d?this.parse(s(n)||a._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof h?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var a=s.cache;f(s.props,function(t,e){if(!u[a]&&s.to){if("alpha"===t||null==n[t])return;u[a]=s.to(u._rgba)}u[a][e.idx]=i(n[t],e,!0)}),u[a]&&0>t.inArray(null,u[a].slice(0,3))&&(u[a][3]=1,s.from&&(u._rgba=s.from(u[a])))}),this):e},is:function(t){var i=h(t),s=!0,n=this;return f(c,function(t,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=h(t),n=s._space(),a=c[n],o=0===this.alpha()?h("transparent"):this,r=o[a.cache]||a.to(o._rgba),l=r.slice();return s=s[a.cache],f(a.props,function(t,n){var a=n.idx,o=r[a],h=s[a],c=u[n.type]||{};null!==h&&(null===o?l[a]=h:(c.mod&&(h-o>c.mod/2?o+=c.mod:o-h>c.mod/2&&(o-=c.mod)),l[a]=i((h-o)*e+o,n)))}),this[n](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=h(e)._rgba;return h(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,a=t[2]/255,o=t[3],r=Math.max(s,n,a),l=Math.min(s,n,a),h=r-l,c=r+l,u=.5*c;return e=l===r?0:s===r?60*(n-a)/h+360:n===r?60*(a-s)/h+120:60*(s-n)/h+240,i=0===h?0:.5>=u?h/c:h/(2-c),[Math.round(e)%360,i,u,null==o?1:o]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],a=t[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,e+1/3)),Math.round(255*n(r,o,e)),Math.round(255*n(r,o,e-1/3)),a]},f(c,function(s,n){var a=n.props,o=n.cache,l=n.to,c=n.from;h.fn[s]=function(s){if(l&&!this[o]&&(this[o]=l(this._rgba)),s===e)return this[o].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[o].slice();return f(a,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=h(c(d)),n[o]=d,n):h(d)},f(a,function(e,i){h.fn[e]||(h.fn[e]=function(n){var a,o=t.type(n),l="alpha"===e?this._hsla?"hsla":"rgba":s,h=this[l](),c=h[i.idx];return"undefined"===o?c:("function"===o&&(n=n.call(this,c),o=t.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=c+parseFloat(a[2])*("+"===a[1]?1:-1))),h[i.idx]=n,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var a,o,r="";if("transparent"!==n&&("string"!==t.type(n)||(a=s(n)))){if(n=h(a||n),!d.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&o&&o.style;)try{r=t.css(o,"backgroundColor"),o=o.parentNode}catch(l){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function s(e,i){var s,n,o={};for(s in i)n=i[s],e[s]!==n&&(a[s]||(t.fx.step[s]||!isNaN(parseFloat(n)))&&(o[s]=n));return o}var n=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,a,o,r){var l=t.speed(a,o,r);return this.queue(function(){var a,o=t(this),r=o.attr("class")||"",h=l.children?o.find("*").addBack():o;h=h.map(function(){var e=t(this);return{el:e,start:i(this)}}),a=function(){t.each(n,function(t,i){e[i]&&o[i+"Class"](e[i])})},a(),h=h.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),o.attr("class",r),h=h.map(function(){var e=this,i=t.Deferred(),s=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,h.get()).done(function(){a(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,a){return s?t.effects.animateClass.call(this,{add:i},s,n,a):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,a){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,a):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(s,n,a,o,r){return"boolean"==typeof n||n===e?a?t.effects.animateClass.call(this,n?{add:s}:{remove:s},a,o,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:s},n,a,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,a){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,a)}})}(),function(){function s(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.4",save:function(t,e){for(var s=0;e.length>s;s++)null!==e[s]&&t.data(i+e[s],t[0].style[e[s]])},restore:function(t,s){var n,a;for(a=0;s.length>a;a++)null!==s[a]&&(n=t.data(i+s[a]),n===e&&(n=""),t.css(s[a],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return e.wrap(s),(e[0]===a||t.contains(e[0],a))&&t(a).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var a=e.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),t.fn.extend({effect:function(){function e(e){function s(){t.isFunction(a)&&a.call(n[0]),t.isFunction(e)&&e()}var n=t(this),a=i.complete,r=i.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),s()):o.call(n[0],i,s)}var i=s.apply(this,arguments),n=i.mode,a=i.queue,o=t.effects.effect[i.effect];return t.fx.off||!o?n?this[n](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):a===!1?this.each(e):this.queue(a||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()})(jQuery);(function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(s,n){var a,o,r,l=t(this),h=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(l,s.mode||"hide"),u=s.direction||"up",d=e.test(u),p=d?"height":"width",f=d?"top":"left",g=i.test(u),m={},v="show"===c;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),h):t.effects.save(l,h),l.show(),a=t.effects.createWrapper(l).css({overflow:"hidden"}),o=a[p](),r=parseFloat(a.css(f))||0,m[p]=v?o:0,g||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?r:o+r),v&&(a.css(p,0),g||a.css(f,r+o)),a.animate(m,{duration:s.duration,easing:s.easing,queue:!1,complete:function(){"hide"===c&&l.hide(),t.effects.restore(l,h),t.effects.removeWrapper(l),n()}})}})(jQuery);(function(t){t.effects.effect.bounce=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"effect"),h="hide"===l,c="show"===l,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||h?1:0),g=e.duration/f,m=e.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=o.queue(),y=b.length;for((c||h)&&r.push("opacity"),t.effects.save(o,r),o.show(),t.effects.createWrapper(o),d||(d=o["top"===v?"outerHeight":"outerWidth"]()/3),c&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,_?2*-d:2*d).animate(a,g,m)),h&&(d/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(_?"-=":"+=")+d,o.animate(n,g,m).animate(a,g,m),d=h?2*d:d/2;h&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,o.animate(n,g,m)),o.queue(function(){h&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),o.dequeue()}})(jQuery);(function(t){t.effects.effect.clip=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"hide"),h="show"===l,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(o,r),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[d](),h&&(n.css(d,0),n.css(p,a/2)),f[d]=h?a:0,f[p]=h?0:a/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}})(jQuery);(function(t){t.effects.effect.drop=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","opacity","height","width"],o=t.effects.setMode(n,e.mode||"hide"),r="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",u={opacity:r?1:0};t.effects.save(n,a),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(h,"pos"===c?-s:s),u[h]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}})}})(jQuery);(function(t){t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),g||p.hide(),i()}var a,o,r,l,h,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/u),b=[];for(a=0;u>a;a++)for(l=m.top+a*_,c=a-(u-1)/2,o=0;d>o;o++)r=m.left+o*v,h=o-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(g?h*v:0),top:l+(g?c*_:0),opacity:g?0:1}).animate({left:r+(g?0:h*v),top:l+(g?0:c*_),opacity:g?1:0},e.duration||500,e.easing,s)}})(jQuery);(function(t){t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}})(jQuery);(function(t){t.effects.effect.fold=function(e,i){var s,n,a=t(this),o=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(a,e.mode||"hide"),l="show"===r,h="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(a,o),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],u&&(c=parseInt(u[1],10)/100*n[h?0:1]),l&&s.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=l?n[0]:c,v[f[1]]=l?n[1]:0,s.animate(m,g,e.easing).animate(v,g,e.easing,function(){h&&a.hide(),t.effects.restore(a,o),t.effects.removeWrapper(a),i()})}})(jQuery);(function(t){t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],a=t.effects.setMode(s,e.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&s.hide(),t.effects.restore(s,n),i()}})}})(jQuery);(function(t){t.effects.effect.pulsate=function(e,i){var s,n=t(this),a=t.effects.setMode(n,e.mode||"show"),o="show"===a,r="hide"===a,l=o||"hide"===a,h=2*(e.times||5)+(l?1:0),c=e.duration/h,u=0,d=n.queue(),p=d.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),u=1),s=1;h>s;s++)n.animate({opacity:u},c,e.easing),u=1-u;n.animate({opacity:u},c,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,h+1))),n.dequeue()}})(jQuery);(function(t){t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),a="hide"===n,o=parseInt(e.percent,10)||150,r=o/100,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),s.effect(e)},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),a=t.effects.setMode(s,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===a?0:100),r=e.direction||"both",l=e.origin,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=l||["middle","center"],n.restore=!0),n.from=e.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:h),n.to={height:h.height*c.y,width:h.width*c.x,outerHeight:h.outerHeight*c.y,outerWidth:h.outerWidth*c.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.size=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(o,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=o.css("position"),_=f?r:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===e.mode&&"show"===p?(o.from=e.to||b,o.to=e.from||s):(o.from=e.from||("show"===p?b:s),o.to=e.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===g||"both"===g)&&(a.from.y!==a.to.y&&(_=_.concat(u),o.from=t.effects.setTransition(o,u,a.from.y,o.from),o.to=t.effects.setTransition(o,u,a.to.y,o.to)),a.from.x!==a.to.x&&(_=_.concat(d),o.from=t.effects.setTransition(o,d,a.from.x,o.from),o.to=t.effects.setTransition(o,d,a.to.x,o.to))),("content"===g||"both"===g)&&a.from.y!==a.to.y&&(_=_.concat(c).concat(h),o.from=t.effects.setTransition(o,c,a.from.y,o.from),o.to=t.effects.setTransition(o,c,a.to.y,o.to)),t.effects.save(o,_),o.show(),t.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(n=t.effects.getBaseline(m,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===g||"both"===g)&&(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),h=r.concat(u).concat(d),o.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,h),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=t.effects.setTransition(i,u,a.from.y,i.from),i.to=t.effects.setTransition(i,u,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=t.effects.setTransition(i,d,a.from.x,i.from),i.to=t.effects.setTransition(i,d,a.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,h)})})),o.animate(o.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),t.effects.restore(o,_),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):t.each(["top","left"],function(t,e){o.css(e,function(e,i){var s=parseInt(i,10),n=t?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(o),i()}})}})(jQuery);(function(t){t.effects.effect.shake=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","height","width"],o=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",l=e.distance||20,h=e.times||3,c=2*h+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},g={},m={},v=n.queue(),_=v.length;for(t.effects.save(n,a),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+l,g[d]=(p?"+=":"-=")+2*l,m[d]=(p?"-=":"+=")+2*l,n.animate(f,u,e.easing),s=1;h>s;s++)n.animate(g,u,e.easing).animate(m,u,e.easing);n.animate(g,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,c+1))),n.dequeue()}})(jQuery);(function(t){t.effects.effect.slide=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","width","height"],o=t.effects.setMode(n,e.mode||"show"),r="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u={};t.effects.save(n,a),n.show(),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(h,c?isNaN(s)?"-"+s:-s:s),u[h]=(r?c?"+=":"-=":c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}})}})(jQuery);(function(t){t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),a="fixed"===n.css("position"),o=t("body"),r=a?o.scrollTop():0,l=a?o.scrollLeft():0,h=n.offset(),c={top:h.top-r,left:h.left-l,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-l,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}})(jQuery);(function(t){t.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,a,o,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(e),undefined)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(e),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})})(jQuery);(function(t,e){t.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})})(jQuery);(function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),a="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,a),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(i){var s,n,a,o=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css("left")),n=e(this.helper.css("top")),o.containment&&(s+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===a?this.axis+"-resize":a),h.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},a=this.originalMousePosition,o=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-a.left||0,d=e.pageY-a.top||0,p=this._change[o];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==h&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,a=s?0:c.sizeDiff.width,o={width:c.helper.width()-a,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(o,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,a,o,r=this.options;o={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>s&&(o.maxWidth=s),o.maxHeight>a&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(s.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,a=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),a&&(t.height=e.maxHeight),o&&c&&(t.left=h-e.minWidth),n&&c&&(t.left=h-e.maxWidth),r&&u&&(t.top=l-e.minHeight),a&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,a=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,s,n,a,o,r,h,l=t(this).data("ui-resizable"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=e(i.css("padding"+n))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=l.containerOffset,a=l.containerSize.height,o=l.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:o,h=t.ui.hasScroll(p)?p.scrollHeight:a,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,a,o=t(this).data("ui-resizable"),r=o.options,h=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?h.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-u.left:o.offset.left-u.left)+o.sizeDiff.width),s=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-h.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a&&(i-=Math.abs(o.parentData.left)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,c&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),h=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),a={},o=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(a[e]=i||null)}),e.css(a)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,o=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),v&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(o)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.top=a.top-u):/^(sw)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.left=a.left-c):(p-l>0?(e.size.height=p,e.position.top=a.top-u):(e.size.height=l,e.position.top=a.top+n.height-l),d-h>0?(e.size.width=d,e.position.left=a.left-c):(e.size.width=h,e.position.left=a.left+n.width-h))}})})(jQuery);(function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):undefined}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,l=e.pageY;return a>r&&(i=r,r=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?h=!(i.left>r||a>i.right||i.top>l||o>i.bottom):"fit"===n.tolerance&&(h=i.left>a&&r>i.right&&i.top>o&&l>i.bottom),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}})})(jQuery);(function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,l,h,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),l=a.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-a.width()/2,top:e.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](u,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),s=this._start(i,r),s===!1))return}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):undefined}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return n?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&i||"up"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,o,a,r,h,l,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),h=p?"left":"top",l=p?"width":"height",c=this.positionAbs[h]+this.offset.click[h],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(d=!0,u+=this.items[o][l]),a>Math.abs(u-c)&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(s,r,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger("change",s,this._uiHash()),this.containers[g]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})(jQuery);(function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,this.element.val(this._format(i)),void 0}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(e(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})})(jQuery);(function(t,e){function i(){return++n}function s(t){return t=t.cloneNode(!1),t.hash.length>1&&decodeURIComponent(t.href.replace(a,""))===decodeURIComponent(location.href.replace(a,""))}var n=0,a=/#.*$/;t.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,s=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(s,a){return t(a).attr("aria-controls")===n?(i=s,!1):e}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=s?!1:0)),!s&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(i){var s=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(s),a=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:a=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(n),e;case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),e;default:return}i.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,a),i.ctrlKey||(s.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var a,o,r,h=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");s(n)?(a=n.hash,o=e.element.find(e._sanitizeSelector(a))):(r=e._tabId(l),a="#"+r,o=e.element.find(a),o.length||(o=e._createPanel(r),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a.substring(1),"aria-labelledby":h}),o.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?t():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():a,newPanel:h};e.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?t():a,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),e),this._toggle(e,c))},_toggle:function(e,i){function s(){a.running=!1,a._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var s=this.options.disabled;s!==!1&&(i===e?s=!1:(i=this._getIndex(i),s=t.isArray(s)?t.map(s,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(s))},disable:function(i){var s=this.options.disabled;if(s!==!0){if(i===e)s=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,s))return;s=t.isArray(s)?t.merge([i],s).sort():[i]}this._setupDisabled(s)}},load:function(e,i){e=this._getIndex(e);var n=this,a=this.tabs.eq(e),o=a.find(".ui-tabs-anchor"),r=this._getPanelForTab(a),h={tab:a,panel:r};s(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),n._trigger("load",i,h)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,a){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:a},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})})(jQuery);(function(t){function e(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")}var s=0;t.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var s=this;return"disabled"===e?(this[i?"_disable":"_enable"](),this.options[e]=i,void 0):(this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e)}),void 0)},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){t.data("ui-tooltip-open")&&n._delay(function(){e&&(e.type=o),this._open(e,t,i)})}),i&&this._open(e,t,i),void 0)},_open:function(i,s,n){function o(t){l.of=t,a.is(":hidden")||a.position(l)}var a,r,h,l=t.extend({},this.options.position);if(n){if(a=this._find(s),a.length)return a.find(".ui-tooltip-content").html(n),void 0;s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),a=this._tooltip(s),e(s,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):a.position(t.extend({of:s},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(l.of),clearInterval(h))},t.fx.interval)),this._trigger("open",i,{tooltip:a}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=s[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,s,r)}},close:function(e){var s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),i(n),o.stop(!0),this._hide(o,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+s++,n=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})}})})(jQuery); },"lib/jquery.ztree.core-3.5.min": function(exports, require, module) { /*
 * JQuery zTree core v3.5.17-beta.2
 * http://zTree.me/
 *
 * Copyright (c) 2010 Hunter.z
 *
 * Licensed same as jquery - MIT License
 * http://www.opensource.org/licenses/mit-license.php
 *
 * email: hunter.z@263.net
 * Date: 2014-05-08
 */
(function(p){var G,H,I,J,K,L,r={},u={},v={},M={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],
otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},w=[function(b){var a=b.treeObj,c=e.event;a.bind(c.NODECREATED,function(a,c,g){j.apply(b.callback.onNodeCreated,
[a,c,g])});a.bind(c.CLICK,function(a,c,g,l,h){j.apply(b.callback.onClick,[c,g,l,h])});a.bind(c.EXPAND,function(a,c,g){j.apply(b.callback.onExpand,[a,c,g])});a.bind(c.COLLAPSE,function(a,c,g){j.apply(b.callback.onCollapse,[a,c,g])});a.bind(c.ASYNC_SUCCESS,function(a,c,g,l){j.apply(b.callback.onAsyncSuccess,[a,c,g,l])});a.bind(c.ASYNC_ERROR,function(a,c,g,l,h,e){j.apply(b.callback.onAsyncError,[a,c,g,l,h,e])});a.bind(c.REMOVE,function(a,c,g){j.apply(b.callback.onRemove,[a,c,g])})}],x=[function(b){var a=
e.event;b.treeObj.unbind(a.NODECREATED).unbind(a.CLICK).unbind(a.EXPAND).unbind(a.COLLAPSE).unbind(a.ASYNC_SUCCESS).unbind(a.ASYNC_ERROR).unbind(a.REMOVE)}],y=[function(b){var a=h.getCache(b);a||(a={},h.setCache(b,a));a.nodes=[];a.doms=[]}],z=[function(b,a,c,d,f,g){if(c){var l=h.getRoot(b),e=b.data.key.children;c.level=a;c.tId=b.treeId+"_"+ ++l.zId;c.parentTId=d?d.tId:null;c.open=typeof c.open=="string"?j.eqs(c.open,"true"):!!c.open;c[e]&&c[e].length>0?(c.isParent=!0,c.zAsync=!0):(c.isParent=typeof c.isParent==
"string"?j.eqs(c.isParent,"true"):!!c.isParent,c.open=c.isParent&&!b.async.enable?c.open:!1,c.zAsync=!c.isParent);c.isFirstNode=f;c.isLastNode=g;c.getParentNode=function(){return h.getNodeCache(b,c.parentTId)};c.getPreNode=function(){return h.getPreNode(b,c)};c.getNextNode=function(){return h.getNextNode(b,c)};c.isAjaxing=!1;h.fixPIdKeyValue(b,c)}}],s=[function(b){var a=b.target,c=h.getSetting(b.data.treeId),d="",f=null,g="",l="",i=null,n=null,k=null;if(j.eqs(b.type,"mousedown"))l="mousedown";else if(j.eqs(b.type,
"mouseup"))l="mouseup";else if(j.eqs(b.type,"contextmenu"))l="contextmenu";else if(j.eqs(b.type,"click"))if(j.eqs(a.tagName,"span")&&a.getAttribute("treeNode"+e.id.SWITCH)!==null)d=j.getNodeMainDom(a).id,g="switchNode";else{if(k=j.getMDom(c,a,[{tagName:"a",attrName:"treeNode"+e.id.A}]))d=j.getNodeMainDom(k).id,g="clickNode"}else if(j.eqs(b.type,"dblclick")&&(l="dblclick",k=j.getMDom(c,a,[{tagName:"a",attrName:"treeNode"+e.id.A}])))d=j.getNodeMainDom(k).id,g="switchNode";if(l.length>0&&d.length==0&&
(k=j.getMDom(c,a,[{tagName:"a",attrName:"treeNode"+e.id.A}])))d=j.getNodeMainDom(k).id;if(d.length>0)switch(f=h.getNodeCache(c,d),g){case "switchNode":f.isParent?j.eqs(b.type,"click")||j.eqs(b.type,"dblclick")&&j.apply(c.view.dblClickExpand,[c.treeId,f],c.view.dblClickExpand)?i=G:g="":g="";break;case "clickNode":i=H}switch(l){case "mousedown":n=I;break;case "mouseup":n=J;break;case "dblclick":n=K;break;case "contextmenu":n=L}return{stop:!1,node:f,nodeEventType:g,nodeEventCallback:i,treeEventType:l,
treeEventCallback:n}}],A=[function(b){var a=h.getRoot(b);a||(a={},h.setRoot(b,a));a[b.data.key.children]=[];a.expandTriggerFlag=!1;a.curSelectedList=[];a.noSelection=!0;a.createdNodes=[];a.zId=0;a._ver=(new Date).getTime()}],B=[],C=[],D=[],E=[],F=[],h={addNodeCache:function(b,a){h.getCache(b).nodes[h.getNodeCacheId(a.tId)]=a},getNodeCacheId:function(b){return b.substring(b.lastIndexOf("_")+1)},addAfterA:function(b){C.push(b)},addBeforeA:function(b){B.push(b)},addInnerAfterA:function(b){E.push(b)},
addInnerBeforeA:function(b){D.push(b)},addInitBind:function(b){w.push(b)},addInitUnBind:function(b){x.push(b)},addInitCache:function(b){y.push(b)},addInitNode:function(b){z.push(b)},addInitProxy:function(b,a){a?s.splice(0,0,b):s.push(b)},addInitRoot:function(b){A.push(b)},addNodesData:function(b,a,c){var d=b.data.key.children;a[d]||(a[d]=[]);if(a[d].length>0)a[d][a[d].length-1].isLastNode=!1,i.setNodeLineIcos(b,a[d][a[d].length-1]);a.isParent=!0;a[d]=a[d].concat(c)},addSelectedNode:function(b,a){var c=
h.getRoot(b);h.isSelectedNode(b,a)||c.curSelectedList.push(a)},addCreatedNode:function(b,a){(b.callback.onNodeCreated||b.view.addDiyDom)&&h.getRoot(b).createdNodes.push(a)},addZTreeTools:function(b){F.push(b)},exSetting:function(b){p.extend(!0,M,b)},fixPIdKeyValue:function(b,a){b.data.simpleData.enable&&(a[b.data.simpleData.pIdKey]=a.parentTId?a.getParentNode()[b.data.simpleData.idKey]:b.data.simpleData.rootPId)},getAfterA:function(b,a,c){for(var d=0,f=C.length;d<f;d++)C[d].apply(this,arguments)},
getBeforeA:function(b,a,c){for(var d=0,f=B.length;d<f;d++)B[d].apply(this,arguments)},getInnerAfterA:function(b,a,c){for(var d=0,f=E.length;d<f;d++)E[d].apply(this,arguments)},getInnerBeforeA:function(b,a,c){for(var d=0,f=D.length;d<f;d++)D[d].apply(this,arguments)},getCache:function(b){return v[b.treeId]},getNextNode:function(b,a){if(!a)return null;for(var c=b.data.key.children,d=a.parentTId?a.getParentNode():h.getRoot(b),f=0,g=d[c].length-1;f<=g;f++)if(d[c][f]===a)return f==g?null:d[c][f+1];return null},
getNodeByParam:function(b,a,c,d){if(!a||!c)return null;for(var f=b.data.key.children,g=0,l=a.length;g<l;g++){if(a[g][c]==d)return a[g];var e=h.getNodeByParam(b,a[g][f],c,d);if(e)return e}return null},getNodeCache:function(b,a){if(!a)return null;var c=v[b.treeId].nodes[h.getNodeCacheId(a)];return c?c:null},getNodeName:function(b,a){return""+a[b.data.key.name]},getNodeTitle:function(b,a){return""+a[b.data.key.title===""?b.data.key.name:b.data.key.title]},getNodes:function(b){return h.getRoot(b)[b.data.key.children]},
getNodesByParam:function(b,a,c,d){if(!a||!c)return[];for(var f=b.data.key.children,g=[],l=0,e=a.length;l<e;l++)a[l][c]==d&&g.push(a[l]),g=g.concat(h.getNodesByParam(b,a[l][f],c,d));return g},getNodesByParamFuzzy:function(b,a,c,d){if(!a||!c)return[];for(var f=b.data.key.children,g=[],d=d.toLowerCase(),l=0,e=a.length;l<e;l++)typeof a[l][c]=="string"&&a[l][c].toLowerCase().indexOf(d)>-1&&g.push(a[l]),g=g.concat(h.getNodesByParamFuzzy(b,a[l][f],c,d));return g},getNodesByFilter:function(b,a,c,d,f){if(!a)return d?
null:[];for(var g=b.data.key.children,e=d?null:[],i=0,n=a.length;i<n;i++){if(j.apply(c,[a[i],f],!1)){if(d)return a[i];e.push(a[i])}var k=h.getNodesByFilter(b,a[i][g],c,d,f);if(d&&k)return k;e=d?k:e.concat(k)}return e},getPreNode:function(b,a){if(!a)return null;for(var c=b.data.key.children,d=a.parentTId?a.getParentNode():h.getRoot(b),f=0,g=d[c].length;f<g;f++)if(d[c][f]===a)return f==0?null:d[c][f-1];return null},getRoot:function(b){return b?u[b.treeId]:null},getRoots:function(){return u},getSetting:function(b){return r[b]},
getSettings:function(){return r},getZTreeTools:function(b){return(b=this.getRoot(this.getSetting(b)))?b.treeTools:null},initCache:function(b){for(var a=0,c=y.length;a<c;a++)y[a].apply(this,arguments)},initNode:function(b,a,c,d,f,g){for(var e=0,h=z.length;e<h;e++)z[e].apply(this,arguments)},initRoot:function(b){for(var a=0,c=A.length;a<c;a++)A[a].apply(this,arguments)},isSelectedNode:function(b,a){for(var c=h.getRoot(b),d=0,f=c.curSelectedList.length;d<f;d++)if(a===c.curSelectedList[d])return!0;return!1},
removeNodeCache:function(b,a){var c=b.data.key.children;if(a[c])for(var d=0,f=a[c].length;d<f;d++)arguments.callee(b,a[c][d]);h.getCache(b).nodes[h.getNodeCacheId(a.tId)]=null},removeSelectedNode:function(b,a){for(var c=h.getRoot(b),d=0,f=c.curSelectedList.length;d<f;d++)if(a===c.curSelectedList[d]||!h.getNodeCache(b,c.curSelectedList[d].tId))c.curSelectedList.splice(d,1),d--,f--},setCache:function(b,a){v[b.treeId]=a},setRoot:function(b,a){u[b.treeId]=a},setZTreeTools:function(b,a){for(var c=0,d=
F.length;c<d;c++)F[c].apply(this,arguments)},transformToArrayFormat:function(b,a){if(!a)return[];var c=b.data.key.children,d=[];if(j.isArray(a))for(var f=0,g=a.length;f<g;f++)d.push(a[f]),a[f][c]&&(d=d.concat(h.transformToArrayFormat(b,a[f][c])));else d.push(a),a[c]&&(d=d.concat(h.transformToArrayFormat(b,a[c])));return d},transformTozTreeFormat:function(b,a){var c,d,f=b.data.simpleData.idKey,g=b.data.simpleData.pIdKey,e=b.data.key.children;if(!f||f==""||!a)return[];if(j.isArray(a)){var h=[],i=[];
for(c=0,d=a.length;c<d;c++)i[a[c][f]]=a[c];for(c=0,d=a.length;c<d;c++)i[a[c][g]]&&a[c][f]!=a[c][g]?(i[a[c][g]][e]||(i[a[c][g]][e]=[]),i[a[c][g]][e].push(a[c])):h.push(a[c]);return h}else return[a]}},m={bindEvent:function(b){for(var a=0,c=w.length;a<c;a++)w[a].apply(this,arguments)},unbindEvent:function(b){for(var a=0,c=x.length;a<c;a++)x[a].apply(this,arguments)},bindTree:function(b){var a={treeId:b.treeId},c=b.treeObj;b.view.txtSelectedEnable||c.bind("selectstart",function(a){a=a.originalEvent.srcElement.nodeName.toLowerCase();
return a==="input"||a==="textarea"}).css({"-moz-user-select":"-moz-none"});c.bind("click",a,m.proxy);c.bind("dblclick",a,m.proxy);c.bind("mouseover",a,m.proxy);c.bind("mouseout",a,m.proxy);c.bind("mousedown",a,m.proxy);c.bind("mouseup",a,m.proxy);c.bind("contextmenu",a,m.proxy)},unbindTree:function(b){b.treeObj.unbind("click",m.proxy).unbind("dblclick",m.proxy).unbind("mouseover",m.proxy).unbind("mouseout",m.proxy).unbind("mousedown",m.proxy).unbind("mouseup",m.proxy).unbind("contextmenu",m.proxy)},
doProxy:function(b){for(var a=[],c=0,d=s.length;c<d;c++){var f=s[c].apply(this,arguments);a.push(f);if(f.stop)break}return a},proxy:function(b){var a=h.getSetting(b.data.treeId);if(!j.uCanDo(a,b))return!0;for(var a=m.doProxy(b),c=!0,d=0,f=a.length;d<f;d++){var g=a[d];g.nodeEventCallback&&(c=g.nodeEventCallback.apply(g,[b,g.node])&&c);g.treeEventCallback&&(c=g.treeEventCallback.apply(g,[b,g.node])&&c)}return c}};G=function(b,a){var c=h.getSetting(b.data.treeId);if(a.open){if(j.apply(c.callback.beforeCollapse,
[c.treeId,a],!0)==!1)return!0}else if(j.apply(c.callback.beforeExpand,[c.treeId,a],!0)==!1)return!0;h.getRoot(c).expandTriggerFlag=!0;i.switchNode(c,a);return!0};H=function(b,a){var c=h.getSetting(b.data.treeId),d=c.view.autoCancelSelected&&(b.ctrlKey||b.metaKey)&&h.isSelectedNode(c,a)?0:c.view.autoCancelSelected&&(b.ctrlKey||b.metaKey)&&c.view.selectedMulti?2:1;if(j.apply(c.callback.beforeClick,[c.treeId,a,d],!0)==!1)return!0;d===0?i.cancelPreSelectedNode(c,a):i.selectNode(c,a,d===2);c.treeObj.trigger(e.event.CLICK,
[b,c.treeId,a,d]);return!0};I=function(b,a){var c=h.getSetting(b.data.treeId);j.apply(c.callback.beforeMouseDown,[c.treeId,a],!0)&&j.apply(c.callback.onMouseDown,[b,c.treeId,a]);return!0};J=function(b,a){var c=h.getSetting(b.data.treeId);j.apply(c.callback.beforeMouseUp,[c.treeId,a],!0)&&j.apply(c.callback.onMouseUp,[b,c.treeId,a]);return!0};K=function(b,a){var c=h.getSetting(b.data.treeId);j.apply(c.callback.beforeDblClick,[c.treeId,a],!0)&&j.apply(c.callback.onDblClick,[b,c.treeId,a]);return!0};
L=function(b,a){var c=h.getSetting(b.data.treeId);j.apply(c.callback.beforeRightClick,[c.treeId,a],!0)&&j.apply(c.callback.onRightClick,[b,c.treeId,a]);return typeof c.callback.onRightClick!="function"};var j={apply:function(b,a,c){return typeof b=="function"?b.apply(N,a?a:[]):c},canAsync:function(b,a){var c=b.data.key.children;return b.async.enable&&a&&a.isParent&&!(a.zAsync||a[c]&&a[c].length>0)},clone:function(b){if(b===null)return null;var a=j.isArray(b)?[]:{},c;for(c in b)a[c]=b[c]instanceof
Date?new Date(b[c].getTime()):typeof b[c]==="object"?arguments.callee(b[c]):b[c];return a},eqs:function(b,a){return b.toLowerCase()===a.toLowerCase()},isArray:function(b){return Object.prototype.toString.apply(b)==="[object Array]"},$:function(b,a,c){a&&typeof a!="string"&&(c=a,a="");return typeof b=="string"?p(b,c?c.treeObj.get(0).ownerDocument:null):p("#"+b.tId+a,c?c.treeObj:null)},getMDom:function(b,a,c){if(!a)return null;for(;a&&a.id!==b.treeId;){for(var d=0,f=c.length;a.tagName&&d<f;d++)if(j.eqs(a.tagName,
c[d].tagName)&&a.getAttribute(c[d].attrName)!==null)return a;a=a.parentNode}return null},getNodeMainDom:function(b){return p(b).parent("li").get(0)||p(b).parentsUntil("li").parent().get(0)},isChildOrSelf:function(b,a){return p(b).closest("#"+a).length>0},uCanDo:function(){return!0}},i={addNodes:function(b,a,c,d){if(!b.data.keep.leaf||!a||a.isParent)if(j.isArray(c)||(c=[c]),b.data.simpleData.enable&&(c=h.transformTozTreeFormat(b,c)),a){var f=k(a,e.id.SWITCH,b),g=k(a,e.id.ICON,b),l=k(a,e.id.UL,b);if(!a.open)i.replaceSwitchClass(a,
f,e.folder.CLOSE),i.replaceIcoClass(a,g,e.folder.CLOSE),a.open=!1,l.css({display:"none"});h.addNodesData(b,a,c);i.createNodes(b,a.level+1,c,a);d||i.expandCollapseParentNode(b,a,!0)}else h.addNodesData(b,h.getRoot(b),c),i.createNodes(b,0,c,null)},appendNodes:function(b,a,c,d,f,g){if(!c)return[];for(var e=[],j=b.data.key.children,k=0,m=c.length;k<m;k++){var o=c[k];if(f){var t=(d?d:h.getRoot(b))[j].length==c.length&&k==0;h.initNode(b,a,o,d,t,k==c.length-1,g);h.addNodeCache(b,o)}t=[];o[j]&&o[j].length>
0&&(t=i.appendNodes(b,a+1,o[j],o,f,g&&o.open));g&&(i.makeDOMNodeMainBefore(e,b,o),i.makeDOMNodeLine(e,b,o),h.getBeforeA(b,o,e),i.makeDOMNodeNameBefore(e,b,o),h.getInnerBeforeA(b,o,e),i.makeDOMNodeIcon(e,b,o),h.getInnerAfterA(b,o,e),i.makeDOMNodeNameAfter(e,b,o),h.getAfterA(b,o,e),o.isParent&&o.open&&i.makeUlHtml(b,o,e,t.join("")),i.makeDOMNodeMainAfter(e,b,o),h.addCreatedNode(b,o))}return e},appendParentULDom:function(b,a){var c=[],d=k(a,b);!d.get(0)&&a.parentTId&&(i.appendParentULDom(b,a.getParentNode()),
d=k(a,b));var f=k(a,e.id.UL,b);f.get(0)&&f.remove();f=i.appendNodes(b,a.level+1,a[b.data.key.children],a,!1,!0);i.makeUlHtml(b,a,c,f.join(""));d.append(c.join(""))},asyncNode:function(b,a,c,d){var f,g;if(a&&!a.isParent)return j.apply(d),!1;else if(a&&a.isAjaxing)return!1;else if(j.apply(b.callback.beforeAsync,[b.treeId,a],!0)==!1)return j.apply(d),!1;if(a)a.isAjaxing=!0,k(a,e.id.ICON,b).attr({style:"","class":e.className.BUTTON+" "+e.className.ICO_LOADING});var l={};for(f=0,g=b.async.autoParam.length;a&&
f<g;f++){var q=b.async.autoParam[f].split("="),n=q;q.length>1&&(n=q[1],q=q[0]);l[n]=a[q]}if(j.isArray(b.async.otherParam))for(f=0,g=b.async.otherParam.length;f<g;f+=2)l[b.async.otherParam[f]]=b.async.otherParam[f+1];else for(var m in b.async.otherParam)l[m]=b.async.otherParam[m];var o=h.getRoot(b)._ver;p.ajax({contentType:b.async.contentType,type:b.async.type,url:j.apply(b.async.url,[b.treeId,a],b.async.url),data:l,dataType:b.async.dataType,success:function(f){if(o==h.getRoot(b)._ver){var g=[];try{g=
!f||f.length==0?[]:typeof f=="string"?eval("("+f+")"):f}catch(l){g=f}if(a)a.isAjaxing=null,a.zAsync=!0;i.setNodeLineIcos(b,a);g&&g!==""?(g=j.apply(b.async.dataFilter,[b.treeId,a,g],g),i.addNodes(b,a,g?j.clone(g):[],!!c)):i.addNodes(b,a,[],!!c);b.treeObj.trigger(e.event.ASYNC_SUCCESS,[b.treeId,a,f]);j.apply(d)}},error:function(c,d,f){if(o==h.getRoot(b)._ver){if(a)a.isAjaxing=null;i.setNodeLineIcos(b,a);b.treeObj.trigger(e.event.ASYNC_ERROR,[b.treeId,a,c,d,f])}}});return!0},cancelPreSelectedNode:function(b,
a){for(var c=h.getRoot(b).curSelectedList,d=c.length-1;d>=0;d--)if(!a||a===c[d])if(k(c[d],e.id.A,b).removeClass(e.node.CURSELECTED),a){h.removeSelectedNode(b,a);break}if(!a)h.getRoot(b).curSelectedList=[]},createNodeCallback:function(b){if(b.callback.onNodeCreated||b.view.addDiyDom)for(var a=h.getRoot(b);a.createdNodes.length>0;){var c=a.createdNodes.shift();j.apply(b.view.addDiyDom,[b.treeId,c]);b.callback.onNodeCreated&&b.treeObj.trigger(e.event.NODECREATED,[b.treeId,c])}},createNodes:function(b,
a,c,d){if(c&&c.length!=0){var f=h.getRoot(b),g=b.data.key.children,g=!d||d.open||!!k(d[g][0],b).get(0);f.createdNodes=[];a=i.appendNodes(b,a,c,d,!0,g);d?(d=k(d,e.id.UL,b),d.get(0)&&d.append(a.join(""))):b.treeObj.append(a.join(""));i.createNodeCallback(b)}},destroy:function(b){b&&(h.initCache(b),h.initRoot(b),m.unbindTree(b),m.unbindEvent(b),b.treeObj.empty(),delete r[b.treeId])},expandCollapseNode:function(b,a,c,d,f){var g=h.getRoot(b),l=b.data.key.children;if(a){if(g.expandTriggerFlag){var q=f,
f=function(){q&&q();a.open?b.treeObj.trigger(e.event.EXPAND,[b.treeId,a]):b.treeObj.trigger(e.event.COLLAPSE,[b.treeId,a])};g.expandTriggerFlag=!1}if(!a.open&&a.isParent&&(!k(a,e.id.UL,b).get(0)||a[l]&&a[l].length>0&&!k(a[l][0],b).get(0)))i.appendParentULDom(b,a),i.createNodeCallback(b);if(a.open==c)j.apply(f,[]);else{var c=k(a,e.id.UL,b),g=k(a,e.id.SWITCH,b),n=k(a,e.id.ICON,b);a.isParent?(a.open=!a.open,a.iconOpen&&a.iconClose&&n.attr("style",i.makeNodeIcoStyle(b,a)),a.open?(i.replaceSwitchClass(a,
g,e.folder.OPEN),i.replaceIcoClass(a,n,e.folder.OPEN),d==!1||b.view.expandSpeed==""?(c.show(),j.apply(f,[])):a[l]&&a[l].length>0?c.slideDown(b.view.expandSpeed,f):(c.show(),j.apply(f,[]))):(i.replaceSwitchClass(a,g,e.folder.CLOSE),i.replaceIcoClass(a,n,e.folder.CLOSE),d==!1||b.view.expandSpeed==""||!(a[l]&&a[l].length>0)?(c.hide(),j.apply(f,[])):c.slideUp(b.view.expandSpeed,f))):j.apply(f,[])}}else j.apply(f,[])},expandCollapseParentNode:function(b,a,c,d,f){a&&(a.parentTId?(i.expandCollapseNode(b,
a,c,d),a.parentTId&&i.expandCollapseParentNode(b,a.getParentNode(),c,d,f)):i.expandCollapseNode(b,a,c,d,f))},expandCollapseSonNode:function(b,a,c,d,f){var g=h.getRoot(b),e=b.data.key.children,g=a?a[e]:g[e],e=a?!1:d,j=h.getRoot(b).expandTriggerFlag;h.getRoot(b).expandTriggerFlag=!1;if(g)for(var k=0,m=g.length;k<m;k++)g[k]&&i.expandCollapseSonNode(b,g[k],c,e);h.getRoot(b).expandTriggerFlag=j;i.expandCollapseNode(b,a,c,d,f)},makeDOMNodeIcon:function(b,a,c){var d=h.getNodeName(a,c),d=a.view.nameIsHTML?
d:d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");b.push("<span id='",c.tId,e.id.ICON,"' title='' treeNode",e.id.ICON," class='",i.makeNodeIcoClass(a,c),"' style='",i.makeNodeIcoStyle(a,c),"'></span><span id='",c.tId,e.id.SPAN,"'>",d,"</span>")},makeDOMNodeLine:function(b,a,c){b.push("<span id='",c.tId,e.id.SWITCH,"' title='' class='",i.makeNodeLineClass(a,c),"' treeNode",e.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(b){b.push("</li>")},makeDOMNodeMainBefore:function(b,
a,c){b.push("<li id='",c.tId,"' class='",e.className.LEVEL,c.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(b){b.push("</a>")},makeDOMNodeNameBefore:function(b,a,c){var d=h.getNodeTitle(a,c),f=i.makeNodeUrl(a,c),g=i.makeNodeFontCss(a,c),l=[],k;for(k in g)l.push(k,":",g[k],";");b.push("<a id='",c.tId,e.id.A,"' class='",e.className.LEVEL,c.level,"' treeNode",e.id.A,' onclick="',c.click||"",'" ',f!=null&&f.length>0?"href='"+f+"'":""," target='",i.makeNodeTarget(c),
"' style='",l.join(""),"'");j.apply(a.view.showTitle,[a.treeId,c],a.view.showTitle)&&d&&b.push("title='",d.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'");b.push(">")},makeNodeFontCss:function(b,a){var c=j.apply(b.view.fontCss,[b.treeId,a],b.view.fontCss);return c&&typeof c!="function"?c:{}},makeNodeIcoClass:function(b,a){var c=["ico"];a.isAjaxing||(c[0]=(a.iconSkin?a.iconSkin+"_":"")+c[0],a.isParent?c.push(a.open?e.folder.OPEN:e.folder.CLOSE):c.push(e.folder.DOCU));return e.className.BUTTON+
" "+c.join("_")},makeNodeIcoStyle:function(b,a){var c=[];if(!a.isAjaxing){var d=a.isParent&&a.iconOpen&&a.iconClose?a.open?a.iconOpen:a.iconClose:a.icon;d&&c.push("background:url(",d,") 0 0 no-repeat;");(b.view.showIcon==!1||!j.apply(b.view.showIcon,[b.treeId,a],!0))&&c.push("width:0px;height:0px;")}return c.join("")},makeNodeLineClass:function(b,a){var c=[];b.view.showLine?a.level==0&&a.isFirstNode&&a.isLastNode?c.push(e.line.ROOT):a.level==0&&a.isFirstNode?c.push(e.line.ROOTS):a.isLastNode?c.push(e.line.BOTTOM):
c.push(e.line.CENTER):c.push(e.line.NOLINE);a.isParent?c.push(a.open?e.folder.OPEN:e.folder.CLOSE):c.push(e.folder.DOCU);return i.makeNodeLineClassEx(a)+c.join("_")},makeNodeLineClassEx:function(b){return e.className.BUTTON+" "+e.className.LEVEL+b.level+" "+e.className.SWITCH+" "},makeNodeTarget:function(b){return b.target||"_blank"},makeNodeUrl:function(b,a){var c=b.data.key.url;return a[c]?a[c]:null},makeUlHtml:function(b,a,c,d){c.push("<ul id='",a.tId,e.id.UL,"' class='",e.className.LEVEL,a.level,
" ",i.makeUlLineClass(b,a),"' style='display:",a.open?"block":"none","'>");c.push(d);c.push("</ul>")},makeUlLineClass:function(b,a){return b.view.showLine&&!a.isLastNode?e.line.LINE:""},removeChildNodes:function(b,a){if(a){var c=b.data.key.children,d=a[c];if(d){for(var f=0,g=d.length;f<g;f++)h.removeNodeCache(b,d[f]);h.removeSelectedNode(b);delete a[c];b.data.keep.parent?k(a,e.id.UL,b).empty():(a.isParent=!1,a.open=!1,c=k(a,e.id.SWITCH,b),d=k(a,e.id.ICON,b),i.replaceSwitchClass(a,c,e.folder.DOCU),
i.replaceIcoClass(a,d,e.folder.DOCU),k(a,e.id.UL,b).remove())}}},setFirstNode:function(b,a){var c=b.data.key.children;if(a[c].length>0)a[c][0].isFirstNode=!0},setLastNode:function(b,a){var c=b.data.key.children,d=a[c].length;if(d>0)a[c][d-1].isLastNode=!0},removeNode:function(b,a){var c=h.getRoot(b),d=b.data.key.children,f=a.parentTId?a.getParentNode():c;a.isFirstNode=!1;a.isLastNode=!1;a.getPreNode=function(){return null};a.getNextNode=function(){return null};if(h.getNodeCache(b,a.tId)){k(a,b).remove();
h.removeNodeCache(b,a);h.removeSelectedNode(b,a);for(var g=0,l=f[d].length;g<l;g++)if(f[d][g].tId==a.tId){f[d].splice(g,1);break}i.setFirstNode(b,f);i.setLastNode(b,f);var j,g=f[d].length;if(!b.data.keep.parent&&g==0)f.isParent=!1,f.open=!1,g=k(f,e.id.UL,b),l=k(f,e.id.SWITCH,b),j=k(f,e.id.ICON,b),i.replaceSwitchClass(f,l,e.folder.DOCU),i.replaceIcoClass(f,j,e.folder.DOCU),g.css("display","none");else if(b.view.showLine&&g>0){var n=f[d][g-1],g=k(n,e.id.UL,b),l=k(n,e.id.SWITCH,b);j=k(n,e.id.ICON,b);
f==c?f[d].length==1?i.replaceSwitchClass(n,l,e.line.ROOT):(c=k(f[d][0],e.id.SWITCH,b),i.replaceSwitchClass(f[d][0],c,e.line.ROOTS),i.replaceSwitchClass(n,l,e.line.BOTTOM)):i.replaceSwitchClass(n,l,e.line.BOTTOM);g.removeClass(e.line.LINE)}}},replaceIcoClass:function(b,a,c){if(a&&!b.isAjaxing&&(b=a.attr("class"),b!=void 0)){b=b.split("_");switch(c){case e.folder.OPEN:case e.folder.CLOSE:case e.folder.DOCU:b[b.length-1]=c}a.attr("class",b.join("_"))}},replaceSwitchClass:function(b,a,c){if(a){var d=
a.attr("class");if(d!=void 0){d=d.split("_");switch(c){case e.line.ROOT:case e.line.ROOTS:case e.line.CENTER:case e.line.BOTTOM:case e.line.NOLINE:d[0]=i.makeNodeLineClassEx(b)+c;break;case e.folder.OPEN:case e.folder.CLOSE:case e.folder.DOCU:d[1]=c}a.attr("class",d.join("_"));c!==e.folder.DOCU?a.removeAttr("disabled"):a.attr("disabled","disabled")}}},selectNode:function(b,a,c){c||i.cancelPreSelectedNode(b);k(a,e.id.A,b).addClass(e.node.CURSELECTED);h.addSelectedNode(b,a)},setNodeFontCss:function(b,
a){var c=k(a,e.id.A,b),d=i.makeNodeFontCss(b,a);d&&c.css(d)},setNodeLineIcos:function(b,a){if(a){var c=k(a,e.id.SWITCH,b),d=k(a,e.id.UL,b),f=k(a,e.id.ICON,b),g=i.makeUlLineClass(b,a);g.length==0?d.removeClass(e.line.LINE):d.addClass(g);c.attr("class",i.makeNodeLineClass(b,a));a.isParent?c.removeAttr("disabled"):c.attr("disabled","disabled");f.removeAttr("style");f.attr("style",i.makeNodeIcoStyle(b,a));f.attr("class",i.makeNodeIcoClass(b,a))}},setNodeName:function(b,a){var c=h.getNodeTitle(b,a),d=
k(a,e.id.SPAN,b);d.empty();b.view.nameIsHTML?d.html(h.getNodeName(b,a)):d.text(h.getNodeName(b,a));j.apply(b.view.showTitle,[b.treeId,a],b.view.showTitle)&&k(a,e.id.A,b).attr("title",!c?"":c)},setNodeTarget:function(b,a){k(a,e.id.A,b).attr("target",i.makeNodeTarget(a))},setNodeUrl:function(b,a){var c=k(a,e.id.A,b),d=i.makeNodeUrl(b,a);d==null||d.length==0?c.removeAttr("href"):c.attr("href",d)},switchNode:function(b,a){a.open||!j.canAsync(b,a)?i.expandCollapseNode(b,a,!a.open):b.async.enable?i.asyncNode(b,
a)||i.expandCollapseNode(b,a,!a.open):a&&i.expandCollapseNode(b,a,!a.open)}};p.fn.zTree={consts:{className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",
NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_z:{tools:j,view:i,event:m,data:h},getZTreeObj:function(b){return(b=h.getZTreeTools(b))?b:null},destroy:function(b){if(b&&b.length>0)i.destroy(h.getSetting(b));else for(var a in r)i.destroy(r[a])},init:function(b,a,c){var d=j.clone(M);p.extend(!0,d,a);d.treeId=b.attr("id");d.treeObj=b;d.treeObj.empty();r[d.treeId]=d;if(typeof document.body.style.maxHeight==="undefined")d.view.expandSpeed=
"";h.initRoot(d);b=h.getRoot(d);a=d.data.key.children;c=c?j.clone(j.isArray(c)?c:[c]):[];b[a]=d.data.simpleData.enable?h.transformTozTreeFormat(d,c):c;h.initCache(d);m.unbindTree(d);m.bindTree(d);m.unbindEvent(d);m.bindEvent(d);c={setting:d,addNodes:function(a,b,c){function e(){i.addNodes(d,a,h,c==!0)}if(!b)return null;a||(a=null);if(a&&!a.isParent&&d.data.keep.leaf)return null;var h=j.clone(j.isArray(b)?b:[b]);j.canAsync(d,a)?i.asyncNode(d,a,c,e):e();return h},cancelSelectedNode:function(a){i.cancelPreSelectedNode(d,
a)},destroy:function(){i.destroy(d)},expandAll:function(a){a=!!a;i.expandCollapseSonNode(d,null,a,!0);return a},expandNode:function(a,b,c,e,n){if(!a||!a.isParent)return null;b!==!0&&b!==!1&&(b=!a.open);if((n=!!n)&&b&&j.apply(d.callback.beforeExpand,[d.treeId,a],!0)==!1)return null;else if(n&&!b&&j.apply(d.callback.beforeCollapse,[d.treeId,a],!0)==!1)return null;b&&a.parentTId&&i.expandCollapseParentNode(d,a.getParentNode(),b,!1);if(b===a.open&&!c)return null;h.getRoot(d).expandTriggerFlag=n;if(!j.canAsync(d,
a)&&c)i.expandCollapseSonNode(d,a,b,!0,function(){if(e!==!1)try{k(a,d).focus().blur()}catch(b){}});else if(a.open=!b,i.switchNode(this.setting,a),e!==!1)try{k(a,d).focus().blur()}catch(m){}return b},getNodes:function(){return h.getNodes(d)},getNodeByParam:function(a,b,c){return!a?null:h.getNodeByParam(d,c?c[d.data.key.children]:h.getNodes(d),a,b)},getNodeByTId:function(a){return h.getNodeCache(d,a)},getNodesByParam:function(a,b,c){return!a?null:h.getNodesByParam(d,c?c[d.data.key.children]:h.getNodes(d),
a,b)},getNodesByParamFuzzy:function(a,b,c){return!a?null:h.getNodesByParamFuzzy(d,c?c[d.data.key.children]:h.getNodes(d),a,b)},getNodesByFilter:function(a,b,c,e){b=!!b;return!a||typeof a!="function"?b?null:[]:h.getNodesByFilter(d,c?c[d.data.key.children]:h.getNodes(d),a,b,e)},getNodeIndex:function(a){if(!a)return null;for(var b=d.data.key.children,c=a.parentTId?a.getParentNode():h.getRoot(d),e=0,i=c[b].length;e<i;e++)if(c[b][e]==a)return e;return-1},getSelectedNodes:function(){for(var a=[],b=h.getRoot(d).curSelectedList,
c=0,e=b.length;c<e;c++)a.push(b[c]);return a},isSelectedNode:function(a){return h.isSelectedNode(d,a)},reAsyncChildNodes:function(a,b,c){if(this.setting.async.enable){var j=!a;j&&(a=h.getRoot(d));if(b=="refresh"){for(var b=this.setting.data.key.children,m=0,p=a[b]?a[b].length:0;m<p;m++)h.removeNodeCache(d,a[b][m]);h.removeSelectedNode(d);a[b]=[];j?this.setting.treeObj.empty():k(a,e.id.UL,d).empty()}i.asyncNode(this.setting,j?null:a,!!c)}},refresh:function(){this.setting.treeObj.empty();var a=h.getRoot(d),
b=a[d.data.key.children];h.initRoot(d);a[d.data.key.children]=b;h.initCache(d);i.createNodes(d,0,a[d.data.key.children])},removeChildNodes:function(a){if(!a)return null;var b=a[d.data.key.children];i.removeChildNodes(d,a);return b?b:null},removeNode:function(a,b){a&&(b=!!b,b&&j.apply(d.callback.beforeRemove,[d.treeId,a],!0)==!1||(i.removeNode(d,a),b&&this.setting.treeObj.trigger(e.event.REMOVE,[d.treeId,a])))},selectNode:function(a,b){if(a&&j.uCanDo(d)){b=d.view.selectedMulti&&b;if(a.parentTId)i.expandCollapseParentNode(d,
a.getParentNode(),!0,!1,function(){try{k(a,d).focus().blur()}catch(b){}});else try{k(a,d).focus().blur()}catch(c){}i.selectNode(d,a,b)}},transformTozTreeNodes:function(a){return h.transformTozTreeFormat(d,a)},transformToArray:function(a){return h.transformToArrayFormat(d,a)},updateNode:function(a){a&&k(a,d).get(0)&&j.uCanDo(d)&&(i.setNodeName(d,a),i.setNodeTarget(d,a),i.setNodeUrl(d,a),i.setNodeLineIcos(d,a),i.setNodeFontCss(d,a))}};b.treeTools=c;h.setZTreeTools(d,c);b[a]&&b[a].length>0?i.createNodes(d,
0,b[a]):d.async.enable&&d.async.url&&d.async.url!==""&&i.asyncNode(d);return c}};var N=p.fn.zTree,k=j.$,e=N.consts})(jQuery);
 },"lib/setup": function(exports, require, module) { (function() {
  require('spine');

  require('spine/lib/local');

  require('spine/lib/manager');

  require('spine/lib/route');

}).call(this);
 },"models/bill": function(exports, require, module) { (function() {
  var Bill, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Bill = (function(superClass) {
    extend(Bill, superClass);

    function Bill() {
      return Bill.__super__.constructor.apply(this, arguments);
    }

    Bill.configure('Bill', 'id', 'name');

    Bill.extend(Spine.Model.Ajax);

    Bill.url = 'woo/index.php? cmd=Bill';

    Bill.fetch = function(params) {
      params || (params = {
        data: {
          filter: this.attributes,
          token: sessionStorage.token
        },
        processData: true
      });
      this.ajax().fetch(params);
      return true;
    };

    Bill.current = null;

    Bill.setCurrent = function(item) {
      return this.current = item;
    };

    Bill.getCurrent = function() {
      if (!this.current) {
        this.setCurrent(this.first());
      }
      return this.current;
    };

    return Bill;

  })(Spine.Model);

  module.exports = Bill;

}).call(this);
 },"models/billcontent": function(exports, require, module) { (function() {
  var Billcontent, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Billcontent = (function(superClass) {
    extend(Billcontent, superClass);

    function Billcontent() {
      return Billcontent.__super__.constructor.apply(this, arguments);
    }

    Billcontent.configure('Billcontent', 'id', 'name');

    Billcontent.extend(Spine.Model.Ajax);

    Billcontent.url = 'woo/index.php? cmd=BillContent';

    Billcontent.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: sessionStorage.token
        },
        processData: true
      });
      return Billcontent.__super__.constructor.fetch.call(this, params);
    };

    Billcontent.current = null;

    Billcontent.setCurrent = function(item) {
      return this.current = item;
    };

    Billcontent.getCurrent = function() {
      if (!this.current) {
        this.setCurrent(this.first());
      }
      return this.current;
    };

    return Billcontent;

  })(Spine.Model);

  module.exports = Billcontent;

}).call(this);
 },"models/billfree": function(exports, require, module) { (function() {
  var Billfree, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Billfree = (function(superClass) {
    extend(Billfree, superClass);

    function Billfree() {
      return Billfree.__super__.constructor.apply(this, arguments);
    }

    Billfree.configure('Billfree', 'id', 'name');

    Billfree.extend(Spine.Model.Ajax);

    Billfree.url = 'woo/index.php? cmd=BillFree';

    Billfree.fetch = function(params) {
      var condition, fields;
      fields = this.attributes;
      condition = [
        {
          field: "userid",
          value: "?",
          operator: "eq"
        }
      ];
      params || (params = {
        data: $.param({
          cond: condition,
          filter: fields,
          token: sessionStorage.token
        })
      });
      return Billfree.__super__.constructor.fetch.call(this, params);
    };

    Billfree.current = null;

    Billfree.setCurrent = function(item) {
      return this.current = item;
    };

    Billfree.getCurrent = function() {
      if (!this.current) {
        this.setCurrent(this.first());
      }
      return this.current;
    };

    return Billfree;

  })(Spine.Model);

  module.exports = Billfree;

}).call(this);
 },"models/billsale": function(exports, require, module) { (function() {
  var Billsale, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Billsale = (function(superClass) {
    extend(Billsale, superClass);

    function Billsale() {
      return Billsale.__super__.constructor.apply(this, arguments);
    }

    Billsale.configure('Billsale', 'id', 'name', 'address', 'tel', 'duty', 'bank', 'account');

    Billsale.extend(Spine.Model.Ajax);

    Billsale.url = 'woo/index.php? cmd=BillSale';

    Billsale.fetch = function(params) {
      var condition;
      condition = [
        {
          field: "userid",
          value: "?",
          operator: "eq"
        }
      ];
      params || (params = {
        data: {
          cond: condition,
          filter: this.attributes,
          token: sessionStorage.token
        },
        processData: true
      });
      return Billsale.__super__.constructor.fetch.call(this, params);
    };

    Billsale.current = null;

    Billsale.setCurrent = function(item) {
      return this.current = item;
    };

    Billsale.getCurrent = function() {
      if (!this.current) {
        this.setCurrent(this.first());
      }
      return this.current;
    };

    Billsale.prototype.titles = function() {
      return {
        name: "单位名称",
        duty: "纳税人识别号",
        address: "注册地址",
        tel: "注册电话",
        bank: "开户银行",
        account: "银行帐户"
      };
    };

    return Billsale;

  })(Spine.Model);

  module.exports = Billsale;

}).call(this);
 },"models/carriagecharge": function(exports, require, module) { (function() {
  var Carriagecharge, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Carriagecharge = (function(superClass) {
    extend(Carriagecharge, superClass);

    function Carriagecharge() {
      return Carriagecharge.__super__.constructor.apply(this, arguments);
    }

    Carriagecharge.configure('Carriagecharge', 'id', 'grade1', 'grade2', 'grade3', 'grade4', 'grade5');

    Carriagecharge.extend(Spine.Model.Local);

    Carriagecharge.url = 'woo/index.php? cmd=CarriageCharge';

    return Carriagecharge;

  })(Spine.Model);

  module.exports = Carriagecharge;

}).call(this);
 },"models/carriageclass": function(exports, require, module) { (function() {
  var Carriageclass, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Carriageclass = (function(superClass) {
    extend(Carriageclass, superClass);

    function Carriageclass() {
      return Carriageclass.__super__.constructor.apply(this, arguments);
    }

    Carriageclass.configure('Carriageclass', 'id', 'address', 'chargeid');

    Carriageclass.extend(Spine.Model.Local);

    Carriageclass.url = 'woo/index.php? cmd=CarriageClass';

    return Carriageclass;

  })(Spine.Model);

  module.exports = Carriageclass;

}).call(this);
 },"models/catalog": function(exports, require, module) { (function() {
  var Catalog;

  Catalog = (function() {
    function Catalog() {}

    Catalog.tools = [
      {
        "name": "站点管理",
        option: [
          {
            name: "站点信息",
            action: "web"
          }, {
            name: "新闻管理",
            action: "news"
          }, {
            name: "留言管理",
            action: "leaveword"
          }
        ],
        right: 0
      }, {
        "name": "经营管理",
        option: [
          {
            name: "客户管理",
            action: "custom"
          }, {
            name: "产品管理",
            action: "good"
          }, {
            name: "订单管理",
            action: "order"
          }, {
            name: "材料管理",
            action: "werehouse"
          }
        ],
        right: 0
      }, {
        "name": "生产管理",
        option: [
          {
            name: "进度管理",
            action: "progress"
          }, {
            name: "干燥管理",
            action: "drying"
          }
        ],
        right: 0
      }, {
        "name": "劳资管理",
        option: [
          {
            name: "员工管理",
            action: "employee"
          }
        ],
        right: 0
      }
    ];

    Catalog.all = function() {
      return this.tools;
    };

    Catalog.getRight = function(actionValue) {
      var bits, i, index1, index2, item1, item2, j, len, len1, ref, ref1;
      ref = this.tools;
      for (index1 = i = 0, len = ref.length; i < len; index1 = ++i) {
        item1 = ref[index1];
        ref1 = item1.option;
        for (index2 = j = 0, len1 = ref1.length; j < len1; index2 = ++j) {
          item2 = ref1[index2];
          if (!(item2.action === actionValue)) {
            continue;
          }
          bits = (item1.option.length - index2 - 1) * 2;
          return (item1.right >> bits) & 3;
        }
      }
    };

    return Catalog;

  })();

  module.exports = Catalog;

}).call(this);
 },"models/city": function(exports, require, module) { (function() {
  var City, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  City = (function(superClass) {
    extend(City, superClass);

    function City() {
      return City.__super__.constructor.apply(this, arguments);
    }

    City.configure('City', 'id', 'name');

    City.extend(Spine.Model.Local);

    City.url = 'index.php? cmd=City';

    return City;

  })(Spine.Model);

  module.exports = City;

}).call(this);
 },"models/company": function(exports, require, module) { (function() {
  var Company, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Company = (function(superClass) {
    extend(Company, superClass);

    function Company() {
      return Company.__super__.constructor.apply(this, arguments);
    }

    Company.configure('Company', 'id', "name");

    Company.extend(Spine.Model.Ajax);

    Company.url = 'woo/index.php? cmd=Company';

    return Company;

  })(Spine.Model);

  module.exports = Company;

}).call(this);
 },"models/consignee": function(exports, require, module) { (function() {
  var Consignee, Order, Province, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Order = require('models/order');

  Province = require('models/province');

  Consignee = (function(superClass) {
    extend(Consignee, superClass);

    function Consignee() {
      return Consignee.__super__.constructor.apply(this, arguments);
    }

    Consignee.configure('Consignee', 'id', 'name', 'country', 'province', 'city', 'zone', 'address', 'email', 'mobile', 'tel', 'postcard');

    Consignee.extend(Spine.Model.Ajax);

    Consignee.url = 'woo/index.php? cmd=Consignee';

    Consignee.current = null;

    Consignee.filter = function(query) {
      if (!query) {
        return this.all();
      }
      query = query.toLowerCase();
      return this.select(function(item) {
        var ref, ref1;
        return ((ref = item.name) != null ? ref.toLowerCase().indexOf(query) : void 0) !== -1 || ((ref1 = item.email) != null ? ref1.toLowerCase().indexOf(query) : void 0) !== -1;
      });
    };

    Consignee.setCurrent = function(item) {
      return this.current = item;
    };

    Consignee.getCurrent = function() {
      if (!this.current) {
        this.setCurrent(this.first());
      }
      return this.current;
    };

    Consignee.prototype.getAddressFirst = function() {
      return this.getProvinceName() + this.getCityName() + this.getZoneName();
    };

    Consignee.prototype.getProvinceName = function() {
      return Province.find(this.province).name;
    };

    Consignee.prototype.getCityName = function() {
      return Province.getCityName(this.province + this.city);
    };

    Consignee.prototype.getZoneName = function() {
      return Province.getZoneName(this.province + this.city + this.zone);
    };

    return Consignee;

  })(Spine.Model);

  module.exports = Consignee;

}).call(this);
 },"models/country": function(exports, require, module) { (function() {
  var Country, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Country = (function(superClass) {
    extend(Country, superClass);

    function Country() {
      return Country.__super__.constructor.apply(this, arguments);
    }

    Country.configure('Country', 'id', 'code3', 'name');

    Country.extend(Spine.Model.Ajax);

    Country.url = 'index.php? cmd=Country';

    Country.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Country.__super__.constructor.fetch.call(this, params);
    };

    return Country;

  })(Spine.Model);

  module.exports = Country;

}).call(this);
 },"models/custom": function(exports, require, module) { (function() {
  var Custom, Person, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Person = require('models/person');

  require('spine/lib/ajax');

  Custom = (function(superClass) {
    extend(Custom, superClass);

    function Custom() {
      return Custom.__super__.constructor.apply(this, arguments);
    }

    Custom.configure('Custom', 'id', "userid", 'type', "emailstate", "mobilestate", "accountstate", "ip");

    Custom.extend(Spine.Model.Ajax);

    Custom.url = 'index.php? cmd=Custom';

    Custom.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Custom.__super__.constructor.fetch.call(this, params);
    };

    Custom.prototype.getName = function() {
      var item, result;
      result = "";
      if (Person.exists(this.userid)) {
        item = Person.find(this.userid);
        result = item.name || item.username;
      }
      return result;
    };

    return Custom;

  })(Spine.Model);

  module.exports = Custom;

}).call(this);
 },"models/department": function(exports, require, module) { (function() {
  var Department, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Department = (function(superClass) {
    extend(Department, superClass);

    function Department() {
      return Department.__super__.constructor.apply(this, arguments);
    }

    Department.configure('Department', 'id', 'name');

    Department.extend(Spine.Model.Ajax);

    Department.url = 'index.php? cmd=Department';

    Department.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: sessionStorage.token
        },
        processData: true
      });
      this.scope = "woo";
      return Department.__super__.constructor.fetch.call(this, params);
    };

    Department.append = function(ids) {
      var condition, fields, indices;
      fields = this.attributes;
      condition = [
        {
          field: "id",
          value: $.unique(ids),
          operator: "in"
        }
      ];
      indices = {
        cond: condition,
        filter: fields,
        token: $.fn.cookie('PHPSESSID')
      };
      return $.getJSON(this.url, indices, (function(_this) {
        return function(data) {
          if (data.length > 0) {
            return _this.refresh(data, {
              clear: false
            });
          }
        };
      })(this));
    };

    return Department;

  })(Spine.Model);

  module.exports = Department;

}).call(this);
 },"models/departmentright": function(exports, require, module) { (function() {
  var Department, Departmentright, Person, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Person = require('models/person');

  Department = require('models/department');

  require('spine/lib/ajax');

  Departmentright = (function(superClass) {
    extend(Departmentright, superClass);

    function Departmentright() {
      return Departmentright.__super__.constructor.apply(this, arguments);
    }

    Departmentright.configure('Departmentright', 'id', "departmentid", "name", "bit");

    Departmentright.extend(Spine.Model.Ajax);

    Departmentright.url = 'index.php? cmd=DepartmentRight';

    Departmentright.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Departmentright.__super__.constructor.fetch.call(this, params);
    };

    Departmentright.append = function(conditions) {
      var fields, indices;
      fields = this.attributes;
      indices = {
        cond: conditions,
        filter: fields,
        token: $.fn.cookie('PHPSESSID')
      };
      return $.getJSON(this.url, indices, (function(_this) {
        return function(data) {
          return _this.refresh(data, {
            clear: false
          });
        };
      })(this));
    };

    Departmentright.prototype.getName = function() {
      var item, result;
      result = "";
      if (Person.exists(this.userid)) {
        item = Person.find(parseInt(this.userid));
        result = item.name || item.username;
      }
      return result;
    };

    Departmentright.prototype.getDepartment = function() {
      var item;
      item = Department.find(this.departmentid);
      return item.name;
    };

    return Departmentright;

  })(Spine.Model);

  module.exports = Departmentright;

}).call(this);
 },"models/drydata": function(exports, require, module) { (function() {
  var Drydata, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Drydata = (function(superClass) {
    extend(Drydata, superClass);

    function Drydata() {
      return Drydata.__super__.constructor.apply(this, arguments);
    }

    Drydata.configure('Drydata', 'id', 'mainid', 'time', 'settingtemperature', 'temperature', 'mode');

    Drydata.extend(Spine.Model.Ajax);

    Drydata.url = 'index.php? cmd=DryData';

    Drydata.fetch = function(params) {
      var condition;
      this.scope = 'woo/';
      condition = [
        {
          field: "state",
          value: "0",
          operator: "eq"
        }
      ];
      params || (params = {
        data: {
          filter: this.attributes,
          cond: condition,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.ajax().fetch(params);
      return true;
    };

    Drydata.getNew = function(mainid, sucess) {
      var condition, fields, ref, token;
      fields = this.attributes;
      condition = [
        {
          field: "mainid",
          value: mainid,
          operator: "eq"
        }, {
          field: "id",
          value: ((ref = Drydata.last()) != null ? ref.id : void 0) || 0,
          operator: "gt"
        }
      ];
      token = $.fn.cookie('PHPSESSID');
      return jQuery.getJSON(this.url, {
        cond: condition,
        filter: fields,
        token: token
      }, (function(_this) {
        return function(result) {
          var data, i, j, len, o, results;
          if (result.length) {
            results = [];
            for (i = j = 0, len = result.length; j < len; i = ++j) {
              o = result[i];
              if (!(!Drydata.exists(o.id))) {
                continue;
              }
              data = new Drydata(o);
              data.save({
                ajax: false
              });
              results.push(typeof sucess === "function" ? sucess(data, i === result.length - 1) : void 0);
            }
            return results;
          }
        };
      })(this));
    };

    return Drydata;

  })(Spine.Model);

  module.exports = Drydata;

}).call(this);
 },"models/drymain": function(exports, require, module) { (function() {
  var Drymain, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Drymain = (function(superClass) {
    extend(Drymain, superClass);

    function Drymain() {
      return Drymain.__super__.constructor.apply(this, arguments);
    }

    Drymain.configure('Drymain', 'id', 'starttime', 'lineno', 'state');

    Drymain.extend(Spine.Model.Ajax);

    Drymain.url = 'woo/index.php? cmd=DryMain';

    Drymain.fetch = function(params) {
      params || (params = {
        data: {
          filter: this.attributes,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.ajax().fetch(params);
      return true;
    };

    Drymain.getStart = function(sucess) {
      var condition, fields, token;
      fields = this.attributes;
      condition = [
        {
          field: "state",
          value: 0,
          operator: "eq"
        }
      ];
      token = $.fn.cookie('PHPSESSID');
      return jQuery.getJSON(this.url, {
        cond: condition,
        filter: fields,
        token: token
      }, (function(_this) {
        return function(result) {
          var data, i, len, o, results;
          if (result.length) {
            results = [];
            for (i = 0, len = result.length; i < len; i++) {
              o = result[i];
              data = new Drymain(o);
              data.save({
                ajax: false
              });
              results.push(typeof sucess === "function" ? sucess(data) : void 0);
            }
            return results;
          }
        };
      })(this));
    };

    Drymain.current = null;

    Drymain.setCurrent = function(item) {
      return this.current = item;
    };

    Drymain.getCurrent = function() {
      if (!this.current) {
        this.setCurrent(this.first());
      }
      return this.current;
    };

    return Drymain;

  })(Spine.Model);

  module.exports = Drymain;

}).call(this);
 },"models/employee": function(exports, require, module) { (function() {
  var Department, Employee, Person, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Person = require('models/person');

  Department = require('models/department');

  require('spine/lib/ajax');

  Employee = (function(superClass) {
    extend(Employee, superClass);

    function Employee() {
      return Employee.__super__.constructor.apply(this, arguments);
    }

    Employee.configure('Employee', 'id', "userid", "departmentid", "postids", "startdate", "dateofbirth", "myright", "rights");

    Employee.extend(Spine.Model.Ajax);

    Employee.url = 'index.php? cmd=Employee';

    Employee.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Employee.__super__.constructor.fetch.call(this, params);
    };

    Employee.append = function(conditions) {
      var fields, indices;
      fields = this.attributes;
      indices = {
        cond: conditions,
        filter: fields,
        token: $.fn.cookie('PHPSESSID')
      };
      return $.getJSON(this.url, indices, (function(_this) {
        return function(data) {
          if (data.length > 0) {
            return _this.refresh(data, {
              clear: false
            });
          }
        };
      })(this));
    };

    Employee.prototype.getName = function() {
      var item, result;
      result = "";
      if (Person.exists(this.userid)) {
        item = Person.find(parseInt(this.userid));
        result = item.name || item.username;
      }
      return result;
    };

    Employee.prototype.getDepartment = function() {
      var item;
      item = Department.find(this.departmentid);
      return item.name;
    };

    return Employee;

  })(Spine.Model);

  module.exports = Employee;

}).call(this);
 },"models/good": function(exports, require, module) { (function() {
  var Good, Goodclass, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Goodclass = require('models/goodclass');

  Good = (function(superClass) {
    extend(Good, superClass);

    function Good() {
      return Good.__super__.constructor.apply(this, arguments);
    }

    Good.configure('Good', 'id', 'classid', 'length', 'width', 'think', 'unitlen', 'unitwid', 'unitthi', 'size', 'picture', 'unit', 'sharp', 'weight', 'homeshow', 'price', 'returnnow', 'amount', 'cansale', 'status', 'note');

    Good.extend(Spine.Model.Ajax);

    Good.url = 'index.php? cmd=Product';

    Good.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Good.__super__.constructor.fetch.call(this, params);
    };

    Good.prototype.longName = function() {
      var item;
      item = Goodclass.find(this.classid);
      return item.longName();
    };

    return Good;

  })(Spine.Model);

  module.exports = Good;

}).call(this);
 },"models/goodclass": function(exports, require, module) { (function() {
  var Goodclass, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Goodclass = (function(superClass) {
    extend(Goodclass, superClass);

    function Goodclass() {
      return Goodclass.__super__.constructor.apply(this, arguments);
    }

    Goodclass.configure('Goodclass', 'id', "parentid", "name", "name_en", "introduction", "introduction_en", "picture");

    Goodclass.extend(Spine.Model.Ajax);

    Goodclass.url = 'index.php? cmd=ProductClass';

    Goodclass.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Goodclass.__super__.constructor.fetch.call(this, params);
    };

    Goodclass.prototype.parentName = function() {
      var name, pid;
      name = "根结点";
      pid = parseInt(this.parentid, 10);
      if (pid > 0) {
        name = Goodclass.find(pid).name;
      }
      return name;
    };

    Goodclass.prototype.longName = function() {
      var name, rec;
      rec = this;
      name = this.name;
      while (rec.parentid > 0) {
        rec = Goodclass.find(rec.parentid);
        name = rec.name + '-' + name;
      }
      return name;
    };

    Goodclass.prototype.childCount = function() {
      var i, len, n, rec, ref;
      n = 0;
      ref = Goodclass.all();
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        if (parseInt(rec.parentid) === parseInt(this.id)) {
          n++;
        }
      }
      return n;
    };

    return Goodclass;

  })(Spine.Model);

  module.exports = Goodclass;

}).call(this);
 },"models/goodsharp": function(exports, require, module) { (function() {
  var Goodsharp, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Goodsharp = (function(superClass) {
    extend(Goodsharp, superClass);

    function Goodsharp() {
      return Goodsharp.__super__.constructor.apply(this, arguments);
    }

    Goodsharp.configure('Goodsharp', 'id', "name");

    Goodsharp.extend(Spine.Model.Ajax);

    Goodsharp.url = 'index.php? cmd=ProductSharp';

    Goodsharp.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Goodsharp.__super__.constructor.fetch.call(this, params);
    };

    return Goodsharp;

  })(Spine.Model);

  module.exports = Goodsharp;

}).call(this);
 },"models/materialinout": function(exports, require, module) { (function() {
  var Materialinout, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Materialinout = (function(superClass) {
    extend(Materialinout, superClass);

    function Materialinout() {
      return Materialinout.__super__.constructor.apply(this, arguments);
    }

    Materialinout.configure('Materialinout', 'id', "materialid", "number", "operatorid", "authorizerid", "operatortime", "authorizertime", "note");

    Materialinout.extend(Spine.Model.Ajax);

    Materialinout.url = 'index.php? cmd=MaterialInOut';

    Materialinout.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Materialinout.__super__.constructor.fetch.call(this, params);
    };

    return Materialinout;

  })(Spine.Model);

  module.exports = Materialinout;

}).call(this);
 },"models/materialtype": function(exports, require, module) { (function() {
  var Materialtype, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Materialtype = (function(superClass) {
    extend(Materialtype, superClass);

    function Materialtype() {
      return Materialtype.__super__.constructor.apply(this, arguments);
    }

    Materialtype.configure('Materialtype', 'id', "parentid", "name", "inrightid", "outrightid");

    Materialtype.extend(Spine.Model.Ajax);

    Materialtype.url = 'woo/index.php? cmd=MaterialType';

    Materialtype.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      return Materialtype.__super__.constructor.fetch.call(this, params);
    };

    Materialtype.prototype.parentName = function() {
      var name, pid;
      name = "根结点";
      pid = parseInt(this.parentid, 10);
      if (pid > 0) {
        name = Materialtype.find(pid).name;
      }
      return name;
    };

    Materialtype.prototype.longName = function() {
      var name, rec;
      rec = this;
      name = this.name;
      while (rec.parentid > 0) {
        rec = Materialtype.find(rec.parentid);
        name = rec.name + '-' + name;
      }
      return name;
    };

    Materialtype.prototype.childCount = function() {
      var i, len, n, rec, ref;
      n = 0;
      ref = Materialtype.all();
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        if (parseInt(rec.parentid) === parseInt(this.id)) {
          n++;
        }
      }
      return n;
    };

    return Materialtype;

  })(Spine.Model);

  module.exports = Materialtype;

}).call(this);
 },"models/news": function(exports, require, module) { (function() {
  var News, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  News = (function(superClass) {
    extend(News, superClass);

    function News() {
      return News.__super__.constructor.apply(this, arguments);
    }

    News.configure('News', 'id', 'titles', 'contents', 'time');

    News.extend(Spine.Model.Ajax);

    News.url = 'woo/index.php? cmd=News';

    News.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      return News.__super__.constructor.fetch.call(this, params);
    };

    return News;

  })(Spine.Model);

  module.exports = News;

}).call(this);
 },"models/order": function(exports, require, module) { (function() {
  var Consignee, Order, OrderPerson, Orderstate, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  OrderPerson = require('models/orderperson');

  Orderstate = require('models/orderstate');

  Consignee = require('models/consignee');

  require('spine/lib/ajax');

  Order = (function(superClass) {
    extend(Order, superClass);

    function Order() {
      return Order.__super__.constructor.apply(this, arguments);
    }

    Order.configure('Order', 'id', 'code', 'userid', 'products', 'shipdate', 'consigneeid', 'paymentid', 'transportid', 'billtypeid', 'billid', 'billcontentid', 'downpayment', 'guarantee', 'guaranteeperiod', 'carriagecharge', 'returnnow', 'stateid', 'contract', 'time', 'note');

    Order.extend(Spine.Model.Ajax);

    Order.url = 'index.php? cmd=Order';

    Order.fetch = function(params) {
      var condition, fields, goodparams;
      fields = this.attributes;
      condition = [
        {
          field: "id",
          value: "0",
          operator: "gt"
        }
      ];
      goodparams = ['id', 'orderid', 'proid', 'number', 'price', 'returnnow', 'modlcharge', "moldingnumber", "drynumber", "firingnumber", "packagenumber", "evalid", "feelid"];
      params || (params = {
        data: {
          cond: condition,
          filter: fields,
          params: {
            products: goodparams
          },
          token: sessionStorage.token
        },
        processData: true
      });
      this.scope = "woo";
      return Order.__super__.constructor.fetch.call(this, params);
    };

    Order.append = function(conditions) {
      var fields, goodparams, indices;
      fields = this.attributes;
      goodparams = ['id', 'orderid', 'proid', 'number', 'price', 'returnnow', 'modlcharge', "moldingnumber", "drynumber", "firingnumber", "packagenumber", "evalid", "feelid"];
      indices = {
        cond: conditions,
        filter: fields,
        params: {
          products: goodparams
        },
        token: $.fn.cookie('PHPSESSID')
      };
      return $.getJSON(this.url, indices, (function(_this) {
        return function(data) {
          if (data.length > 0) {
            return _this.refresh(data, {
              clear: false
            });
          }
        };
      })(this));
    };

    Order.prototype.customCompanyId = function() {
      var item;
      item = OrderPerson.find(this.userid);
      return item.companyid;
    };

    Order.prototype.customName = function() {
      var item;
      item = OrderPerson.find(this.userid);
      return item.name;
    };

    Order.prototype.companyName = function() {
      var item;
      item = OrderPerson.find(this.userid);
      return item.companyName();
    };

    Order.prototype.is_export = function() {
      var item;
      item = Consignee.find(this.consigneeid);
      return item.country === 48;
    };

    Order.prototype.sumNumber = function() {
      var i, len, rec, ref, sum;
      sum = 0;
      ref = this.products;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        sum += parseInt(rec.number);
      }
      return sum;
    };

    Order.prototype.sumPrice = function() {
      var i, len, rec, ref, sum;
      sum = 0;
      ref = this.products;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        sum += parseFloat(rec.price) * parseInt(rec.number);
      }
      return sum;
    };

    Order.prototype.sumReturnnow = function() {
      var i, len, rec, ref, sum;
      sum = 0;
      ref = this.products;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        sum += parseFloat(rec.returnnow) * parseInt(rec.number);
      }
      return sum;
    };

    Order.prototype.sumModlcharge = function() {
      var i, len, rec, ref, sum;
      sum = 0;
      ref = this.products;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        sum += parseFloat(rec.modlcharge);
      }
      return sum;
    };

    Order.prototype.total = function() {
      return this.sumPrice() + parseFloat(this.carriagecharge) + this.sumModlcharge() - this.sumReturnnow();
    };

    Order.prototype.stateName = function() {
      var item;
      item = Orderstate.find(this.stateid);
      return item.name;
    };

    return Order;

  })(Spine.Model);

  module.exports = Order;

}).call(this);
 },"models/orderpackingtraycarton": function(exports, require, module) { (function() {
  var Orderpackingtraycarton, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Orderpackingtraycarton = (function(superClass) {
    extend(Orderpackingtraycarton, superClass);

    function Orderpackingtraycarton() {
      return Orderpackingtraycarton.__super__.constructor.apply(this, arguments);
    }

    Orderpackingtraycarton.configure('Orderpackingtraycarton', 'id', "orderid", "trayid", "traynum", "cartonid", "cartonnum", "numincarton", "sumnum");

    Orderpackingtraycarton.extend(Spine.Model.Ajax);

    Orderpackingtraycarton.url = 'index.php? cmd=OrderPackingTrayCarton';

    Orderpackingtraycarton.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Orderpackingtraycarton.__super__.constructor.fetch.call(this, params);
    };

    return Orderpackingtraycarton;

  })(Spine.Model);

  module.exports = Orderpackingtraycarton;

}).call(this);
 },"models/orderperson": function(exports, require, module) { (function() {
  var Company, OrderPerson, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Company = require('models/company');

  OrderPerson = (function(superClass) {
    extend(OrderPerson, superClass);

    function OrderPerson() {
      return OrderPerson.__super__.constructor.apply(this, arguments);
    }

    OrderPerson.configure('OrderPerson', 'id', "name", "companyid");

    OrderPerson.extend(Spine.Model.Ajax);

    OrderPerson.url = 'woo/index.php? cmd=Person';

    OrderPerson.prototype.companyName = function() {
      var item;
      item = Company.find(this.companyid);
      return item.name;
    };

    return OrderPerson;

  })(Spine.Model);

  module.exports = OrderPerson;

}).call(this);
 },"models/orderproducts": function(exports, require, module) { (function() {
  var Order, OrderProducts, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  Spine = require('spine');

  require('spine/lib/ajax');

  Order = require('models/order');

  OrderProducts = (function(superClass) {
    extend(OrderProducts, superClass);

    function OrderProducts() {
      return OrderProducts.__super__.constructor.apply(this, arguments);
    }

    OrderProducts.configure('OrderProducts', 'id', 'longname', 'size', 'picture', 'unit');

    OrderProducts.extend(Spine.Model.Ajax);

    OrderProducts.url = 'woo/index.php? cmd=Product';

    OrderProducts.fetch = function(params) {
      var condition, fields, i, item, j, k, len, len1, order, ref, ref1, ref2, values;
      fields = this.attributes;
      values = [];
      i = 0;
      ref = Order.all();
      for (j = 0, len = ref.length; j < len; j++) {
        order = ref[j];
        ref1 = order.products;
        for (k = 0, len1 = ref1.length; k < len1; k++) {
          item = ref1[k];
          if (ref2 = item.proid, indexOf.call(values, ref2) < 0) {
            values[i++] = item.proid;
          }
        }
      }
      condition = [
        {
          field: "id",
          value: values,
          operator: "in"
        }
      ];
      params || (params = {
        data: {
          cond: condition,
          filter: fields,
          token: sessionStorage.token
        },
        processData: true
      });
      return OrderProducts.__super__.constructor.fetch.call(this, params);
    };

    OrderProducts.prototype.formatId = function() {
      var str;
      str = "" + this.id;
      while (str.length < 8) {
        str = "0" + str;
      }
      return str;
    };

    OrderProducts.prototype.price = function() {
      var j, len, rec, ref, results;
      ref = Order.first().products;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        rec = ref[j];
        if (rec.proid === this.id) {
          results.push(rec.price);
        }
      }
      return results;
    };

    OrderProducts.prototype.returnnow = function() {
      var j, len, rec, ref, results;
      ref = Order.first().products;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        rec = ref[j];
        if (rec.proid === this.id) {
          results.push(rec.returnnow);
        }
      }
      return results;
    };

    OrderProducts.prototype.modlcharge = function() {
      var j, len, rec, ref, results;
      ref = Order.first().products;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        rec = ref[j];
        if (rec.proid === this.id) {
          results.push(rec.modlcharge);
        }
      }
      return results;
    };

    OrderProducts.prototype.number = function() {
      var j, len, rec, ref, results, sum;
      ref = Order.first().products;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        rec = ref[j];
        if (rec.proid === this.id) {
          results.push(sum = rec.number);
        }
      }
      return results;
    };

    OrderProducts.prototype.sumNumber = function() {
      var j, len, rec, ref, sum;
      sum = 0;
      ref = Order.first().products;
      for (j = 0, len = ref.length; j < len; j++) {
        rec = ref[j];
        sum += parseInt(rec.number);
      }
      return sum;
    };

    OrderProducts.prototype.sumPrice = function() {
      var j, len, rec, ref, sum;
      sum = 0;
      ref = Order.first().products;
      for (j = 0, len = ref.length; j < len; j++) {
        rec = ref[j];
        sum += rec.price * rec.number;
      }
      return sum;
    };

    OrderProducts.prototype.sumReturnnow = function() {
      var item, j, len, rec, ref, sum;
      item = Order.first();
      sum = item.returnnow;
      ref = item.products;
      for (j = 0, len = ref.length; j < len; j++) {
        rec = ref[j];
        sum += rec.returnnow * rec.number;
      }
      return sum;
    };

    OrderProducts.prototype.sumModlcharge = function() {
      var item, j, len, rec, ref, sum;
      item = Order.first();
      sum = item.returnnow;
      ref = item.products;
      for (j = 0, len = ref.length; j < len; j++) {
        rec = ref[j];
        sum += rec.modlcharge;
      }
      return sum;
    };

    OrderProducts.prototype.total = function() {
      return this.sumPrice() + Order.first().carriagecharge;
    };

    return OrderProducts;

  })(Spine.Model);

  module.exports = OrderProducts;

}).call(this);
 },"models/ordersstate": function(exports, require, module) { (function() {
  var OrderState, Spine, State,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  State = require('models/ordersstate');

  require('spine/lib/ajax');

  OrderState = (function(superClass) {
    extend(OrderState, superClass);

    function OrderState() {
      return OrderState.__super__.constructor.apply(this, arguments);
    }

    OrderState.configure('OrderState', 'id', 'orderid', 'time', 'stateid');

    OrderState.extend(Spine.Model.Ajax);

    OrderState.url = 'woo/index.php? cmd=OrdersState';

    OrderState.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: sessionStorage.token
        },
        processData: true
      });
      return OrderState.__super__.constructor.fetch.call(this, params);
    };

    OrderState.prototype.finish = function() {
      return Thisstate.findByAttribute("stateid", this.id);
    };

    OrderState.prototype.optionTime = function() {
      return Thisstate.findByAttribute("stateid", this.id).time;
    };

    OrderState.prototype.isLast = function() {
      return this.id === OrderState.last().id;
    };

    return OrderState;

  })(Spine.Model);

  module.exports = OrderState;

}).call(this);
 },"models/orderstate": function(exports, require, module) { (function() {
  var OrderState, Spine, Thisstate,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Thisstate = require('models/theorderstate');

  require('spine/lib/ajax');

  OrderState = (function(superClass) {
    extend(OrderState, superClass);

    function OrderState() {
      return OrderState.__super__.constructor.apply(this, arguments);
    }

    OrderState.configure('OrderState', 'id', 'name', 'name_en', 'actor', 'note', 'yrrnote', 'state');

    OrderState.extend(Spine.Model.Ajax);

    OrderState.url = 'index.php? cmd=OrderState';

    OrderState.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: sessionStorage.token
        },
        processData: true
      });
      this.scope = "woo";
      return OrderState.__super__.constructor.fetch.call(this, params);
    };

    OrderState.prototype.finish = function() {
      return Thisstate.findByAttribute("stateid", this.id);
    };

    OrderState.prototype.optionTime = function() {
      return Thisstate.findByAttribute("stateid", this.id).time;
    };

    OrderState.prototype.isLast = function() {
      return this.id === OrderState.last().id;
    };

    return OrderState;

  })(Spine.Model);

  module.exports = OrderState;

}).call(this);
 },"models/payment": function(exports, require, module) { (function() {
  var Payment, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Payment = (function(superClass) {
    extend(Payment, superClass);

    function Payment() {
      return Payment.__super__.constructor.apply(this, arguments);
    }

    Payment.configure('Payment', 'id', 'name', 'note', 'url', 'urltext');

    Payment.extend(Spine.Model.Ajax);

    Payment.url = 'woo/index.php? cmd=Payment';

    Payment.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: sessionStorage.token
        },
        processData: true
      });
      return Payment.__super__.constructor.fetch.call(this, params);
    };

    Payment.current = null;

    Payment.setCurrent = function(item) {
      return this.current = item;
    };

    Payment.getCurrent = function() {
      if (!this.current) {
        this.setCurrent(this.first());
      }
      return this.current;
    };

    return Payment;

  })(Spine.Model);

  module.exports = Payment;

}).call(this);
 },"models/person": function(exports, require, module) { (function() {
  var Company, Person, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Company = require('models/company');

  Person = (function(superClass) {
    extend(Person, superClass);

    function Person() {
      return Person.__super__.constructor.apply(this, arguments);
    }

    Person.configure('Person', 'id', "username", "name", "sex", "mobile", "tel", "email", "qq", "county", "address", "picture", "identitycard", "registertime", "companyid");

    Person.extend(Spine.Model.Ajax);

    Person.url = 'index.php? cmd=Person';

    Person.notFound = function(id) {
      var condition, fields, indices;
      fields = this.attributes;
      condition = [
        {
          field: "id",
          value: id,
          operator: "eq"
        }
      ];
      indices = {
        cond: condition,
        filter: fields,
        token: $.fn.cookie('PHPSESSID')
      };
      return $.getJSON(this.url, indices, (function(_this) {
        return function(data) {
          if (parseInt(data[0].id) > -1) {
            return _this.refresh(data[0]);
          }
        };
      })(this));
    };

    Person.append = function(ids) {
      var condition, fields, indices;
      fields = this.attributes;
      condition = [
        {
          field: "id",
          value: ids,
          operator: "in"
        }
      ];
      indices = {
        cond: condition,
        filter: fields,
        token: $.fn.cookie('PHPSESSID')
      };
      return $.getJSON(this.url, indices, (function(_this) {
        return function(data) {
          if (data.length > 0) {
            return _this.refresh(data, {
              clear: false
            });
          }
        };
      })(this));
    };

    Person.prototype.companyName = function() {
      var item;
      item = Company.find(this.companyid);
      return item.name;
    };

    return Person;

  })(Spine.Model);

  module.exports = Person;

}).call(this);
 },"models/post": function(exports, require, module) { (function() {
  var Department, Person, Post, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  Person = require('models/person');

  Department = require('models/department');

  require('spine/lib/ajax');

  Post = (function(superClass) {
    extend(Post, superClass);

    function Post() {
      return Post.__super__.constructor.apply(this, arguments);
    }

    Post.configure('Post', 'id', "name", "departmentids", "right");

    Post.extend(Spine.Model.Ajax);

    Post.url = 'index.php? cmd=Post';

    Post.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Post.__super__.constructor.fetch.call(this, params);
    };

    Post.getNames = function(ids) {
      var i, id, n, names, ref;
      names = '';
      for (n = i = 0, ref = ids.length - 1; i <= ref; n = i += 2) {
        id = parseInt(ids.substr(n, 2));
        if (this.exists(id)) {
          names += this.find(id).name + ' ';
        }
      }
      return names;
    };

    return Post;

  })(Spine.Model);

  module.exports = Post;

}).call(this);
 },"models/province": function(exports, require, module) { (function() {
  var City, Province, Spine, Zone,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  City = (function(superClass) {
    extend(City, superClass);

    function City() {
      return City.__super__.constructor.apply(this, arguments);
    }

    City.configure('City', 'id', 'name');

    City.extend(Spine.Model.Local);

    City.url = 'index.php? cmd=City';

    return City;

  })(Spine.Model);

  Zone = (function(superClass) {
    extend(Zone, superClass);

    function Zone() {
      return Zone.__super__.constructor.apply(this, arguments);
    }

    Zone.configure('Zone', 'id', 'name');

    Zone.extend(Spine.Model.Local);

    Zone.url = 'index.php? cmd=District';

    return Zone;

  })(Spine.Model);

  Province = (function(superClass) {
    extend(Province, superClass);

    function Province() {
      return Province.__super__.constructor.apply(this, arguments);
    }

    Province.configure('Province', 'id', 'name');

    Province.extend(Spine.Model.Ajax);

    Province.url = 'woo/index.php? cmd=Province';

    Province.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      return Province.__super__.constructor.fetch.call(this, params);
    };

    Province.ajaxCity = function(url, data, async, process) {
      return jQuery.ajax({
        type: 'get',
        url: url,
        data: data,
        async: async,
        success: function(result) {
          if (typeof result === "object") {
            return typeof process === "function" ? process(result) : void 0;
          }
        }
      });
    };

    Province.getCity = function(provinceid) {
      var Area, cond, data, filter, items, maxval, minval, token, url;
      if (provinceid === 0) {
        return 0;
      }
      minval = parseInt(provinceid + "00");
      maxval = parseInt(provinceid + "99");
      Area = provinceid.length === 2 ? City : Zone;
      items = Area.select(function(item) {
        return item.id > minval && item.id < maxval;
      });
      if (items.length === 0) {
        url = Area.url;
        filter = ["id", "name"];
        cond = [
          {
            field: "id",
            value: [minval, maxval],
            operator: "bt"
          }
        ];
        token = $.fn.cookie('PHPSESSID');
        data = {
          filter: filter,
          cond: cond,
          token: token
        };
        this.ajaxCity(url, data, false, function(obj) {
          var i, item, len, rec, results;
          results = [];
          for (i = 0, len = obj.length; i < len; i++) {
            rec = obj[i];
            item = new Area(rec);
            results.push(item.save());
          }
          return results;
        });
      }
      return Area.select(function(item) {
        return item.id > minval && item.id < maxval;
      });
    };

    Province.getCityName = function(cityid) {
      this.getCity(cityid.slice(0, 2));
      return City.find(cityid).name;
    };

    Province.getZoneName = function(zoneid) {
      this.getCity(zoneid.slice(0, 4));
      return Zone.find(zoneid).name;
    };

    return Province;

  })(Spine.Model);

  module.exports = Province;

}).call(this);
 },"models/qiye": function(exports, require, module) { (function() {
  var Qiye, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Qiye = (function(superClass) {
    extend(Qiye, superClass);

    function Qiye() {
      return Qiye.__super__.constructor.apply(this, arguments);
    }

    Qiye.configure('Qiye', 'id', "name", "name_en", "domain", "qq", "tel", "fax", "address", "address_en", "email", "techid", "busiid", "icp", "exchangerate");

    Qiye.extend(Spine.Model.Ajax);

    Qiye.url = 'woo/index.php? cmd=Qiye';

    Qiye.fetch = function(params) {
      var condition, fields;
      fields = this.attributes;
      condition = [
        {
          field: "id",
          value: "1",
          operator: "eq"
        }
      ];
      params || (params = {
        data: {
          cond: condition,
          filter: fields,
          token: $.fn.cookie("PHPSESSID")
        },
        processData: true
      });
      return Qiye.__super__.constructor.fetch.call(this, params);
    };

    return Qiye;

  })(Spine.Model);

  module.exports = Qiye;

}).call(this);
 },"models/right": function(exports, require, module) { (function() {
  var Right, Spine,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Right = (function(superClass) {
    extend(Right, superClass);

    function Right() {
      return Right.__super__.constructor.apply(this, arguments);
    }

    Right.configure('Right', 'id', "code", "name");

    Right.extend(Spine.Model.Ajax);

    Right.url = 'index.php? cmd=Right';

    Right.fetch = function(params) {
      params || (params = {
        data: {
          filter: this.attributes,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      this.ajax().fetch(params);
      return true;
    };

    return Right;

  })(Spine.Model);

  module.exports = Right;

}).call(this);
 },"models/theorderstate": function(exports, require, module) { (function() {
  var Spine, TheOrderState,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  TheOrderState = (function(superClass) {
    extend(TheOrderState, superClass);

    function TheOrderState() {
      return TheOrderState.__super__.constructor.apply(this, arguments);
    }

    TheOrderState.configure('TheOrderState', 'id', 'orderid', 'time', 'stateid');

    TheOrderState.extend(Spine.Model.Ajax);

    TheOrderState.url = 'woo/index.php? cmd=OrdersState';

    TheOrderState.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: sessionStorage.token
        },
        processData: true
      });
      return TheOrderState.__super__.constructor.fetch.call(this, params);
    };

    return TheOrderState;

  })(Spine.Model);

  module.exports = TheOrderState;

}).call(this);
 },"models/transport": function(exports, require, module) { (function() {
  var Spine, Transport,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Transport = (function(superClass) {
    extend(Transport, superClass);

    function Transport() {
      return Transport.__super__.constructor.apply(this, arguments);
    }

    Transport.configure('Transport', 'id', 'name', 'note', 'charges');

    Transport.extend(Spine.Model.Ajax);

    Transport.url = 'woo/index.php? cmd=Transport';

    Transport.fetch = function(params) {
      params || (params = {
        data: {
          filter: this.attributes,
          token: sessionStorage.token
        },
        processData: true
      });
      return Transport.__super__.constructor.fetch.call(this, params);
    };

    Transport.current = null;

    Transport.setCurrent = function(item) {
      return this.current = item;
    };

    Transport.getCurrent = function() {
      if (!this.current) {
        this.setCurrent(this.first());
      }
      return this.current;
    };

    return Transport;

  })(Spine.Model);

  module.exports = Transport;

}).call(this);
 },"models/user": function(exports, require, module) { (function() {
  var Spine, User,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  User = (function(superClass) {
    extend(User, superClass);

    function User() {
      return User.__super__.constructor.apply(this, arguments);
    }

    User.configure('User', 'id', "name", "state", "departmentid");

    return User;

  })(Spine.Model);

  module.exports = User;

}).call(this);
 },"models/werehouse": function(exports, require, module) { (function() {
  var Materialtype, Spine, Werehouse,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Spine = require('spine');

  require('spine/lib/ajax');

  Materialtype = require('models/materialtype');

  Werehouse = (function(superClass) {
    extend(Werehouse, superClass);

    function Werehouse() {
      return Werehouse.__super__.constructor.apply(this, arguments);
    }

    Werehouse.configure('Werehouse', 'id', 'typeid', "name", "size", "unit", "number", "note");

    Werehouse.extend(Spine.Model.Ajax);

    Werehouse.url = 'index.php? cmd=Werehouse';

    Werehouse.fetch = function(params) {
      var fields;
      fields = this.attributes;
      params || (params = {
        data: {
          filter: fields,
          token: $.fn.cookie('PHPSESSID')
        },
        processData: true
      });
      this.scope = "woo";
      return Werehouse.__super__.constructor.fetch.call(this, params);
    };

    Werehouse.prototype.longName = function() {
      var item;
      item = Materialtype.find(this.typeid);
      return item.longName();
    };

    return Werehouse;

  })(Spine.Model);

  module.exports = Werehouse;

}).call(this);
 },"models/zone": function(exports, require, module) { (function() {
  var Zone,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  Zone = (function(superClass) {
    extend(Zone, superClass);

    function Zone() {
      return Zone.__super__.constructor.apply(this, arguments);
    }

    Zone.configure('Zone', 'id', 'name');

    Zone.extend(Spine.Model.Local);

    Zone.url = 'index.php? cmd=District';

    return Zone;

  })(Spine.Model);

  module.exports = Zone;

}).call(this);
 },"views/carton": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var ref, ref1, ref2, ref3;
    
      __out.push('   ');
    
      if (this.thecartons !== null) {
        __out.push('\n   <p>\n    <label>请选择：</label><span>');
        __out.push(__sanitize((ref = this.cartons) != null ? ref.size : void 0));
        __out.push('</span>\n  </p>\n<p>\n  <label>数量：</label><span>');
        __out.push(__sanitize(((ref1 = this.cartons) != null ? ref1.number : void 0) || 0));
        __out.push('</apan>\n</p>\n<p>\n  <label>数量：</label><span>');
        __out.push(__sanitize(((ref2 = this.cartons) != null ? ref2.number : void 0) || 0));
        __out.push('</apan>\n</p>\n<p>\n  <label>数量：</label><span>');
        __out.push(__sanitize(((ref3 = this.cartons) != null ? ref3.number : void 0) || 0));
        __out.push('</apan>\n</p>\n<p>\n  <label>重量：</label><span class=\'tray_weight\'></span>\n</p>\n<p>\n  <label>体积：</label><span class=\'tray_value\'></span>\n</p>\n');
      }
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/custom": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var fmtYN;
    
      fmtYN = function(en) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize(en === 'Y' ? '是' : '否'));
          return __out.push('\n');
        });
      };
    
      __out.push('\n<div>\n  <dl>\n    <dt>编号：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.custom.id));
    
      __out.push('\n    </dd>\n    <dt>用户名：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.username));
    
      __out.push('\n    </dd>\n    <dt>姓名：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.name));
    
      __out.push('\n    </dd>\n    <dt>性别：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize({
        'M': '男',
        'F': '女'
      }[this.person.sex]));
    
      __out.push('\n    </dd>\n    <dt>手机：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.mobile));
    
      __out.push('\n    </dd>\n    <dt>电话：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.tel));
    
      __out.push('\n    </dd>\n    <dt>邮箱：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.email));
    
      __out.push('\n    </dd>\n    <dt>qq：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.qq));
    
      __out.push('\n      </dd>\n    <dt>身份证：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.identitycard));
    
      __out.push('\n    </dd>\n    <dt>类型: </dt>\n      <dd>\n        ');
    
      __out.push(__sanitize({
        'P': '个人',
        U: '单位'
      }[this.custom.type]));
    
      __out.push('\n      </dd>\n    <dt>已验证邮箱: </dt>\n      <dd>');
    
      __out.push(__sanitize(fmtYN(this.custom.emailstate)));
    
      __out.push('\n    </dd>\n    <dt>已绑定手机： </dt>\n      <dd>');
    
      __out.push(__sanitize(fmtYN(this.custom.mobilestate)));
    
      __out.push('\n    </dd>\n    <dt>账号状态： </dt>\n      <dd>');
    
      __out.push(__sanitize({
        'E': '正常',
        'D': '禁止'
      }[this.custom.accountstate]));
    
      __out.push('\n    </dd>\n    <dt>于 </dt><dd>');
    
      __out.push(__sanitize(this.person.registertime.slice(0, 10)));
    
      __out.push('注册\n    </dd>\n  </dl>\n</div>\n<div class=\'uploadimage\'>\n  <img src=\'images/user/');
    
      __out.push(__sanitize(this.person.picture));
    
      __out.push('\' width=\'100\' height=\'100\' />\n</div>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/customtype": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var money;
    
      money = function(rmb) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize((new Number(rmb)).toFixed(2)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n<div>\n  <dl>\n    <dt>名称：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.customtype.name));
    
      __out.push('\n    </dd>\n  </dl>\n</div>\n<div>\n</div>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/department": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<div>\n  <dl>\n    <dt>部门编码：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.department.id));
    
      __out.push('\n    </dd>\n    <dt>部门名称：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.department.name));
    
      __out.push('\n    </dd>\n  </dl>\n</div>\n<div></div>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/dryheader": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<ul>\n<li>开始干燥时间：<span>');
    
      __out.push(__sanitize(this.drymain.starttime));
    
      __out.push('</span></li>\n<li>干燥曲线：<span>');
    
      __out.push(__sanitize(this.drymain.lineno));
    
      __out.push('</span></li>\n</ul>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/dryshow": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var ref, ref1;
    
      __out.push('<ul>\n<li>开始干燥时间：<span>');
    
      __out.push(__sanitize((ref = this.drymains) != null ? ref.starttime : void 0));
    
      __out.push('</span></li>\n<li>干燥曲线：<span>');
    
      __out.push(__sanitize((ref1 = this.drymains) != null ? ref1.lineno : void 0));
    
      __out.push('</span></li>\n</ul>\n<div class="dryfigure">\n<canvas class="drylines"></canvas>\n<div class="scrollbar-track-x">\n\t<button class="scrollbar-left"></button>\n\t<div class="scrollbar-thumb-x"></div>\n\t<button class="scrollbar-right"></button>\n</div>\n<canvas class="seelines" ></canvas>\n</div>\n<ul>\n<li>缩放：\n<select name=\'scale\'>\n<option value=\'0\' >默认</option>\n<option value=\'1\' >12 小时</option>\n<option value=\'2\' >24 小时</option>\n<option value=\'3\' >全部</option>\n</select>\n</li>\n<li>\n<fieldset class=\'drytemperature\'>\n<legend>温度(℃)</legend>\n<label>设定：</label><span></span><span></span><br />\n<label>实际：</label><span></span><span></span>\n</fieldset>\n</li>\n<li>\n<fieldset class=\'drystate\'>\n<legend>狀态</legend>\n<label>区段：</label><span></span><br />\n<label>状况：</label><span></span>\n</fieldset>\n</li>\n<li>\n<fieldset class=\'drytime\'>\n<legend>时间(HH:MM)</legend>\n<label>区段：</label><span></span><br />\n<label>运行：</label><span></span>\n</fieldset>\n</li>\n</ul>\n<audio class="music" src="images/1.mp3" controls=\'controls\' loop=\'false\' hidden=\'true\'></audio>\n<audio class="music" src="images/2.mp3" controls=\'controls\' loop=\'false\' hidden=\'true\'></audio>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/employee": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var money;
    
      money = function(rmb) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize((new Number(rmb)).toFixed(2)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n<div>\n  <dl>\n    <dt>工号：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.employee.id));
    
      __out.push('\n    </dd>\n    <dt>姓名：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.name));
    
      __out.push('\n    </dd>\n    <dt>性别：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.sex === 'M' ? '男' : '女'));
    
      __out.push('\n    </dd>\n    <dt>出生日期：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.employee.dateofbirth));
    
      __out.push('\n    </dd>\n    <dt>手机：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.mobile));
    
      __out.push('\n    </dd>\n    <dt>电话：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.tel));
    
      __out.push(' kg\n    </dd>\n    <dt>邮箱：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.email));
    
      __out.push('\n    </dd>\n    <dt>qq：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.qq));
    
      __out.push('\n      </dd>\n    <dt>身份证：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.identitycard));
    
      __out.push('\n    </dd>\n    <dt>部门：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.department.name));
    
      __out.push('\n    </dd>\n    <dt>于 </dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.employee.startdate.slice(0, 11)));
    
      __out.push(' 参加工作\n    </dd>\n    <dt>于 </dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.person.registertime.slice(0, 11)));
    
      __out.push(' 进入本公司\n    </dd>\n  </dl>\n</div>\n<div class=\'uploadimage\'>\n  <img src=\'images/user/');
    
      __out.push(__sanitize(this.person.picture));
    
      __out.push('\' width=\'100\' height=\'100\' />\n</div>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/export": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, j, k, len, len1, len2, pro, ref, ref1, ref2;
    
      __out.push('<div>出口管理->选择订单<div>\n\t<table>\n\t\t<thead>\n\t\t<tr>\n\t\t');
    
      ref = ["编号", "订货单位", "订货时间", "产品信息", "金额"];
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        __out.push('\n\t\t<th>');
        __out.push(__sanitize(item));
        __out.push('</th>\n\t\t');
      }
    
      __out.push('\n\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t');
    
      ref1 = this.orders;
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        item = ref1[j];
        __out.push('\n\t\t<tr data-id="');
        __out.push(__sanitize(item.id));
        __out.push('">\n\t\t<td>');
        __out.push(__sanitize(item.code));
        __out.push('</td>\n\t\t<td>');
        __out.push(__sanitize(item.companyName()));
        __out.push('</td>\n\t\t<td>');
        __out.push(__sanitize(item.time));
        __out.push('</td>\n\t\t<td>\n\t\t');
        ref2 = this.orders.products;
        for (k = 0, len2 = ref2.length; k < len2; k++) {
          pro = ref2[k];
          __out.push('\n\t\t\t<img sref="admin/uploadimg/');
          __out.push(__sanitize(pro.image()));
          __out.push('" title="');
          __out.push(__sanitize(pro.longname() + '\n' + pro.size() + '\n' + pro.price));
          __out.push('" width=40 height=24 />\n\t\t');
        }
        __out.push('\n\t\t</td>\n\t\t<td>');
        __out.push(__sanitize(item.total()));
        __out.push('</td>\n\t\t</tr>\n\t\t');
      }
    
      __out.push('\n\t\t</tbody>\n\t</table>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmcarton": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, len, rec, ref;
    
      __out.push('   ');
    
      if (this.thecartons !== null) {
        __out.push('\n   <p>\n    <label>请选择：</label><select name="C_cartonid">\n    ');
        ref = this.wherehouses;
        for (i = 0, len = ref.length; i < len; i++) {
          rec = ref[i];
          __out.push('\n    <option value="');
          __out.push(__sanitize(rec.id));
          __out.push('" >');
          __out.push(__sanitize(rec.size));
          __out.push('</option>\n    ');
        }
        __out.push('\n  </select>\n  </p>\n<p>\n  <label>数量：</label><input type="number" name="C_cartonnum" required value="');
        __out.push(__sanitize(this.cartons.number || 0));
        __out.push('" />\n</p>\n<p>\n  <label>数量：</label><input type="number" name="C_numincarton" required value="');
        __out.push(__sanitize(this.cartons.number || 0));
        __out.push('" />\n</p>\n<p>\n  <label>数量：</label><input type="number" name="C_sumnum" required value="');
        __out.push(__sanitize(this.cartons.number || 0));
        __out.push('" />\n</p>\n<p>\n  <label>重量：</label><span class=\'tray_weight\'></span>\n</p>\n<p>\n  <label>体积：</label><span class=\'tray_value\'></span>\n</p>\n');
      }
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmcustoms": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var country, i, key, len, ref, ref1, ref2, val;
    
      __out.push('   <p><label for=\'username\'>用户名: </label><input name=\'P_username\' type=\'text\' required value=\'');
    
      __out.push(__sanitize(this.persons.username));
    
      __out.push('\' placeholder=\'6~18个字符(a-zA-Z0-9.-_@)\' pattern=\'[a-zA-Z]{1}[a-zA-Z0-9\\-\\_\\@\\.]{4,16}[a-zA-Z0-9]{1}\' /><span id=\'username_err_info\'></span></p>\n   ');
    
      if (this.customs.id == null) {
        __out.push('\n    <p><label for=\'Password\'>键入密码: </label><input name=\'P_pwd\' type=\'password\' required placeholder=\'6-16 位字符(a-zA-Z0-9.!@#$%^&*?_~)\' pattern=\'[\\w\\-\\!\\@\\#\\$\\%\\^\\&\\*]{6,16}\'/><span id=\'password_err_info\'></span></p>\n    <p><label >密码强度: </label><span style=\'width:225px;height:20px;display:inline-block;border:1px solid #F0F0F0;vertical-align: middle;\'> </span></p>\n    <p><label for=\'PasswordAgain\'>再键密码: </label><input name=\'PasswordAgain\' type=\'password\' required placeholder=\'同上\' pattern=\'[\\w\\-\\!\\@\\#\\$\\%\\^\\&\\*]{6,16}\' /><span id=\'passwordagain_err_info\'></span></p>\n    ');
      }
    
      __out.push('\n    <p>\n      <label for=\'P_name\'>真实姓名: \n    </label><input type=\'text\' name=\'P_name\' required value=\'');
    
      __out.push(__sanitize(this.persons.name));
    
      __out.push('\' pattern="[\\u4e00-\\u9fa5]{1,10}[·.]{0,1}[\\u4e00-\\u9fa5]{1,10}" />\n      <span class=\'form_hint\'>格式正确</span>\n    </p>\n    <p>\n      <label for=\'P_country\'>国家: </label><select id="country" name="P_country">\n       ');
    
      ref = this.countrys;
      for (i = 0, len = ref.length; i < len; i++) {
        country = ref[i];
        __out.push('<option value="');
        __out.push(__sanitize(country.id));
        __out.push('" ');
        if (country.id === '48') {
          __out.push(__sanitize('selected'));
        }
        __out.push('>');
        __out.push(__sanitize(country.name));
        __out.push('\n        </option>\n        ');
      }
    
      __out.push('\n      </select><img src="images/country/CHN.png" />\n    </p>\n     <p>\n      <label for=\'P_county\'>居住地: </label><select id="province" ></select><select id="city" ></select><select id="zone" name="P_county"></select>\n    </p>\n    <p>\n      <label for=\'P_address\'>详细地址: \n    </label><input type=\'text\' name=\'P_address\' required value=\'');
    
      __out.push(__sanitize(this.persons.address));
    
      __out.push('\' />\n      <span class=\'form_hint\'>输入当前住所的详细地址</span>\n    </p>\n    <p>\n      <label for=\'P_identitycard\'>身份证号: \n    </label><input type=\'text\' name=\'P_identitycard\' required value=\'');
    
      __out.push(__sanitize(this.persons.identitycard));
    
      __out.push('\' />\n      <span class=\'form_hint\'>格式正确</span>\n    </p>\n    <p>\n      <label for=\'P_email\'>邮箱地址: </label><input type=\'email\' name=\'P_email\' required value=\'');
    
      __out.push(__sanitize(this.persons.email));
    
      __out.push('\' pattern="\\w+((-\\w+)|(\\.\\w+))*\\@\\w+((\\.|-)\\w+)*\\.\\w+" />\n        <span class=\'form_hint\'>格式正确</span>\n      </p>\n    <p>\n      <label for=\'P_mobile\'>手机号码: \n    </label><input type=\'text\' name=\'P_mobile\' required value=\'');
    
      __out.push(__sanitize(this.persons.mobile));
    
      __out.push('\' pattern="[(86)|0]?(1[3|5|8]\\d{9})" />\n      <span class=\'form_hint\'>格式正确</span>\n    </p>\n    <p>\n      <label for=\'P_tel\'>电话号码: </label><input type=\'text\' name=\'P_tel\' value=\'');
    
      __out.push(__sanitize(this.persons.tel));
    
      __out.push('\' pattern="((\\+\\d{2,3}[ |-]?)|0)\\d{2,3}[ |-]?\\d{7,9}" />\n        <span class=\'form_hint\'>格式正确</span>\n      </p>\n    <p>\n      <label for=\'P_qq\'>qq 号码:</label>\n      <input type=\'text\' name=\'P_qq\' value=\'');
    
      __out.push(__sanitize(this.persons.qq));
    
      __out.push('\' />\n      <span id=\'qq_err_info\'></span>\n    </p>\n    <p>\n      <label for=\'P_sex\'>性别: </label><input type=\'radio\' name=\'P_sex\' value=\'M\' ');
    
      if (this.persons.sex === 'M') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push('/>男 <input type=\'radio\' name=\'P_sex\' value=\'F\' ');
    
      if (this.persons.sex === 'F') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />女\n    </p>\n    <p>\n      <label>类型: </label>\n      <select name=\'C_type\'>\n        ');
    
      ref1 = {
        'P': '个人',
        'U': '单位'
      };
      for (key in ref1) {
        val = ref1[key];
        __out.push('<option value="');
        __out.push(__sanitize(key));
        __out.push('" ');
        if (this.customs.type === key) {
          __out.push(__sanitize('selected'));
        }
        __out.push('>');
        __out.push(__sanitize(val));
        __out.push('\n        </option>\n        ');
      }
    
      __out.push('</select>\n    </p>\n    <p>\n      <label for=\'C_emailstate\'>已验证邮箱: </label>\n      <input type=\'radio\' name=\'C_emailstate\' value=\'Y\' ');
    
      if (this.customs.emailstate === 'Y') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push('/>是 <input type=\'radio\' name=\'C_emailstate\' value=\'N\' ');
    
      if (this.customs.emailstate === 'N') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />否\n    </p>\n    <p>\n      <label for=\'C_mobilestate\'>已绑定手机：</label>\n      <input type=\'radio\' name=\'C_mobilestate\' value=\'Y\' ');
    
      if (this.customs.mobilestate === 'Y') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push('/>是 <input type=\'radio\' name=\'C_mobilestate\' value=\'N\' ');
    
      if (this.customs.mobilestate === 'N') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />否\n    </p>\n    <p>\n      <label for=\'C_accountstate\'>账号状态：</label>\n      <input type=\'radio\' name=\'C_accountstate\' value=\'E\' ');
    
      if (this.customs.accountstate === 'E') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push('/>正常 <input type=\'radio\' name=\'C_accountstate\' value=\'D\' ');
    
      if (this.customs.accountstate === 'D') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />禁止\n    </p>\n    <p>\n      <label for=\'P_registertime\'>于 </label><input type=\'date\' name=\'P_registertime\' value=\'');
    
      __out.push(__sanitize((ref2 = this.persons.registertime) != null ? ref2.slice(0, 10) : void 0));
    
      __out.push('\' />注册\n    </p>\n    <input type=\'hidden\' name=\'action\' value=\'custom_update\' />\n    <input type=\'hidden\' name=\'P_id\' value=\'');
    
      __out.push(__sanitize(this.persons.id));
    
      __out.push('\' />\n    <input type=\'hidden\' name=\'C_userid\' value=\'');
    
      __out.push(__sanitize(this.customs.userid));
    
      __out.push('\' />\n    <input type=\'hidden\' name=\'Times\' value=\'0\' />\n ');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmdepartment": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push(' <p><label>部门编码：</label>');
    
      __out.push(__sanitize(this.department.id || "no"));
    
      __out.push('</p>\n  <p><label>部门名称：</label><input type="text" name="D_');
    
      __out.push(__sanitize(this.department.id || 'c-0'));
    
      __out.push('_name" required value="');
    
      __out.push(__sanitize(this.department.name));
    
      __out.push('" /></p>\n     <input type=\'hidden\' name=\'action\' value=\'department_update\' />\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmdepartmentrights": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var bit, i, j, len, r, rec, ref;
    
      __out.push('  <fieldset>\n    <legend>权限设置</legend>\n      ');
    
      for (bit = i = 0; i <= 31; bit = ++i) {
        __out.push('\n      \t');
        r = null;
        __out.push('\n      \t');
        ref = this.rights;
        for (j = 0, len = ref.length; j < len; j++) {
          rec = ref[j];
          if (rec.bit === bit) {
            r = rec;
          }
        }
        __out.push('\n        <p data-bit="');
        __out.push(__sanitize(bit));
        __out.push('">\n        \t<input name="R_');
        __out.push(__sanitize((r != null ? r.id : void 0) || 'c' + bit));
        __out.push('_name" type="text" value="');
        __out.push(__sanitize((r != null ? r.name : void 0) || ''));
        __out.push('" />\n        </p>\n      ');
      }
    
      __out.push('\n  </fieldset>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmemployeebusiness": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, len, rec, ref;
    
      __out.push('\t<fieldset>\n\t\t<legend>业务设置</legend>\n\t\t');
    
      ref = this.rights;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        __out.push('\n\t\t\t<p><input name="B_name" type="checkbox" value="');
        __out.push(__sanitize(rec.id));
        __out.push('" ');
        if ((1 << parseInt(rec.bit)) & this.employeerights) {
          __out.push(__sanitize('checked'));
        }
        __out.push(' />');
        __out.push(__sanitize(rec.name));
        __out.push('</p>\n\t\t');
      }
    
      __out.push('\n\t</fieldset>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmemployeeposts": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, len, rec, ref, ref1,
        indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };
    
      __out.push('\t<fieldset>\n\t\t<legend>职务设置</legend>\n\t\t');
    
      ref = this.posts;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        __out.push('\n\t\t\t<p><input name="H_name" type="checkbox" value="');
        __out.push(__sanitize(rec.id));
        __out.push('" ');
        if (ref1 = parseInt(rec.id), indexOf.call(this.employeeposts, ref1) >= 0) {
          __out.push(__sanitize('checked'));
        }
        __out.push(' />');
        __out.push(__sanitize(rec.name));
        __out.push('</p>\n\t\t');
      }
    
      __out.push('\n\t</fieldset>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmemployeerights": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, len, rec, ref;
    
      __out.push('    ');
    
      if (this.rights != null) {
        __out.push('\n      <fieldset>\n        <legend>权限设置</legend>\n      ');
        ref = this.rights;
        for (i = 0, len = ref.length; i < len; i++) {
          rec = ref[i];
          if (!(rec.name !== "未定义")) {
            continue;
          }
          __out.push('\n        <p><input name="R_right" type="checkbox" value="');
          __out.push(__sanitize(rec.code));
          __out.push('" ');
          if (rec.code & this.employees.myright) {
            __out.push(__sanitize('checked'));
          }
          __out.push(' />');
          __out.push(__sanitize(rec.name));
          __out.push('</p>\n      ');
        }
        __out.push('\n      </fieldset>\n   ');
      }
    
      __out.push('\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmemployees": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var country, i, item, j, len, len1, ref, ref1, ref2, ref3;
    
      __out.push('    <p><label for=\'UserName\'>用户名: </label><input name=\'P_UserName\' type=\'text\' required value=\'');
    
      __out.push(__sanitize(this.persons.username));
    
      __out.push('\' placeholder=\'6~18个字符(a-zA-Z0-9.-_@)\' pattern=\'[a-zA-Z]{1}[a-zA-Z0-9\\-\\_\\@\\.]{4,16}[a-zA-Z0-9]{1}\' /><span id=\'username_err_info\'></span></p>\n   ');
    
      if (this.persons.id == null) {
        __out.push('\n    <p><label for=\'Password\'>键入密码: </label><input name=\'P_pwd\' type=\'password\' required placeholder=\'6-16 位字符(a-zA-Z0-9.!@#$%^&*?_~)\' pattern=\'[\\w\\-\\!\\@\\#\\$\\%\\^\\&\\*]{6,16}\'/><span id=\'password_err_info\'></span></p>\n    <p><label >密码强度: </label><span style=\'width:225px;height:20px;display:inline-block;border:1px solid #F0F0F0;vertical-align: middle;\'> </span></p>\n    <p><label for=\'PasswordAgain\'>再键密码: </label><input name=\'PasswordAgain\' type=\'password\' required placeholder=\'同上\' pattern=\'[\\w\\-\\!\\@\\#\\$\\%\\^\\&\\*]{6,16}\' /><span id=\'passwordagain_err_info\'></span></p>\n    ');
      }
    
      __out.push('\n    <p>\n      <label for=\'P_name\'>真实姓名: \n    </label><input type=\'text\' name=\'P_name\' required value=\'');
    
      __out.push(__sanitize(this.persons.name));
    
      __out.push('\' pattern="[\\u4e00-\\u9fa5]{1,10}[·.]{0,1}[\\u4e00-\\u9fa5]{1,10}" />\n      <span class=\'form_hint\'>格式正确</span>\n    </p>\n    <p>\n      <label for=\'P_country\'>国家: </label><select id="country" name="P_country">\n       ');
    
      ref = this.countrys;
      for (i = 0, len = ref.length; i < len; i++) {
        country = ref[i];
        __out.push('<option value="');
        __out.push(__sanitize(country.id));
        __out.push('" ');
        if (country.id === '48') {
          __out.push(__sanitize('selected'));
        }
        __out.push('>');
        __out.push(__sanitize(country.name));
        __out.push('\n        </option>\n        ');
      }
    
      __out.push('\n      </select><img src="images/country/CHN.png" />\n    </p>\n    <p>\n      <label for=\'county\'>直辖市/省: </label><select id="province" ></select>\n    </p>\n    <p>\n      <label for=\'county\'>地/市: </label><select id="city" ></select>\n    </p>\n    <p>\n      <label for=\'county\'>区/县: </label><select id="zone" name="P_county"></select>\n    </p>\n    <p>\n      <label for=\'P_address\'>详细地址: \n    </label><input type=\'text\' name=\'P_address\' required value=\'');
    
      __out.push(__sanitize(this.persons.address));
    
      __out.push('\' />\n      <span class=\'form_hint\'>输入当前住所的详细地址</span>\n    </p>\n    <p>\n      <label for=\'P_identitycard\'>身份证号: \n    </label><input type=\'text\' name=\'P_identitycard\' required value=\'');
    
      __out.push(__sanitize(this.persons.identitycard));
    
      __out.push('\' />\n      <span class=\'form_hint\'>格式正确</span>\n    </p>\n    <p>\n      <label for=\'P_email\'>邮箱地址: </label><input type=\'email\' name=\'P_email\' required=\'\' value=\'');
    
      __out.push(__sanitize(this.persons.email));
    
      __out.push('\' pattern="\\w+((-\\w+)|(\\.\\w+))*\\@\\w+((\\.|-)\\w+)*\\.\\w+" />\n        <span class=\'form_hint\'>格式正确</span>\n      </p>\n    <p>\n      <label for=\'P_mobile\'>手机号码: \n    </label><input type=\'text\' name=\'P_mobile\' required value=\'');
    
      __out.push(__sanitize(this.persons.mobile));
    
      __out.push('\' pattern="[(86)|0]?(1[3|5|8]\\d{9})" />\n      <span class=\'form_hint\'>格式正确</span>\n    </p>\n    <p>\n      <label for=\'P_tel\'>电话号码: </label><input type=\'text\' name=\'P_tel\' value=\'');
    
      __out.push(__sanitize(this.persons.tel));
    
      __out.push('\' pattern="((\\+\\d{2,3}[ |-]?)|0)\\d{2,3}[ |-]?\\d{7,9}" />\n        <span class=\'form_hint\'>格式正确</span>\n      </p>\n    <p>\n      <label for=\'P_qq\'>qq 号码:</label>\n      <input type=\'text\' name=\'P_qq\' value=\'');
    
      __out.push(__sanitize(this.persons.qq));
    
      __out.push('\' />\n      <span id=\'qq_err_info\'></span>\n    </p>\n    <p>\n      <label for=\'P_sex\'>性别: </label><input type=\'radio\' name=\'P_sex\' value=\'M\' ');
    
      if (this.persons.sex === 'M') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push('/>男 <input type=\'radio\' name=\'P_sex\' value=\'F\' ');
    
      if (this.persons.sex === 'F') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />女\n    </p>\n    <p>\n      <label>部门: </label>\n      <select name=\'E_departmentid\'>\n        ');
    
      ref1 = this.departments;
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        item = ref1[j];
        __out.push('<option value="');
        __out.push(__sanitize(item.id));
        __out.push('" ');
        if (parseInt(item.id) === parseInt(this.employees.departmentid)) {
          __out.push(__sanitize('selected=selected'));
        }
        __out.push('>');
        __out.push(__sanitize(item.name));
        __out.push('\n        </option>\n        ');
      }
    
      __out.push('</select>\n    </p>\n    <p>\n      <label for=\'E_dateofbirth\'>出生日期: </label>\n      <input type=\'date\' name=\'E_dateofbirth\' value=\'');
    
      __out.push(__sanitize(this.employees.dateofbirth));
    
      __out.push('\' />\n    </p>\n    <p>\n      <label for=\'E_startdate\'>于 </label><input type=\'date\' name=\'E_startdate\' value=\'');
    
      __out.push(__sanitize((ref2 = this.employees.startdate) != null ? ref2.slice(0, 10) : void 0));
    
      __out.push('\' /> 参加工作\n    </p>\n    <p>\n      <label for=\'P_registertime\'>于 </label><input type=\'date\' name=\'P_registertime\' value=\'');
    
      __out.push(__sanitize((ref3 = this.persons.registertime) != null ? ref3.slice(0, 10) : void 0));
    
      __out.push('\' />进入本公司\n    </p>\n    <input type=\'hidden\' name=\'action\' value=\'employee_update\' />\n    <input type=\'hidden\' name=\'P_id\' value=\'');
    
      __out.push(__sanitize(this.persons.id));
    
      __out.push('\' />\n    <input type=\'hidden\' name=\'E_userid\' value=\'');
    
      __out.push(__sanitize(this.employees.userid));
    
      __out.push('\' />\n    <input type=\'hidden\' name=\'Times\' value=\'0\' />\n    <input type=\'hidden\' name=\'token\' value="');
    
      __out.push(__sanitize($.fn.cookie('PHPSESSID')));
    
      __out.push('" />\n ');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmexport": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, j, k, l, len, len1, len2, len3, len4, len5, m, n, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7;
    
      __out.push('选择订单：<select>\n\t');
    
      ref = this.orders;
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        __out.push('\n\t<option value="');
        __out.push(__sanitize(item.id));
        __out.push('" ');
        if (item.id === ((ref1 = this.order) != null ? ref1.id : void 0)) {
          __out.push(__sanitize("selected>"));
        }
        __out.push('>\n\t  ');
        __out.push(__sanitize(item.code));
        __out.push('\n\t</option>\n\t');
      }
    
      __out.push('\n\t</select>\n<form>\n  <label><span>\n\t收货人：\n\t</span><select>\n\t');
    
      ref2 = this.customs;
      for (j = 0, len1 = ref2.length; j < len1; j++) {
        item = ref2[j];
        __out.push('\n\t<option value="');
        __out.push(__sanitize(item.id));
        __out.push('" ');
        if (item.userid === this.order.userid) {
          __out.push(__sanitize("selected>"));
        }
        __out.push('>\n\t  ');
        __out.push(__sanitize(item.username));
        __out.push('\n\t</option>\n\t');
      }
    
      __out.push('\n\t</select></label>\n  <label><span>\n  \n    发票号：\n  </span><input type="text" value="');
    
      __out.push(__sanitize("YRR" + ((ref3 = this.order) != null ? ref3.code : void 0)));
    
      __out.push('" /></label>\n  <label><span>\n  \n    日期：\n  </span><input type="text" value="" /></label>\n  <label><span>\n      产品编码：\n    </span><input type="text" value="" /></label>\n  <label><span>\n        交货方式：\n      </span><select>\n\t');
    
      ref4 = ["FOB", "CFR", "CIF"];
      for (k = 0, len2 = ref4.length; k < len2; k++) {
        item = ref4[k];
        __out.push('\n\t<option value="');
        __out.push(__sanitize(item));
        __out.push('" ');
        if (item === "FOB") {
          __out.push(__sanitize("selected>"));
        }
        __out.push('>\n\t  ');
        __out.push(__sanitize(item));
        __out.push('\n\t</option>\n\t');
      }
    
      __out.push('\n\t</select></label>\n  <label><span>\n        出运港口：\n      </span><select>\n\t');
    
      ref5 = ["LIANYUNGANG", "QINGDAO", "SHANGHAI"];
      for (l = 0, len3 = ref5.length; l < len3; l++) {
        item = ref5[l];
        __out.push('\n\t<option value="');
        __out.push(__sanitize(item));
        __out.push('" ');
        if (item === "QINGDAO") {
          __out.push(__sanitize("selected>"));
        }
        __out.push('>\n\t  ');
        __out.push(__sanitize(item));
        __out.push('\n\t</option>\n\t');
      }
    
      __out.push('\n\t</select></label>\n  <label><span>\n          目的地：\n        </span><input type="text" value="" /></label>\n  <label><span>\n          产品出口名称：\n        </span><input type="text" value="KILN SUPPORT" /></label>\n  <label><span>\n          产品列表：\n        </span>\n\t\t<table>\n\t\t\t<tr>\n\t\t\t');
    
      ref6 = ["规格", "数量", "单价", "合计", "箱数"];
      for (m = 0, len4 = ref6.length; m < len4; m++) {
        item = ref6[m];
        __out.push('\n\t\t\t<th>');
        __out.push(__sanitize(item));
        __out.push('</th>\n\t\t\t');
      }
    
      __out.push('\n\t\t\t</tr>\n\t\t\t');
    
      ref7 = this.products;
      for (n = 0, len5 = ref7.length; n < len5; n++) {
        item = ref7[n];
        __out.push('\n\t\t\t<tr>\n\t\t\t<td><input type="text" value="');
        __out.push(__sanitize(item.size));
        __out.push('" /></td>\n\t\t\t<td><input type="text" value="');
        __out.push(__sanitize(item.amount));
        __out.push('" /></td>\n\t\t\t<td><input type="text" value="');
        __out.push(__sanitize(item.price));
        __out.push('" /></td>\n\t\t\t<td>');
        __out.push(__sanitize(item.amount * item.price));
        __out.push('</td>\n\t\t\t<td><input type="text" value="" /></td>\n\t\t\t</tr>\n\t\t\t');
      }
    
      __out.push('\n\t\t\t<tr>\n\t\t\t\t<td>总计</td>\n\t\t\t\t<td>');
    
      __out.push(__sanitize(this.products.amount()));
    
      __out.push('</td>\n\t\t\t\t<td spancol=\'2\'>');
    
      __out.push(__sanitize(this.products.sum()));
    
      __out.push('</td>\n\t\t\t</tr>\n\t\t</table>\n  </label>\n  <label><span>\n            托盘数：\n          </span><input type="text" value="" /></label>\n  <label><span>\n              托盘体积：\n            </span><input type="text" value="" /></label>\n  <label><span>\n                净重：\n              </span><input type="text" value="');
    
      __out.push(__sanitize(this.products.weight()));
    
      __out.push('" /></label>\n  <label><span>\n                毛重：\n              </span><input type="text" value="" /></label>\n  <label>\n    <span></span><input type="submit" value="提交" /></label>\n            </form>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmgood": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, j, k, len, len1, len2, money, option, rec, ref, ref1, ref2, sizeUnit;
    
      option = function(arrays, curvalue) {
        return __capture(function() {
          var key, value;
          __out.push('\n');
          for (key in arrays) {
            value = arrays[key];
            __out.push('\n<option value="');
            __out.push(__sanitize(key));
            __out.push('" ');
            if (curvalue === key) {
              __out.push(__sanitize("selected"));
            }
            __out.push('>');
            __out.push(__sanitize(value));
            __out.push('</option>\n');
          }
          return __out.push('\n');
        });
      };
    
      __out.push('\n  \n');
    
      sizeUnit = function(curunit) {
        return __capture(function() {
          __out.push('\n');
          __out.push(__sanitize(option({
            'mm': '毫米',
            '"': '英寸'
          }, curunit)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n\n');
    
      money = function(rmb) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize((new Number(rmb)).toFixed(2)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n\n   <p>\n    <label>父 节 点：</label><select name="G_classid">\n    ');
    
      ref = this.goodclasses;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        if (!(rec.childCount() === 0)) {
          continue;
        }
        __out.push('\n    <option value="');
        __out.push(__sanitize(rec.id));
        __out.push('" ');
        if (parseInt(rec.id) === parseInt(this.good.classid || -1)) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(rec.longName()));
        __out.push('</option>\n    ');
      }
    
      __out.push('\n  </select>\n  </p>\n    <p>\n      <label>产品编码：</label>');
    
      __out.push(__sanitize(this.good.id || "no"));
    
      __out.push('\n    </p>\n    <p><label>形状：</label>\n      <select name="G_sharp">\n        ');
    
      ref1 = this.goodsharps;
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        rec = ref1[j];
        __out.push('\n        <option value="');
        __out.push(__sanitize(rec.id));
        __out.push('" ');
        if (rec.id === 1) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(rec.name));
        __out.push('</option>\n        ');
      }
    
      __out.push('\n      </select>\n    </p>\n    <p>\n      <label>长度：</label><input type="text" name="G_length" required value="');
    
      __out.push(__sanitize(this.good.length));
    
      __out.push('" /><select name="G_unitlen">\n        ');
    
      __out.push(__sanitize(sizeUnit(this.good.unitlen)));
    
      __out.push('\n      </select>\n    </p>\n    <p>\n      <label>宽度：</label><input type="text" name="G_width" required value="');
    
      __out.push(__sanitize(this.good.width));
    
      __out.push('" /><select name="G_unitwid">\n        ');
    
      __out.push(__sanitize(sizeUnit(this.good.unitwid)));
    
      __out.push('\n      </select>\n    </p>\n    <p>\n      <label>厚度：</label><input type="text" name="G_think" required value="');
    
      __out.push(__sanitize(this.good.think));
    
      __out.push('" /><select name="G_unitthi">\n        ');
    
      __out.push(__sanitize(sizeUnit(this.good.unitthi)));
    
      __out.push('\n      </select>\n    </p>\n    <p><label>重量：</label><input type="text" name="G_weight" required value="');
    
      __out.push(__sanitize(this.good.weight));
    
      __out.push('"/>kg/<select name="G_unit">\n        ');
    
      ref2 = ["片", "块", "根", "袋"];
      for (k = 0, len2 = ref2.length; k < len2; k++) {
        item = ref2[k];
        __out.push('\n          <option value="');
        __out.push(__sanitize(item));
        __out.push('"\n          ');
        if (this.good.unit === item) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(item));
        __out.push('\n        </option>\n        ');
      }
    
      __out.push('\n      </select></p>\n    <p>\n      <label>单价：</label><input type="text" name="G_price" required value="');
    
      __out.push(__sanitize(money(this.good.price)));
    
      __out.push('"/>元/');
    
      __out.push(__sanitize(this.good.unit));
    
      __out.push(' <span class="form_hint">');
    
      __out.push(__sanitize(money(this.good.price / this.good.weight * 1000)));
    
      __out.push('元/吨</span>\n      </p>\n    <p>\n      <label>返现：</label><input type="text" name="G_returnnow" required value="');
    
      __out.push(__sanitize(money(this.good.returnnow)));
    
      __out.push('"/>元/');
    
      __out.push(__sanitize(this.good.unit));
    
      __out.push('\n      </p>\n    <p>\n      <label>库存：</label><input type="text" name="G_amount" required value="');
    
      __out.push(__sanitize(this.good.amount));
    
      __out.push('"/>');
    
      __out.push(__sanitize(this.good.unit));
    
      __out.push('\n    </p>\n    <p>\n      <label>首页显示：</label><input type="radio" name="G_homeshow" value="Y" ');
    
      if (this.good.homeshow === 'Y') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />是 <input type="radio" name="G_homeshow" value="N" ');
    
      if (this.good.homeshow === 'N') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />否\n    </p>\n    <p>\n      <label>售卖：</label><input type="radio" name="G_cansale" value="Y" ');
    
      if (this.good.cansale === 'Y') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />是 <input type="radio" name="G_cansale" value="N" ');
    
      if (this.good.cansale === 'N') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />否\n    </p>\n    <p>\n      <label>状态：</label>\n      <select name="G_status">\n        ');
    
      __out.push(__sanitize(option({
        'O': '正常',
        'D': '降价',
        'P': '促销',
        'N': '新产品'
      }, this.good.status)));
    
      __out.push('\n      </select>\n    </p>\n    <input type=\'hidden\' name=\'action\' value=\'product_update\' />\n  ');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmgoodclass": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, len, rec, ref;
    
      __out.push('   <p>\n    <label>父 节 点：</label><select name="G_parentid">\n    <option value="0" >根节点</option>\n    ');
    
      ref = this.goodclasses;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        if (!(parseInt(rec.id) < 100)) {
          continue;
        }
        __out.push('\n    <option value="');
        __out.push(__sanitize(rec.id));
        __out.push('" ');
        if (parseInt(rec.id) === parseInt(this.goodclass.parentid)) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(rec.parentName() + rec.name));
        __out.push('</option>\n    ');
      }
    
      __out.push('\n  </select>\n  </p>\n  <p><label>类编码：</label>');
    
      __out.push(__sanitize(this.goodclass.id || "no"));
    
      __out.push('</p>\n  <p><label>中文名称：</label><input type="text" name="G_name" required value="');
    
      __out.push(__sanitize(this.goodclass.name));
    
      __out.push('" /></p>\n  <p><label>英文名称：</label><input type="text" name="G_name_en" required value="');
    
      __out.push(__sanitize(this.goodclass.name_en));
    
      __out.push('" /></p>\n  <p><label>中文介绍：</label><textarea name="G_introduction" required>\n    ');
    
      __out.push(__sanitize(this.goodclass.introduction));
    
      __out.push('\n  </textarea></p>\n  <p><label>英文介绍：</label><textarea name="G_introduction_en" required>\n    ');
    
      __out.push(__sanitize(this.goodclass.introduction_en));
    
      __out.push('\n  </textarea></p>\n    <input type=\'hidden\' name=\'action\' value=\'productclass_update\' />\n  ');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmirontray": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, len, rec, ref;
    
      if (thetrays !== null) {
        __out.push('\n   <p>\n    <label>请选择铁托盘：</label><select name="T_id">\n    ');
        ref = this.wherehouses;
        for (i = 0, len = ref.length; i < len; i++) {
          rec = ref[i];
          __out.push('\n    <option value="');
          __out.push(__sanitize(rec.id));
          __out.push('" %>>');
          __out.push(__sanitize(rec.size));
          __out.push('</option>\n    ');
        }
        __out.push('\n  </select>\n  </p>\n<p>\n  <label>数量：</label><input type="number" name="T_number" required value="0" />\n</p>\n<p>\n  <label>重量：</label><span></span>\n</p>\n<p>\n  <label>体积：</label><span></span>\n</p>\n');
      }
    
      __out.push('\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmmaterialtype": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, j, k, len, len1, len2, rec, ref, ref1, ref2;
    
      __out.push('   <p>\n    <label>父 节 点：</label><select name="M_parentid">\n    <option value="0" >根节点</option>\n    ');
    
      ref = this.materialtypes;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        if (!(parseInt(rec.id) < 100)) {
          continue;
        }
        __out.push('\n    <option value="');
        __out.push(__sanitize(rec.id));
        __out.push('" ');
        if (parseInt(rec.id) === parseInt(this.materialtype.parentid)) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(rec.parentName() + rec.name));
        __out.push('</option>\n    ');
      }
    
      __out.push('\n  </select>\n  </p>\n  <p><label>类编码：</label>');
    
      __out.push(__sanitize(this.materialtype.id || "no"));
    
      __out.push('</p>\n  <p><label>名称：</label><input type="text" name="M_name" required value="');
    
      __out.push(__sanitize(this.materialtype.name));
    
      __out.push('" /></p>\n  <p><label>进料模块：</label><select name="M_inrightid">\n    ');
    
      ref1 = this.departmentrights;
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        rec = ref1[j];
        __out.push('\n    <option value="');
        __out.push(__sanitize(rec.id));
        __out.push('" ');
        if (parseInt(rec.id) === parseInt(this.materialtype.inrightid)) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(rec.name));
        __out.push('</option>\n    ');
      }
    
      __out.push('\n  </select></p>\n  <p><label>领料模块：</label><select name="M_outrightid">\n    ');
    
      ref2 = this.departmentrights;
      for (k = 0, len2 = ref2.length; k < len2; k++) {
        rec = ref2[k];
        __out.push('\n    <option value="');
        __out.push(__sanitize(rec.id));
        __out.push('" ');
        if (parseInt(rec.id) === parseInt(this.materialtype.outrightid)) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(rec.name));
        __out.push('</option>\n    ');
      }
    
      __out.push('\n  </select></p>\n  <p><label>注释：</label><textarea name="M_note" required>\n    ');
    
      __out.push(__sanitize(this.materialtype.note));
    
      __out.push('\n  </textarea></p>\n    <input type=\'hidden\' name=\'action\' value=\'materialtype_update\' />\n  ');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmorder": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, index, item, j, k, l, len, len1, len2, m, money, n, o, option, rec, ref, ref1, ref2, sizeUnit;
    
      option = function(arrays, curvalue) {
        return __capture(function() {
          var key, value;
          __out.push('\n');
          for (key in arrays) {
            value = arrays[key];
            __out.push('\n<option value="');
            __out.push(__sanitize(key));
            __out.push('" ');
            if (curvalue === key) {
              __out.push(__sanitize("selected"));
            }
            __out.push('>');
            __out.push(__sanitize(value));
            __out.push('</option>\n');
          }
          return __out.push('\n');
        });
      };
    
      __out.push('\n  \n');
    
      sizeUnit = function(curunit) {
        return __capture(function() {
          __out.push('\n');
          __out.push(__sanitize(option({
            'mm': '毫米',
            '"': '英寸'
          }, curunit)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n\n');
    
      money = function(rmb) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize((new Number(rmb)).toFixed(2)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n\n<form enctype="multipart/form-data" method="post" name="upform" action="">\n  <div>\n  <p>\n    <label>父 节 点：</label><select name="G_classid">\n    ');
    
      ref = this.orderstates;
      for (k = 0, len = ref.length; k < len; k++) {
        rec = ref[k];
        if (!(rec.childCount() === 0)) {
          continue;
        }
        __out.push('\n    <option value="');
        __out.push(__sanitize(rec.id));
        __out.push('" ');
        if (parseInt(rec.id) === parseInt(this.order.classid)) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(rec.longName()));
        __out.push('</option>\n    ');
      }
    
      __out.push('\n  </select>\n  </p>\n    <p>\n      <label>产品编码：</label>');
    
      __out.push(__sanitize(this.order.id || "no"));
    
      __out.push('\n    </p>\n    <p><label>形状：</label>\n      <select name="G_sharp">\n        ');
    
      ref1 = ['矩形', '圆', '半圆', '环'];
      for (index = l = 0, len1 = ref1.length; l < len1; index = ++l) {
        rec = ref1[index];
        __out.push('\n        <option value="');
        __out.push(__sanitize(index));
        __out.push('" ');
        if (this.order.sharp === index + 1) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(rec));
        __out.push('</option>\n        ');
      }
    
      __out.push('\n      </select>\n    </p>\n    <p>\n      <label>长度：</label><input type="text" name="G_length" required value="');
    
      __out.push(__sanitize(this.order.length));
    
      __out.push('" /><select name="G_unitlen">\n        ');
    
      __out.push(__sanitize(sizeUnit(this.order.unitlen)));
    
      __out.push('\n      </select>\n    </p>\n    <p>\n      <label>宽度：</label><input type="text" name="G_width" required value="');
    
      __out.push(__sanitize(this.order.width));
    
      __out.push('" /><select name="G_unitwid">\n        ');
    
      __out.push(__sanitize(sizeUnit(this.order.unitwid)));
    
      __out.push('\n      </select>\n    </p>\n    <p>\n      <label>厚度：</label><input type="text" name="G_think" required value="');
    
      __out.push(__sanitize(this.order.think));
    
      __out.push('" /><select name="G_unitthi">\n        ');
    
      __out.push(__sanitize(sizeUnit(this.order.unitthi)));
    
      __out.push('\n      </select>\n    </p>\n    <p><label>重量：</label><input type="text" name="G_weight" required value="');
    
      __out.push(__sanitize(this.order.weight));
    
      __out.push('"/>kg/<select name="G_unit">\n        ');
    
      ref2 = ["片", "块", "根", "袋"];
      for (m = 0, len2 = ref2.length; m < len2; m++) {
        item = ref2[m];
        __out.push('\n          <option value="');
        __out.push(__sanitize(item));
        __out.push('"\n          ');
        if (this.order.unit === item) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(item));
        __out.push('\n        </option>\n        ');
      }
    
      __out.push('\n      </select></p>\n    <p>\n      <label>单价：</label><input type="text" name="G_price" required value="');
    
      __out.push(__sanitize(money(this.order.price)));
    
      __out.push('"/>元/');
    
      __out.push(__sanitize(this.order.unit));
    
      __out.push(' <span class="form_hint">');
    
      __out.push(__sanitize(money(this.order.price / this.order.weight * 1000)));
    
      __out.push('元/吨</span>\n      </p>\n    <p>\n      <label>返现：</label><input type="text" name="G_returnnow" required value="');
    
      __out.push(__sanitize(money(this.order.returnnow)));
    
      __out.push('"/>元/');
    
      __out.push(__sanitize(this.order.unit));
    
      __out.push('\n      </p>\n    <p>\n      <label>库存：</label><input type="text" name="G_amount" required value="');
    
      __out.push(__sanitize(this.order.amount));
    
      __out.push('"/>');
    
      __out.push(__sanitize(this.order.unit));
    
      __out.push('\n    </p>\n    <p>\n      <label>首页显示：</label><input type="radio" name="G_homeshow" value="Y" ');
    
      if (this.order.homeshow === 'Y') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />是 <input type="radio" name="G_homeshow" value="N" ');
    
      if (this.order.homeshow === 'N') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />否\n    </p>\n    <p>\n      <label>售卖：</label><input type="radio" name="G_cansale" value="Y" ');
    
      if (this.order.cansale === 'Y') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />是 <input type="radio" name="G_cansale" value="N" ');
    
      if (this.order.cansale === 'N') {
        __out.push(__sanitize('checked'));
      }
    
      __out.push(' />否\n    </p>\n    <p>\n      <label>状态：</label>\n      <select name="G_status">\n        ');
    
      __out.push(__sanitize(option({
        'O': '正常',
        'D': '降价',
        'P': '促销',
        'N': '新产品'
      }, this.order.status)));
    
      __out.push('\n      </select>\n    </p>\n    <p>\n      <label for=\'code\'>\n        验证码：\n      </label>\n      <input name=\'code\' type=\'text\' required=\'\' pattern=\'\\d{4}\' placeholder=\'输入右侧图片中的字符\'/>\n      <img class=\'validate\' src=\'admin/checkNum_session.php\' align=\'absmiddle\' style=\'border:#CCCCCC 1px solid; cursor:pointer;\' title=\'点击重新获取验证码\' width=\'50\' height=\'20\' />\n    </p>\n    <input type=\'hidden\' name=\'action\' value=\'product_update\' />\n  </div>\n  <div>\n    <img src=\'images/order/');
    
      __out.push(__sanitize(this.order.picture || "noimg.png"));
    
      __out.push('\' width=\'453\' height=\'267\' />\n    <input type="file" name="upload_order" id="upload_file">\n      <p>\n        <button>\n          选择要上传的图像\n        </button>\n      </p>\n      <p>\n        支持 JPG、GIF、PNG、JPEG 图像格式, 尺寸小于 4M。\n      </p>\n      <div>\n        <input name="watermask" type="checkbox" />添加水印\n        <div class="waterType" style="display:none">\n          <span>\n            <input name=\'watersel\' type=\'radio\' checked=\'\' value=\'0\'>\n              文本水印\n              <input name=\'watersel\' type=\'radio\' value=\'1\'>图形水印\n              </span>\n          <div class="watermode">\n            <p>\n              <label for=\'watermasktxt\'>\n                水印文本:\n              </label>\n              <input type="text" name="watermasktxt" placeholder=\'请输入水印文本\'/>\n            </p>\n              <p>\n                <label for=\'textcolor\'>\n                  文本颜色:\n                </label>\n                <input type="text" name="textcolor" placeholder=\'请输入文本颜色\' value=\'#CCCCCC\'/>\n              </p>\n              <p>\n                  <label for=\'fontsize\'>\n                    字体尺寸:\n                  </label>\n                  <input type="number" name="fontsize" placeholder=\'请输入字体尺寸\' min=\'1\' max=\'256\' value=\'12\'/>\n              </p>\n            </div>\n          <div class="watermode" style="display:none">\n            <img src=\'images/maskimg.png\' width=\'33\' height=\'33\' />\n            <input type="file" name="upload_mask" />\n            <p>\n              <button>\n                选择水印图像\n              </button>\n            </p>\n            <p>\n              支持 JPG、GIF、PNG、JPEG 图像格式, 尺寸小于 4M。\n            </p>\n          </div>\n          <fieldset style="width:70px;height:80px;float:left">\n            <legend>\n              水印位置\n            </legend>\n            ');
    
      for (i = n = 0; n <= 2; i = ++n) {
        __out.push('\n            <p>\n              ');
        for (j = o = 1; o <= 3; j = ++o) {
          __out.push('\n              <input name="waterpos" type="radio" value=""');
          __out.push(__sanitize(i * 3 + j));
          __out.push('" ');
          if (i === 1 && j === 2) {
            __out.push(__sanitize("checked"));
          }
          __out.push(' />\n              ');
        }
        __out.push('\n            </p>\n            ');
      }
    
      __out.push('\n          </fieldset>\n          <fieldset style="width: 100px;height:80px;float:left">\n            <legend>\n              水印偏移\n            </legend>\n            <p>\n                水平:\n              <input type="number" name="xoffset" placeholder=\'请输入水平偏移\' min=\'0\' max=\'100\' value=\'0\'/>\n            </p>\n            <p style="margin-top:5px">\n                垂直:\n              <input type="number" name="yoffset" placeholder=\'请输入垂直偏移\' min=\'0\' max=\'100\' value=\'0\'/>\n            </p>\n          </fieldset>\n            </div>\n      </div>\n    </div>\n<p><input type="submit" value="保存" name="submit" /></p>\n\n    </form>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmorders": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, len, ref, ref1, ref2;
    
      __out.push('<table>\n  <thead>\n    <th>订单号</th>\n    <th>订货人</th>\n    <th>订货数量</th>\n    <th>订货金额</th>\n    <th>交货期</th>\n    <th>订货时间</th>\n    <th>订单状态</th>\n    <th>操作</th>\n  </thead>\n  <tbody>\n    ');
    
      ref = this;
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        __out.push('\n    <tr>\n      <td>\n        ');
        __out.push(__sanitize(item.code));
        __out.push('\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.customName()));
        __out.push('\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.sumNumber()));
        __out.push('\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.sumPrice()));
        __out.push('\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.shipdate));
        __out.push(' 天\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.time));
        __out.push('\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.stateName()));
        __out.push('\n      </td>\n      <td>\n        <button class="');
        __out.push(__sanitize((ref1 = item.stateid) === '1' || ref1 === '4' ? 'edit' : 'show'));
        __out.push('" id-data="');
        __out.push(__sanitize(item.id));
        __out.push('">');
        __out.push(__sanitize((ref2 = item.stateid) === "1" || ref2 === "4" ? "编辑" : "查看"));
        __out.push('</button>\n\t\t');
        if (item.stateid === 10 && item.is_export()) {
          __out.push(__sanitize("<button class='exportinvoice' >箱单/发票</button>"));
        }
        __out.push('\n      </td>\n    </tr>\n    ');
      }
    
      __out.push('\n  </tbody>\n</table>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmorderstate": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var key, ref, val;
    
      __out.push(' <p><label>状态编码：</label>');
    
      __out.push(__sanitize(this.orderstate.id || "no"));
    
      __out.push('</p>\n  <p><label>中文名称：</label><input type="text" name="S_name" required value="');
    
      __out.push(__sanitize(this.orderstate.name));
    
      __out.push('" /></p>\n  <p><label>英文名称：</label><input type="text" name="S_name_en" required value="');
    
      __out.push(__sanitize(this.orderstate.name_en));
    
      __out.push('" /></p>\n  <p><label>操作方：</label>\n    <select name=\'S_actor\' >\n      ');
    
      ref = {
        'C': '客户',
        'S': '系统'
      };
      for (key in ref) {
        val = ref[key];
        __out.push('\n      <option value="');
        __out.push(__sanitize(key));
        __out.push('" ');
        if (key === this.orderstate.actor) {
          __out.push(__sanitize('selected=true'));
        }
        __out.push('>\n        ');
        __out.push(__sanitize(val));
        __out.push('\n      </option>\n      ');
      }
    
      __out.push('\n    </select>\n  </p>\n    <p>\n      <label>客户端提示：</label>\n      <input type="text"name="S_note" required value="');
    
      __out.push(__sanitize(this.orderstate.note));
    
      __out.push('" />\n    </p>\n    <p>\n      <label>系统端提示：</label>\n      <input type="text"name="S_yrrnote" required value="');
    
      __out.push(__sanitize(this.orderstate.yrrnote));
    
      __out.push('" />\n    </p>\n    <p>\n      <label>状态：</label>\n      <input type="text"name="S_state" required value="');
    
      __out.push(__sanitize(this.orderstate.state));
    
      __out.push('" />\n    </p>\n    <input type=\'hidden\' name=\'action\' value=');
    
      __out.push(__sanitize(this.orderstate.id != null ? 'orderstate_update' : 'orderstate_create'));
    
      __out.push(' />\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmqiye": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, j, len, len1, ref, ref1;
    
      __out.push('<form>\n  <label><span>\n    公司中文名称：\n  </span><input type="text" name="name" value="');
    
      __out.push(__sanitize(this.qiyes.name));
    
      __out.push('" /></label>\n  <label><span>\n      公司英文名称：\n    </span><input type="text" name="name_en" value="');
    
      __out.push(__sanitize(this.qiyes.name_en));
    
      __out.push('" /></label>\n  <label><span>\n        网站域名：\n      </span><input type="text" name="domain" value="');
    
      __out.push(__sanitize(this.qiyes.domain));
    
      __out.push('" /></label>\n  <label><span>\n        QQ：\n      </span><input type="text" name="qq" value="');
    
      __out.push(__sanitize(this.qiyes.qq));
    
      __out.push('" /></label>\n  <label><span>\n          电话：\n        </span><input type="text" name="tel" value="');
    
      __out.push(__sanitize(this.qiyes.tel));
    
      __out.push('" /></label>\n  <label><span>\n          传真：\n        </span><input type="text" name="fax" value="');
    
      __out.push(__sanitize(this.qiyes.fax));
    
      __out.push('" /></label>\n  <label><span>\n          公司中文地址：\n        </span><input type="text" name="address" value="');
    
      __out.push(__sanitize(this.qiyes.address));
    
      __out.push('" /></label>\n  <label><span>\n    公司英文地址：\n  </span><input type="text" name="address_en" value="');
    
      __out.push(__sanitize(this.qiyes.address_en));
    
      __out.push('" /></label>\n  <label><span>\n              邮件地址：\n            </span><input type="text" name="email" value="');
    
      __out.push(__sanitize(this.qiyes.email));
    
      __out.push('" /></label>\n  <label><span>\n                技术部负责人：\n              </span><select name="techid">\n                ');
    
      ref = this.employees;
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        if (!(item.departmentid === 6)) {
          continue;
        }
        __out.push('\n                <option value="');
        __out.push(__sanitize(item.userid));
        __out.push('" ');
        if (item.userid === this.qiyes.techid) {
          __out.push(__sanitize("selected>"));
        }
        __out.push('>\n                  ');
        __out.push(__sanitize(item != null ? item.getName() : void 0));
        __out.push('\n                </option>\n                ');
      }
    
      __out.push('\n              </select></label>\n  <label><span>\n                业务部负责人：\n              </span><select name="busiid">\n                ');
    
      ref1 = this.employees;
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        item = ref1[j];
        if (!(item.departmentid === 5)) {
          continue;
        }
        __out.push('\n                <option value="');
        __out.push(__sanitize(item.userid));
        __out.push('"\n                  ');
        if (item.userid === this.qiyes.busiid) {
          __out.push(__sanitize("selected>"));
        }
        __out.push('>\n                  ');
        __out.push(__sanitize(item != null ? item.getName() : void 0));
        __out.push('\n                </option>\n                ');
      }
    
      __out.push('\n              </select></label>\n  <label><span>\n                备案号：\n              </span><input type="text" name="icp" value="');
    
      __out.push(__sanitize(this.qiyes.icp));
    
      __out.push('" /></label>\n  <label><span>\n                美元汇率：\n              </span><input type="text" name="exchangerate" value="');
    
      __out.push(__sanitize(new Number(this.qiyes.exchangerate).toFixed(2)));
    
      __out.push('" /></label>\n  <label>\n    <span></span><input type="submit" value="提交" /></label>\n            </form>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmverifycode": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('     <p>\n      <label for=\'code\'>\n        验证码:\n      </label>\n      <input name=\'code\' type=\'text\' required=\'\' pattern=\'\\d{4}\' placeholder=\'输入右侧图片中的字符\'/>\n      <img class=\'validate\' src=\'admin/checkNum_session.php\' align=\'absmiddle\' style=\'border:#CCCCCC 1px solid; cursor:pointer;\' title=\'点击重新获取验证码\' width=\'50\' height=\'20\' />\n    </p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/fmwerehouse": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, len, rec, ref;
    
      __out.push('   <p>\n    <label>分类名称：</label><select name="W_typeid">\n    ');
    
      ref = this.materialtypes;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        if (!(rec.childCount() === 0)) {
          continue;
        }
        __out.push('\n    <option value="');
        __out.push(__sanitize(rec.id));
        __out.push('" ');
        if (parseInt(rec.id) === parseInt(this.werehouse.typeid || -1)) {
          __out.push(__sanitize("selected"));
        }
        __out.push('>');
        __out.push(__sanitize(rec.longName()));
        __out.push('</option>\n    ');
      }
    
      __out.push('\n  </select>\n  </p>\n    <p>\n      <label>产品编码：</label>');
    
      __out.push(__sanitize(this.werehouse.id || "no"));
    
      __out.push('\n    </p>\n\n    <p>\n      <label>名称：</label><input type="text" name="W_name" required value="');
    
      __out.push(__sanitize(this.werehouse.name));
    
      __out.push('" />\n    </p>\n    <p>\n      <label>规格型号：</label><input type="text" name="W_size" required value="');
    
      __out.push(__sanitize(this.werehouse.size));
    
      __out.push('" />\n    </p>\n    <p>\n      <label>单位：</label><input type="text" name="W_unit" required value="');
    
      __out.push(__sanitize(this.werehouse.unit));
    
      __out.push('" />\n    </p>\n    <p><label>数量：</label><input type="text" name="W_number" required value="');
    
      __out.push(__sanitize(this.werehouse.number));
    
      __out.push('"/>\n    </p>\n    <p>\n      <label>注释：</label><input type="text" name="W_note" required value="');
    
      __out.push(__sanitize(this.werehouse.note));
    
      __out.push('"/>\n      </p>\n    <input type=\'hidden\' name=\'action\' value=\'werehouse_update\' />\n  ');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/good": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var money;
    
      money = function(rmb) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize((new Number(rmb)).toFixed(2)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n<div>\n  <dl>\n    <dt>父结点：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.good.longName()));
    
      __out.push('\n    </dd>\n    <dt>编码：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.good.id));
    
      __out.push('\n    </dd>\n    <dt>形状：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.sharp.name));
    
      __out.push('\n    </dd>\n    <dt>规格尺寸：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.good.size));
    
      __out.push('\n    </dd>\n    <dt>单位：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.good.unit));
    
      __out.push('\n    </dd>\n    <dt>重量：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.good.weight));
    
      __out.push(' kg\n    </dd>\n    <dt>单价：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(money(this.good.price)));
    
      __out.push('元/');
    
      __out.push(__sanitize(this.good.unit));
    
      __out.push(' (');
    
      __out.push(__sanitize(money(this.good.price / this.good.weight * 1000)));
    
      __out.push('元/吨)\n    </dd>\n    <dt>返现：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(money(this.good.returnnow)));
    
      __out.push('元\n      </dd>\n    <dt>库存：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.good.amount));
    
      __out.push('\n    </dd>\n    <dt>上架：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.good.cansale === 'Y' ? '是' : '否'));
    
      __out.push('\n    </dd>\n    <dt>首页显示：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.good.homeshow === 'Y' ? '是' : '否'));
    
      __out.push('\n    </dd>\n    <dt>状态：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize({
        'O': '正常',
        'D': '降价',
        'P': '促销',
        'N': '新产品'
      }[this.good.status]));
    
      __out.push('\n    </dd>\n    <dt>备注：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.good.note));
    
      __out.push('\n    </dd>\n  </dl>\n</div>\n  <div class=\'uploadimage\'>\n  <img src=\'images/good/');
    
      __out.push(__sanitize(this.good.picture));
    
      __out.push('\' width=\'453\' height=\'267\' />\n</div>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/goodclass": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<div>\n  <dl>\n    <dt>父结点：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.goodclass.parentName()));
    
      __out.push('\n    </dd>\n    <dt>编码：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.goodclass.id));
    
      __out.push('\n    </dd>\n    <dt>中文名称：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.goodclass.name));
    
      __out.push('\n    </dd>\n    <dt>英文名称：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.goodclass.name_en));
    
      __out.push('\n    </dd>\n    <dt>中文介绍：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.goodclass.introduction));
    
      __out.push('\n    </dd>\n    <dt>英文介绍：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.goodclass.introduction_en));
    
      __out.push('\n    </dd>\n  </dl>\n</div>\n<div class=\'uploadimage\'>\n  <img src=\'images/good/');
    
      __out.push(__sanitize(this.goodclass.picture));
    
      __out.push('\' width=\'453\' height=\'267\' />\n</div>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/goods": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<div class="zTreeDemoBackground left">\n  <ul id="treeDemo" class="ztree"></ul>\n</div>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/img_option": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, j, k, l;
    
      __out.push('<img src=\'images/');
    
      __out.push(__sanitize(this.imgpath));
    
      __out.push('/');
    
      __out.push(__sanitize(this.picture || "noimg.png"));
    
      __out.push('\'  />\n<input type="file" name="upload_image" id="upload_file">\n<p>\n  <button>\n    选择要上传的图像\n  </button>\n</p>\n<p>\n  支持 JPG、GIF、PNG、JPEG 图像格式, 尺寸小于 4M。\n</p>\n<div>\n  <input name="watermask" type="checkbox" />添加水印\n  <div class="waterType" style="display:none">\n    <span>\n      <input name=\'watersel\' type=\'radio\' checked=\'\' value=\'0\'>文本水印\n      <input name=\'watersel\' type=\'radio\' value=\'1\'>图形水印\n    </span>\n    <div class="watermode">\n    <p>\n      <label for=\'watermasktxt\'>\n        水印文本:\n      </label>\n      <input type="text" name="watermasktxt" placeholder=\'请输入水印文本\'/>\n    </p>\n    <p>\n      <label for=\'textcolor\'>\n        文本颜色:\n      </label>\n      <input type="text" name="textcolor" placeholder=\'请输入文本颜色\' value=\'#CCCCCC\'/>\n    </p>\n    <p>\n      <label for=\'fontsize\'>\n        字体尺寸:\n      </label>\n      <input type="number" name="fontsize" placeholder=\'请输入字体尺寸\' min=\'1\' max=\'256\' value=\'12\'/>\n    </p>\n  </div>\n  <div class="watermode" style="display:none">\n    <img src=\'images/maskimg.png\' width=\'33\' height=\'33\' />\n    <input type="file" name="upload_mask" />\n    <p>\n      <button>\n        选择水印图像\n      </button>\n    </p>\n    <p>\n      支持 JPG、GIF、PNG、JPEG 图像格式, 尺寸小于 4M。\n    </p>\n  </div>\n  <fieldset>\n    <legend>\n      水印位置\n    </legend>\n    ');
    
      for (i = k = 0; k <= 2; i = ++k) {
        __out.push('\n      <p>\n      ');
        for (j = l = 1; l <= 3; j = ++l) {
          __out.push('\n        <input name="waterpos" type="radio" value="');
          __out.push(__sanitize(i * 3 + j));
          __out.push('" ');
          if (i === 1 && j === 2) {
            __out.push(__sanitize("checked"));
          }
          __out.push(' />\n      ');
        }
        __out.push('\n      </p>\n    ');
      }
    
      __out.push('\n  </fieldset>\n  <fieldset>\n    <legend>\n      水印偏移\n    </legend>\n    <p>\n      水平:\n      <input type="number" name="xoffset" placeholder=\'请输入水平偏移\' min=\'0\' max=\'100\' value=\'0\'/>\n    </p>\n    <p style="margin-top:5px">\n      垂直:\n      <input type="number" name="yoffset" placeholder=\'请输入垂直偏移\' min=\'0\' max=\'100\' value=\'0\'/>\n    </p>\n  </fieldset>\n</div>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/irontray": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      if (this.thetrays !== null) {
        __out.push('\n   <p>\n    <label>铁托盘：</label><span>');
        __out.push(__sanitize(this.thetray.size));
        __out.push('</span>\n  </p>\n<p>\n  <label>数量：</label><span>');
        __out.push(__sanitize(this.thetray.traynum));
        __out.push('</span>\n</p>\n<p>\n  <label>重量：</label><span></span>\n</p>\n<p>\n  <label>体积：</label><span></span>\n</p>\n');
      }
    
      __out.push('\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/login": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<form id="login" name="login" method="post" onsubmit="return false;">\n  <ol>\n    <li>\n      用户名：<input type="text" name=\'username\' id=\'username\' required placeholder=\'如:abc123\' value="" pattern="[a-zA-Z]{1}[a-zA-Z0-9\\-\\_\\@\\.]{4,16}[a-zA-Z0-9]{1}" />\n    </li>\n    <li>\n      密　码：<input type="password" name=\'pwd\' id=\'userpwd\' required placeholder=\'如:abc#123@*XY\' value="" pattern="[\\w\\-\\!\\@\\#\\$\\%\\^\\&\\*]{6,16}"/>\n    </li>\n    <li>\n      验证码：<input type="text" id="code" name="code" required value="" placeholder=\'右图中的字符\' pattern=\'\\d{4}\' /> <img id="validateimg" src="admin/checkNum_session.php" align=\'absmiddle\' style="border:#CCCCCC 1px solid; cursor:pointer;" alt=\'点击重新获取验证码\' width="50" height="20" />\n    </li>\n    <li>\n      <span class="STYLE1" style="position:relative;left:48">\n        <input type="hidden" name="token" value="user_token" />\n        <input type="hidden" name="action" value="employee_login" />\n        <button>登录</button>\n        <a href=\'fogot_form.php\'> 忘记密码?</a>\n      </span>\n    </li>\n  </ol>\n</form>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/materialtype": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var ref, ref1;
    
      __out.push('<div>\n  <dl>\n    <dt>父结点：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.materialtype.parentName()));
    
      __out.push('\n    </dd>\n    <dt>编码：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.materialtype.id));
    
      __out.push('\n    </dd>\n    <dt>名称：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.materialtype.name));
    
      __out.push('\n    </dd>\n    <dt>进料模块：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize((ref = this.departmentright.find(this.materialtype.inrightid)) != null ? ref.name : void 0));
    
      __out.push('\n    </dd>\n    <dt>领料模块：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize((ref1 = this.departmentright.find(this.materialtype.outrightid)) != null ? ref1.name : void 0));
    
      __out.push('\n    </dd>\n  </dl>\n</div>\n<div class=\'uploadimage\'>\n  <img src=\'images/werehouse/');
    
      __out.push(__sanitize(this.materialtype.picture));
    
      __out.push('\' width=\'453\' height=\'267\' />\n</div>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/myyunrui": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var money, star;
    
      money = function(rmb) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize((new Number(rmb)).toFixed(2)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n\n');
    
      star = function(evals) {
        return __capture(function() {
          var eval, i, j, k, len, m, sum;
          __out.push('\n\t');
          sum = 0;
          __out.push('\n\t');
          for (j = 0, len = evals.length; j < len; j++) {
            eval = evals[j];
            sum += eval.star;
          }
          __out.push('\n\t');
          sum /= evals.length;
          __out.push('\n\t');
          for (i = k = 1; k <= 5; i = ++k) {
            m = i <= sum ? 1 : 0;
            __out.push('<img src="images/star');
            __out.push(__sanitize(m));
            __out.push('.png" />');
          }
          return __out.push('\n');
        });
      };
    
      __out.push('\n\n  <img src="images/user/');
    
      __out.push(__sanitize(this.person.picture));
    
      __out.push('" />\n  <ul>\n  <li>\n    <strong>\n      <a>');
    
      __out.push(__sanitize(this.person.name));
    
      __out.push('</a>\n    </strong>\n    </li>\n  <li>\n    <span>\n      ');
    
      __out.push(__sanitize(this.welcome));
    
      __out.push('!\n    </span>\n    </li>\n  <li>\n    <span>\n      ');
    
      __out.push(__sanitize(this.post.getNames(this.employee.postids)));
    
      __out.push('\n    </span>\n  </li>\n  <li>\n    <span>\n      ');
    
      __out.push(__sanitize(this.department.name));
    
      __out.push('\n    </span>\n  </li>\n  </ul>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/orderbill": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var ref;
    
      __out.push('<dl>\n  <dt>\n    <b>票据信息</b>\n  </dt>\n  <dd>\n    <label>票据类型:</label> ');
    
      __out.push(__sanitize(this.types.name));
    
      __out.push('\n  </dd>\n  <dd>\n    <label>票据抬头:</label> ');
    
      __out.push(__sanitize(((ref = this.bills) != null ? ref.name : void 0) || "person"));
    
      __out.push('\n  </dd>\n  <dd>\n    <label>票据内容:</label> ');
    
      __out.push(__sanitize(this.contents.name));
    
      __out.push('\n  </dd>\n</dl>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/orderconsignee": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var key, ref, value;
    
      __out.push('<dl>\n  <dt>\n    <b>收货人信息</b>\n  </dt>\n  ');
    
      ref = this.receipt;
      for (key in ref) {
        value = ref[key];
        __out.push('\n  <dd>\n    <label>');
        __out.push(__sanitize(key));
        __out.push(':</label> ');
        __out.push(__sanitize(value));
        __out.push('\n  </dd>\n  ');
      }
    
      __out.push('\n</dl>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/ordercurrentstate": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span>\n</P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/orderdelete": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var money;
    
      money = function(rmb) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize((new Number(rmb)).toFixed(2)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n<form enctype="multipart/form-data" method="post" name="upform" action="">\n<div>\n  <dl>\n    <dt>父结点：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.order.longName()));
    
      __out.push('\n    </dd>\n    <dt>编码：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.order.id));
    
      __out.push('\n    </dd>\n    <dt>形状：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(['矩形', '圆', '半圆', '环'][this.order.sharp - 1]));
    
      __out.push('\n    </dd>\n    <dt>规格尺寸：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.order.size()));
    
      __out.push('\n    </dd>\n    <dt>单位：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.order.unit));
    
      __out.push('\n    </dd>\n    <dt>重量：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.order.weight));
    
      __out.push(' kg\n    </dd>\n    <dt>单价：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(money(this.order.price)));
    
      __out.push('元/');
    
      __out.push(__sanitize(this.order.unit));
    
      __out.push(' (');
    
      __out.push(__sanitize(money(this.order.price / this.order.weight * 1000)));
    
      __out.push('元/吨)\n    </dd>\n    <dt>返现：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(money(this.order.returnnow)));
    
      __out.push('元\n      </dd>\n    <dt>库存：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.order.amount));
    
      __out.push('\n    </dd>\n    <dt>上架：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.order.cansale === 'Y' ? '是' : '否'));
    
      __out.push('\n    </dd>\n    <dt>首页显示：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.order.homeshow === 'Y' ? '是' : '否'));
    
      __out.push('\n    </dd>\n    <dt>状态：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize({
        'O': '正常',
        'D': '降价',
        'P': '促销',
        'N': '新产品'
      }[this.order.status]));
    
      __out.push('\n    </dd>\n    <dt>备注：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.order.note));
    
      __out.push('\n    </dd>\n  <dt>\n      <label for=\'code\'>\n        验证码:\n      </label>\n  </dt>\n  <dd>\n      <input name=\'code\' type=\'text\' required pattern=\'\\d{4}\' placeholder=\'输入右侧图片中的字符\'/>\n      <img class=\'validate\' src=\'admin/checkNum_session.php\' align=\'absmiddle\' style=\'border:#CCCCCC 1px solid; cursor:pointer;\' title=\'点击重新获取验证码\' width=\'50\' height=\'20\' />\n  </dd>\n  </dl>\n    <input type=\'hidden\' name=\'action\' value=\'product_delete\' />\n</div>\n<div>\n  <img src=\'images/order/');
    
      __out.push(__sanitize(this.order.picture));
    
      __out.push('\' width=\'453\' height=\'267\' />\n</div>\n<p><input type="submit" value="删除产品" name="submit" /></p>\n    </form>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/orderpay": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, index, item, len, ref;
    
      __out.push('<table>\n\t<tr><th>处理时间</th><th>处理信息</th><th>操作人</th></tr>\n  ');
    
      ref = this.thestate;
      for (index = i = 0, len = ref.length; i < len; index = ++i) {
        item = ref[index];
        __out.push('\n\t  <tr><td>');
        __out.push(__sanitize(item.time));
        __out.push('</td><td>');
        __out.push(__sanitize(item.getNote()));
        __out.push('</td><td>');
        __out.push(__sanitize(item.getActor()));
        __out.push('</td></tr>\n  ');
      }
    
      __out.push('\n</table>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/orderpaymentedit": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<dl>\n  <dt>\n    <b>支付方式</b>\n  </dt>\n  <dd>\n    <label>支付方式:</label> ');
    
      __out.push(__sanitize(this.pays.name));
    
      if (parseInt(this.orders.downpayment) - parseInt(this.orders.guarantee) === 100) {
        __out.push(__sanitize("，全额支付"));
      }
    
      __out.push('\n    </dd>\n  <dd>\n    <label>预付款:</label>\n    ');
    
      if (this.orders.stateid === 1) {
        __out.push('<input type="text" name="downpayment" value="');
        __out.push(__sanitize($.trim(this.orders.downpayment)));
        __out.push('" />');
      } else {
        __out.push(__sanitize($.trim(this.orders.downpayment)));
      }
    
      __out.push('%\n  </dd>\n  <dd>\n    <label>质保金:</label> 订单商品金额的 ');
    
      if (this.orders.stateid === 1) {
        __out.push('<input type="text" name="guarantee" value="');
        __out.push(__sanitize(this.orders.guarantee));
        __out.push('" />');
      } else {
        __out.push(__sanitize(this.orders.guarantee));
      }
    
      __out.push('%\n  </dd>\n    <dd>\n      <label>质保期:</label> ');
    
      if (this.orders.stateid === 1) {
        __out.push('<input type="text" name="guaranteeperiod" value="');
        __out.push(__sanitize(this.orders.guaranteeperiod));
        __out.push('" />');
      } else {
        __out.push(__sanitize(this.orders.guaranteeperiod));
      }
    
      __out.push('个月\n    </dd>\n</dl>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/orderpaymentshow": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<dl>\n  <dt>\n    <b>支付方式</b>\n  </dt>\n  <dd>\n    <label>支付方式:</label> ');
    
      __out.push(__sanitize(this.pays.name));
    
      if (parseInt(this.orders.downpayment) - parseInt(this.orders.guarantee) === 100) {
        __out.push(__sanitize("，全额支付"));
      }
    
      __out.push('\n    </dd>\n  <dd>\n    <label>预付款:</label>');
    
      __out.push(__sanitize(this.orders.downpayment));
    
      __out.push('%\n  </dd>\n  <dd>\n    <label>质保金:</label> 订单商品金额的 ');
    
      __out.push(__sanitize(this.orders.guarantee));
    
      __out.push('\n    </dd>\n    <dd>\n      <label>质保期:</label> ');
    
      __out.push(__sanitize(this.orders.guaranteeperiod));
    
      __out.push('\n    </dd>\n</dl>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/orderproductsedit": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, k, len, money, pro, rec, ref, ref1, v;
    
      money = function(rmb) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize((new Number(rmb)).toFixed(2)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n  \n<p class="productlist"><b>商品清单</b></p>\n<table>\n  <thead>\n    <tr>\n      <th>商品编号</th>\n      <th>商品图片</th>\n      <th>商品名称</th>\n      <th>数量</th>\n      <th>云瑞价</th>\n      <th>返现</th>\n      <th>模具费</th>\n      <th>供货时间</th>\n    </tr>\n  </thead>\n  <tbody>\n    ');
    
      ref = this.orders.products;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        __out.push('\n    ');
        pro = this.products.find(rec.proid);
        __out.push('\n    <tr data-product="');
        __out.push(__sanitize(rec.proid));
        __out.push('">\n      <td>\n        ');
        __out.push(__sanitize(pro.formatId()));
        __out.push('\n      </td>\n      <td>\n        <a class="showproduct" data-product="');
        __out.push(__sanitize(pro.id));
        __out.push('"><img src="images/good/');
        __out.push(__sanitize(pro.picture));
        __out.push('" /></a>\n      </td>\n      <td><a class="showproduct" data-product="');
        __out.push(__sanitize(pro.id));
        __out.push('">');
        __out.push(__sanitize(pro.longname));
        __out.push('<br />');
        __out.push(__sanitize(pro.size));
        __out.push('\n      </a>\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(rec.number));
        __out.push('<span class="form_hint">');
        ref1 = {
          "moldingnumber": "成型",
          "drynumber": "干燥",
          "firingnumber": "烧成",
          "packagenumber": "包装"
        };
        for (k in ref1) {
          v = ref1[k];
          if (rec[k] !== 0) {
            __out.push(v + ": " + rec[k] + "<br />");
          }
        }
        __out.push('</span>\n      </td>\n      <td>\n          ¥');
        __out.push(__sanitize(rec.price));
        __out.push('\n        </td>\n      <td>\n\t\t');
        if (this.orders.stateid === 1) {
          __out.push('\n\t\t\t- ¥<input type="text" name="returnnow" value="');
          __out.push(__sanitize($.trim(money(rec.returnnow))));
          __out.push('" />\n\t\t');
        } else {
          __out.push('\n\t\t\t- ¥');
          __out.push(__sanitize($.trim(money(rec.returnnow))));
          __out.push('\n\t\t');
        }
        __out.push('\n      </td>\n      <td>\n\t\t');
        if (this.orders.stateid === 1) {
          __out.push('\n\t\t\t+ ¥<input type="text" name="modlcharge" value="');
          __out.push(__sanitize($.trim(money(rec.modlcharge))));
          __out.push('" />\n\t\t');
        } else {
          __out.push('\n\t\t\t+ ¥');
          __out.push(__sanitize($.trim(money(rec.modlcharge))));
          __out.push('\n\t\t');
        }
        __out.push('\n        </td>\n        <td class="shipdate">\n\t\t');
        if (this.orders.stateid === 1) {
          __out.push('\n          <input type="text" name="shipdate" value="');
          __out.push(__sanitize(this.orders.shipdate));
          __out.push('" />天\n\t\t');
        } else {
          __out.push('\n\t\t\t');
          __out.push(__sanitize(this.orders.shipdate));
          __out.push('\n\t\t');
        }
        __out.push('\n          </td>\n    </tr>\n    ');
      }
    
      __out.push('\n    </tbody>\n  </table>\n<ul>\n  <li>\n\n    <label>\n      ');
    
      __out.push(__sanitize(this.orders.sumNumber()));
    
      __out.push('件商品，总商品金额：\n    </label>\n    <span>\n      <b>\n        ¥\n        ');
    
      __out.push(__sanitize(money(this.orders.sumPrice())));
    
      __out.push('\n        </b>\n    </span>\n  </li>\n  <li>\n\n    <label>返现：</label>\n    <span>\n      <b>- ¥');
    
      __out.push(__sanitize(money(this.orders.sumReturnnow())));
    
      __out.push('\n      </b>\n    </span>\n  </li>\n  <li>\n\n    <label>模具费：</label>\n    <span>\n      <b>\n        + ¥');
    
      __out.push(__sanitize(money(this.orders.sumModlcharge())));
    
      __out.push('\n        </b>\n    </span>\n  </li>\n  <li>\n\n    <label>运费：</label>\n    <span>\n      <b>\n        + ¥');
    
      __out.push(__sanitize(money(this.orders.carriagecharge)));
    
      __out.push('\n        </b>\n    </span>\n  </li>\n  <li>\n\n    <label>应付总额：</label>\n    <span>\n      <b>\n        ¥\n        ');
    
      __out.push(__sanitize(money(this.orders.total())));
    
      __out.push('\n        </b>\n      </span>\n    </li>\n    <li>\n     <span>\n        <b>\n          <button>取消订单</button>\n        </b>\n      </span>\n    </li>\n  </ul>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/orderproductsshow": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, k, len, money, pro, rec, ref, ref1, v;
    
      money = function(rmb) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize((new Number(rmb)).toFixed(2)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n  \n<p class="productlist"><b>商品清单</b></p>\n<table>\n  <thead>\n    <tr>\n      <th>商品编号</th>\n      <th>商品图片</th>\n      <th>商品名称</th>\n      <th>数量</th>\n      <th>云瑞价</th>\n        <th>返现</th>\n      <th>模具费</th>\n      <th>供货时间</th>\n    </tr>\n  </thead>\n  <tbody>\n    ');
    
      ref = this.orders.products;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        __out.push('\n    ');
        pro = this.products.find(rec.proid);
        __out.push('\n    <tr>\n      <td>\n        ');
        __out.push(__sanitize(pro.formatId()));
        __out.push('\n      </td>\n      <td>\n        <a class="showproduct" data-product="');
        __out.push(__sanitize(pro.id));
        __out.push('"><img src="images/good/');
        __out.push(__sanitize(pro.picture));
        __out.push('" /></a>\n      </td>\n      <td><a class="showproduct" data-product="');
        __out.push(__sanitize(pro.id));
        __out.push('">');
        __out.push(__sanitize(pro.longname));
        __out.push('<br />');
        __out.push(__sanitize(pro.size));
        __out.push('\n      </a>\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(rec.number));
        __out.push('<span class="form_hint">');
        ref1 = {
          "moldingnumber": "成型",
          "drynumber": "干燥",
          "firingnumber": "烧成",
          "packagenumber": "包装"
        };
        for (k in ref1) {
          v = ref1[k];
          if (rec[k] !== 0) {
            __out.push(v + ": " + rec[k] + "<br />");
          }
        }
        __out.push('</span>\n      </td>\n      <td>\n          ¥');
        __out.push(__sanitize(money(rec.price)));
        __out.push('\n        </td>\n      <td>\n        - ¥');
        __out.push(__sanitize(money(rec.returnnow)));
        __out.push('\n        </td>\n      <td>\n        + ¥');
        __out.push(__sanitize(money(rec.modlcharge)));
        __out.push('\n        </td>\n        <td class="shipdate">\n          ');
        __out.push(__sanitize(this.orders.shipdate));
        __out.push('天\n          </td>\n    </tr>\n    ');
      }
    
      __out.push('\n    </tbody>\n  </table>\n<ul>\n  <li>\n\n    <label>\n      ');
    
      __out.push(__sanitize(this.orders.sumNumber()));
    
      __out.push('件商品，总商品金额：\n    </label>\n    <span>\n      <b>\n        ¥\n        ');
    
      __out.push(__sanitize(money(this.orders.sumPrice())));
    
      __out.push('\n        </b>\n    </span>\n  </li>\n  <li>\n\n    <label>返现：</label>\n    <span>\n      <b>- ¥');
    
      __out.push(__sanitize(money(this.orders.sumReturnnow())));
    
      __out.push('\n      </b>\n    </span>\n  </li>\n  <li>\n\n    <label>模具费：</label>\n    <span>\n      <b>\n        + ¥');
    
      __out.push(__sanitize(money(this.orders.sumModlcharge())));
    
      __out.push('\n        </b>\n    </span>\n  </li>\n  <li>\n\n    <label>运费：</label>\n    <span>\n      <b>\n        + ¥');
    
      __out.push(__sanitize(money(this.orders.carriagecharge)));
    
      __out.push('\n        </b>\n    </span>\n  </li>\n  <li>\n\n    <label>应付总额：</label>\n    <span>\n      <b>\n        ¥\n        ');
    
      __out.push(__sanitize(money(this.orders.total())));
    
      __out.push('\n        </b>\n      </span>\n    </li>\n    <li>\n\n      <label>\n      </label>\n      <span>\n        <b>\n          <button>返回</button>\n        </b>\n      </span>\n    </li>\n  </ul>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/orders": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, len, ref;
    
      __out.push('<table>\n  <thead>\n    <th>订单号</th>\n    <th>订货人</th>\n    <th>订货数量</th>\n    <th>订货金额</th>\n    <th>交货期</th>\n    <th>订货时间</th>\n    <th>订单状态</th>\n  </thead>\n  <tbody>\n    ');
    
      ref = this;
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        __out.push('\n    <tr>\n      <td>\n        ');
        __out.push(__sanitize(item.code));
        __out.push('\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.customName()));
        __out.push('\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.sumNumber()));
        __out.push('\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.sumPrice()));
        __out.push('\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.shipdate));
        __out.push(' 天\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.time));
        __out.push('\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(item.stateName()));
        __out.push('\n      </td>\n   </tr>\n    ');
      }
    
      __out.push('\n  </tbody>\n</table>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/orderstate": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<div>\n  <dl>\n    <dt>编码：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.orderstate.id));
    
      __out.push('\n    </dd>\n    <dt>中文名称：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.orderstate.name));
    
      __out.push('\n    </dd>\n    <dt>英文名称：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.orderstate.name_en));
    
      __out.push('\n    </dd>\n    <dt>操作方：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize({
        'C': '客户',
        'S': '系统'
      }[this.orderstate.actor]));
    
      __out.push('\n      </dd>\n    <dt>客户端提示：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.orderstate.note));
    
      __out.push('\n    </dd>\n    <dt>系统端提示：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.orderstate.yrrnote));
    
      __out.push('\n    </dd>\n    <dt>状态：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.orderstate.state));
    
      __out.push('\n    </dd>\n  </dl>\n</div>\n<div></div>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/ordertransportedit": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var money;
    
      money = function(rmb) {
        return __capture(function() {
          __out.push('\n\t');
          __out.push(__sanitize((new Number(rmb)).toFixed(2)));
          return __out.push('\n');
        });
      };
    
      __out.push('\n<dl>\n  <dt>\n    <b>配送方式</b>\n  </dt>\n  <dd>\n    <label>配送方式:</label> ');
    
      __out.push(__sanitize(this.transports.name));
    
      __out.push('\n    </dd>\n    <dd>\n      <label>运费:</label> ¥');
    
      if (this.orders.stateid === 1) {
        __out.push('<input type="text" name="carriagecharge" value="');
        __out.push(__sanitize($.trim(money(this.orders.carriagecharge))));
        __out.push('" />');
      } else {
        __out.push(__sanitize($.trim(money(this.orders.carriagecharge))));
      }
    
      __out.push('\n    </dd>\n    </dl>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/ordertransportshow": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<dl>\n  <dt>\n    <b>配送方式</b>\n  </dt>\n  <dd>\n    <label>配送方式:</label> ');
    
      __out.push(__sanitize(this.transports.name));
    
      __out.push('\n    </dd>\n    <dd>\n      <label>运费:</label> ¥');
    
      __out.push(__sanitize((new Number(this.orders.carriagecharge)).toFixed(2)));
    
      __out.push('\n      </dd>\n    </dl>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/origin_trees": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var button, i, len, ref;
    
      __out.push('<div>');
    
      __out.push(__sanitize(this.title));
    
      __out.push('列表</div>\n<ul id="');
    
      __out.push(__sanitize(this.name));
    
      __out.push('Tree" class="ztree"></ul>\n');
    
      if (this.buttons.length > 0) {
        __out.push('\n<div>\n  ');
        ref = this.buttons;
        for (i = 0, len = ref.length; i < len; i++) {
          button = ref[i];
          __out.push("<button>" + button + "</button>");
        }
        __out.push('\n</div>\n');
      }
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/progresshistory": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var cur, i, image, index, item, j, len, len1, name, rec, ref, ref1, time;
    
      image = "";
    
      __out.push('\n');
    
      name = "";
    
      __out.push('\n');
    
      time = "";
    
      __out.push('\n');
    
      ref = this.states;
      for (index = i = 0, len = ref.length; i < len; index = ++i) {
        item = ref[index];
        __out.push('\n  ');
        cur = null;
        __out.push('\n  ');
        ref1 = this.status;
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          rec = ref1[j];
          if (parseInt(rec.stateid, 10) === parseInt(item.id, 10)) {
            cur = rec;
          }
        }
        __out.push('\n  ');
        if (cur != null) {
          __out.push('\n    ');
          if (index !== 0) {
            image += "<img src='images/cg2.png' />";
          }
          __out.push('\n    ');
          image += "<img src='images/cg1.png' />";
          __out.push('\n    ');
          name += "<span class='pass'>" + item.name + "</span>";
          __out.push('\n    ');
          time += "<span class='pass'>" + cur.time + "</span>";
          __out.push('\n  ');
        } else {
          __out.push('\n\t  ');
          if (index !== 0) {
            image += "<img src='images/cgr2.png' />";
          }
          __out.push('\n    ');
          image += "<img src='images/cgr1.png' />";
          __out.push('\n    ');
          name += "<span class='nopass'>" + item.name + "</span>";
          __out.push('\n  ');
        }
        __out.push('\n');
      }
    
      __out.push('\n<p>\n  ');
    
      __out.push(image);
    
      __out.push('\n</p>\n<p>\n  ');
    
      __out.push(name);
    
      __out.push('\n</p>\n<p>\n  ');
    
      __out.push(time);
    
      __out.push('\n</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/progressinfomation": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<ul>\n  <li>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push('</li>\n  <li>\n    订货时间：');
    
      __out.push(__sanitize(this.order.time.slice(0, 10)));
    
      __out.push('\n  </li>\n  <li>\n    供货时间：');
    
      __out.push(__sanitize(this.order.shipdate));
    
      __out.push('天\n  </li>\n</ul>\n\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/progressproductmold": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, j, k, len, len1, pro, rec, ref, ref1, ref2, v;
    
      __out.push('<p class="productlist"><b>产品清单</b></p>\n<table>\n  <thead>\n    <tr>\n      <th>商品编号</th>\n      <th>商品图片</th>\n      <th>商品名称</th>\n      <th>数量</th>\n      <th>完成数量</th>\n    </tr>\n  </thead>\n  <tbody>\n    ');
    
      ref = this.orders.products;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        __out.push('\n    ');
        ref1 = this.products;
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          item = ref1[j];
          if (parseInt(item.id, 10) === parseInt(rec.proid, 10)) {
            pro = item;
          }
        }
        __out.push('\n    <tr data-goodid="');
        __out.push(__sanitize(pro.id));
        __out.push('">\n      <td>\n        ');
        __out.push(__sanitize(pro.formatId()));
        __out.push('\n      </td>\n      <td>\n        <a class="showproduct"><img src="images/good/');
        __out.push(__sanitize(pro.picture));
        __out.push('" /></a>\n      </td>\n      <td><a class="showproduct">');
        __out.push(__sanitize(pro.longname));
        __out.push('<br />');
        __out.push(__sanitize(pro.size));
        __out.push('\n      </a>\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(rec.number));
        __out.push(' <span class="form_hint">');
        ref2 = {
          "moldingnumber": "成型",
          "drynumber": "干燥",
          "firingnumber": "烧成",
          "packagenumber": "包装"
        };
        for (k in ref2) {
          v = ref2[k];
          if (rec[k] !== 0) {
            __out.push(v + ": " + rec[k] + "<br />");
          }
        }
        __out.push('</span>\n      </td>\n      <td>\n        <input type="number" name="mold" />\n    </td>\n    </tr>\n    ');
      }
    
      __out.push('\n    </tbody>\n  </table>\n  ');
    
      if (this.orders.stateid === 8) {
        __out.push('\n    <div class=\'packinglist\'>\n    </div>\n');
      }
    
      __out.push('\n<div>\n  <button>进入下道工序</button>\n</div>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/progressproductpackage": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, j, k, len, len1, pro, rec, ref, ref1, ref2, v;
    
      __out.push('<p class="productlist"><b>产品清单</b></p>\n<table>\n  <thead>\n    <tr>\n      <th>商品编号</th>\n      <th>商品图片</th>\n      <th>商品名称</th>\n      <th>数量</th>\n      <th>完成数量</th>\n    </tr>\n  </thead>\n  <tbody>\n    ');
    
      ref = this.orders.products;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        __out.push('\n    ');
        ref1 = this.products;
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          item = ref1[j];
          if (parseInt(item.id, 10) === parseInt(rec.proid, 10)) {
            pro = item;
          }
        }
        __out.push('\n    <tr data-goodid="');
        __out.push(__sanitize(pro.id));
        __out.push('">\n      <td>\n        ');
        __out.push(__sanitize(pro.formatId()));
        __out.push('\n      </td>\n      <td>\n        <a class="showproduct"><img src="images/good/');
        __out.push(__sanitize(pro.picture));
        __out.push('" /></a>\n      </td>\n      <td><a class="showproduct">');
        __out.push(__sanitize(pro.longname));
        __out.push('<br />');
        __out.push(__sanitize(pro.size));
        __out.push('\n      </a>\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(rec.number));
        __out.push(' <span class="form_hint">');
        ref2 = {
          "moldingnumber": "成型",
          "drynumber": "干燥",
          "firingnumber": "烧成",
          "packagenumber": "包装"
        };
        for (k in ref2) {
          v = ref2[k];
          if (rec[k] !== 0) {
            __out.push(v + ": " + rec[k] + "<br />");
          }
        }
        __out.push('</span>\n      </td>\n      <td>\n        <input type="number" name="mold" />\n    </td>\n    </tr>\n    ');
      }
    
      __out.push('\n    </tbody>\n  </table>\n  ');
    
      if (this.orders.stateid === 8) {
        __out.push('\n    <div class=\'packinglist\'>\n    </div>\n');
      }
    
      __out.push('\n<div class=\'packinglist\'\n<div class=\'packinglisttrees\'\n  <div>包装列表</div>\n    <ul id="packinglistTree" class="ztree"></ul>\n    <div>\n      <button>加托盘</button>\n      <button>加纸箱</button>\n      <button>编辑</button>\n      <button>删除</button>\n    </div>\n  </div>\n</div>\n<div>\n  <button>进入下道工序</button>\n</div>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/progressproductprepare": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, j, len, len1, pro, rec, ref, ref1;
    
      __out.push('<p class="productlist"><b>产品清单</b></p>\n<table>\n  <thead>\n    <tr>\n      <th>商品编号</th>\n      <th>商品图片</th>\n      <th>商品名称</th>\n      <th>数量</th>\n      <th>状态</th>\n    </tr>\n  </thead>\n  <tbody>\n    ');
    
      ref = this.orders.products;
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        __out.push('\n    ');
        ref1 = this.products;
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          item = ref1[j];
          if (parseInt(item.id, 10) === parseInt(rec.proid, 10)) {
            pro = item;
          }
        }
        __out.push('\n    <tr>\n      <td>\n        ');
        __out.push(__sanitize(pro.formatId()));
        __out.push('\n      </td>\n      <td>\n        <a class="showproduct" data-product="');
        __out.push(__sanitize(pro.id));
        __out.push('"><img src="images/good/');
        __out.push(__sanitize(pro.picture));
        __out.push('" /></a>\n      </td>\n      <td><a class="showproduct" data-product="');
        __out.push(__sanitize(pro.id));
        __out.push('">');
        __out.push(__sanitize(pro.longname));
        __out.push('<br />');
        __out.push(__sanitize(pro.size));
        __out.push('\n      </a>\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(rec.number));
        __out.push('\n      </td>\n      <td>\n        <input type="checkbox" name="modl" />模具 <input type="checkbox" name="material" />原料\n    </td>\n    </tr>\n    ');
      }
    
      __out.push('\n    </tbody>\n  </table>\n<div>\n  <button>进入下道工序</button>\n</div>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/progressproductshow": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, j, k, l, len, len1, len2, pro, rec, ref, ref1, ref2, ref3, v;
    
      __out.push('<p class="productlist"><b>产品清单</b></p>\n<table>\n  <thead>\n    <tr>\n    ');
    
      ref = ['商品编号', '商品图片', '商品名称', '数量'];
      for (i = 0, len = ref.length; i < len; i++) {
        rec = ref[i];
        __out.push("<th>" + rec + "</th>");
      }
    
      __out.push('\n    </tr>\n  </thead>\n  <tbody>\n    ');
    
      ref1 = this.orders.products;
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        rec = ref1[j];
        __out.push('\n    ');
        ref2 = this.products;
        for (l = 0, len2 = ref2.length; l < len2; l++) {
          item = ref2[l];
          if (parseInt(item.id, 10) === parseInt(rec.proid, 10)) {
            pro = item;
          }
        }
        __out.push('\n    <tr>\n      <td>\n        ');
        __out.push(__sanitize(pro.formatId()));
        __out.push('\n      </td>\n      <td>\n        <a class="showproduct" data-product="');
        __out.push(__sanitize(pro.id));
        __out.push('"><img src="images/good/');
        __out.push(__sanitize(pro.picture));
        __out.push('" /></a>\n      </td>\n      <td><a class="showproduct" data-product="');
        __out.push(__sanitize(pro.id));
        __out.push('">');
        __out.push(__sanitize(pro.longname));
        __out.push('<br />');
        __out.push(__sanitize(pro.size));
        __out.push('\n      </a>\n      </td>\n      <td>\n        ');
        __out.push(__sanitize(rec.number));
        __out.push(' <span class="form_hint">');
        ref3 = {
          "moldingnumber": "成型",
          "drynumber": "干燥",
          "firingnumber": "烧成",
          "packagenumber": "包装"
        };
        for (k in ref3) {
          v = ref3[k];
          if (rec[k] !== 0) {
            __out.push(v + ": " + rec[k] + "<br />");
          }
        }
        __out.push('</span>\n      </td>\n    </tr>\n    ');
      }
    
      __out.push('\n    </tbody>\n  </table>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/qiye": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, j, len, len1, rec, ref, ref1;
    
      __out.push('  <p><label>\n    公司中文名称：\n  </label>');
    
      __out.push(__sanitize(this.qiyes.name));
    
      __out.push('</p>\n  <p><label>\n      公司英文名称：\n    </label>');
    
      __out.push(__sanitize(this.qiyes.name_en));
    
      __out.push('</p>\n  <p><label>\n        网站域名：\n      </label>');
    
      __out.push(__sanitize(this.qiyes.domain));
    
      __out.push('</p>\n  <p><label>\n        QQ：\n      </label>');
    
      __out.push(__sanitize(this.qiyes.qq));
    
      __out.push('</p>\n  <p><label>\n          电话：\n        </label>');
    
      __out.push(__sanitize(this.qiyes.tel));
    
      __out.push('</p>\n  <p><label>\n          传真：\n        </label>');
    
      __out.push(__sanitize(this.qiyes.fax));
    
      __out.push('</p>\n  <p><label>\n          公司中文地址：\n        </label>');
    
      __out.push(__sanitize(this.qiyes.address));
    
      __out.push('</p>\n  <p><label>\n            公司英文名称：\n          </label>');
    
      __out.push(__sanitize(this.qiyes.address_en));
    
      __out.push('</p>\n  <p><label>\n              邮件地址：\n            </label>');
    
      __out.push(__sanitize(this.qiyes.email));
    
      __out.push('</p>\n  <p><label>\n                技术部负责人：\n              </label>\n                ');
    
      ref = this.employees;
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        if (item.userid === this.qiyes.techid) {
          rec = item;
        }
      }
    
      __out.push('\n                  ');
    
      __out.push(__sanitize(rec != null ? rec.getName() : void 0));
    
      __out.push('</p>\n  <p><label>\n                业务部负责人：\n              </label>\n    ');
    
      ref1 = this.employees;
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        item = ref1[j];
        if (item.userid === this.qiyes.busiid) {
          rec = item;
        }
      }
    
      __out.push('\n                  ');
    
      __out.push(__sanitize(rec != null ? rec.getName() : void 0));
    
      __out.push('\n  </p>\n  <p><label>\n                备案号：\n              </label>');
    
      __out.push(__sanitize(this.qiyes.icp));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/sample": function(exports, require, module) { module.exports = function template(locals) {
var buf = [];
var jade_mixins = {};
var jade_interp;
;var locals_for_with = (locals || {});(function (version) {
buf.push("<h2>Welcome to Spine.js version " + (jade.escape((jade_interp = version) == null ? '' : jade_interp)) + "</h2><p>Time to get busy with this magic!</p>");}.call(this,"version" in locals_for_with?locals_for_with.version:typeof version!=="undefined"?version:undefined));;return buf.join("");
}; },"views/sidebar": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      var i, item, j, len, len1, op, ref, ref1, sub;
    
      __out.push('<header>\n  <a action-data="myyunrui">');
    
      __out.push(__sanitize("我的云瑞"));
    
      __out.push('</a> \n    <img src="images/option.png" />\n</header>\n<dl>\n  ');
    
      ref = this;
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        __out.push('\n    ');
        if (item.right) {
          __out.push('\n      <dt>\n        <b>');
          __out.push(__sanitize(item.name));
          __out.push('</b>\n      </dt>\n      ');
          op = (item.option.length - 1) * 2;
          __out.push('\n      ');
          ref1 = item.option;
          for (j = 0, len1 = ref1.length; j < len1; j++) {
            sub = ref1[j];
            __out.push('\n        ');
            if ((parseInt(item.right) & (3 << op)) !== 0) {
              __out.push('\n          <dd action-data="');
              __out.push(__sanitize(sub.action));
              __out.push('">\n            ');
              __out.push(__sanitize(sub.name));
              __out.push('\n          </dd>\n        ');
            }
            __out.push('\n        ');
            op = op - 2;
            __out.push('\n      ');
          }
          __out.push('\n    ');
        }
        __out.push('\n  ');
      }
    
      __out.push('\n</dl>');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/stateorderadvance": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span><span>\n  <button>已支付</button>\n  <button>查看合同</button>\n  <button>取消订单</button>\n</span>\n</P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/stateordercheck": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span><span>\n  <input type="checkbox" name="constract" />合同\n    <button class="passorder">审核通过</button> <button class="cancelorder">取消订单</button>\n</span>\n</P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/stateordercheck0": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span></P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/stateorderpayment": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span><span>\n  <button>已支付</button>\n  <button>查看合同</button>\n  <button>取消订单</button>\n</span>\n</P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/stateorderprint": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span><span>\n  <button>已签署</button>\n  <button>查看合同</button>\n  <button>取消订单</button>\n</span>\n</P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/stateorderqa": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span><span>\n  <button>已支付</button>\n  <button>查看合同</button>\n</span>\n</P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/stateorderreceive": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span><span>\n  <button>客户已收货</button>\n  <button>查看合同</button>\n  \n</span>\n</P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/stateorderreturned": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span><span></span>\n</P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/stateordership": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span><span>\n  <button>发货</button>\n  <button>查看合同</button>\n  <button>编写箱单/发票</button>\n  \n</span>\n</P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/stateordershow": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<P>订单号：');
    
      __out.push(__sanitize(this.order.code));
    
      __out.push(' <span>状态：<b>');
    
      __out.push(__sanitize(this.state.name));
    
      __out.push('</b></span><span></span>\n</P>\n<p>');
    
      __out.push(__sanitize(this.state.yrrnote));
    
      __out.push('</p>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; },"views/werehouse": function(exports, require, module) { var content = function(__obj) {
  if (!__obj) __obj = {};
  var __out = [], __capture = function(callback) {
    var out = __out, result;
    __out = [];
    callback.call(this);
    result = __out.join('');
    __out = out;
    return __safe(result);
  }, __sanitize = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else if (typeof value !== 'undefined' && value != null) {
      return __escape(value);
    } else {
      return '';
    }
  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;
  __safe = __obj.safe = function(value) {
    if (value && value.ecoSafe) {
      return value;
    } else {
      if (!(typeof value !== 'undefined' && value != null)) value = '';
      var result = new String(value);
      result.ecoSafe = true;
      return result;
    }
  };
  if (!__escape) {
    __escape = __obj.escape = function(value) {
      return ('' + value)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;');
    };
  }
  (function() {
    (function() {
      __out.push('<div>\n  <dl>\n    <dt>父结点：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.werehouse.longName()));
    
      __out.push('\n    </dd>\n    <dt>产品编码：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.werehouse.id || "no"));
    
      __out.push('\n    </dd>\n    <dt>名称：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.werehouse.name));
    
      __out.push('\n    </dd>\n    <dt>规格型号：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.werehouse.size));
    
      __out.push('\n    </dd>\n    <dt>单位：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.werehouse.unit));
    
      __out.push('\n    </dd>\n    <dt>数量：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.werehouse.number));
    
      __out.push('\n    </dd>\n    <dt>注释：</dt>\n    <dd>\n      ');
    
      __out.push(__sanitize(this.werehouse.note));
    
      __out.push('\n    </dd>\n  </dl>\n</div>\n  <div class=\'imageoption\'>\n  <img src=\'images/werehouse/');
    
      __out.push(__sanitize(this.werehouse.picture));
    
      __out.push('\' width=\'453\' height=\'267\' />\n</div>\n');
    
    }).call(this);
    
  }).call(__obj);
  __obj.safe = __objSafe, __obj.escape = __escape;
  return __out.join('');
};
module.exports = content; }
});


